(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var Go={exports:{}},Gn={},Zo={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ur=Symbol.for("react.element"),mu=Symbol.for("react.portal"),xu=Symbol.for("react.fragment"),pu=Symbol.for("react.strict_mode"),hu=Symbol.for("react.profiler"),fu=Symbol.for("react.provider"),gu=Symbol.for("react.context"),vu=Symbol.for("react.forward_ref"),yu=Symbol.for("react.suspense"),ju=Symbol.for("react.memo"),Nu=Symbol.for("react.lazy"),Aa=Symbol.iterator;function bu(e){return e===null||typeof e!="object"?null:(e=Aa&&e[Aa]||e["@@iterator"],typeof e=="function"?e:null)}var Wo={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yo=Object.assign,Xo={};function Os(e,s,r){this.props=e,this.context=s,this.refs=Xo,this.updater=r||Wo}Os.prototype.isReactComponent={};Os.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};Os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ko(){}Ko.prototype=Os.prototype;function Ml(e,s,r){this.props=e,this.context=s,this.refs=Xo,this.updater=r||Wo}var Ll=Ml.prototype=new Ko;Ll.constructor=Ml;Yo(Ll,Os.prototype);Ll.isPureReactComponent=!0;var Ta=Array.isArray,Jo=Object.prototype.hasOwnProperty,Fl={current:null},ec={key:!0,ref:!0,__self:!0,__source:!0};function tc(e,s,r){var n,i={},l=null,a=null;if(s!=null)for(n in s.ref!==void 0&&(a=s.ref),s.key!==void 0&&(l=""+s.key),s)Jo.call(s,n)&&!ec.hasOwnProperty(n)&&(i[n]=s[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),p=0;p<o;p++)c[p]=arguments[p+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Ur,type:e,key:l,ref:a,props:i,_owner:Fl.current}}function wu(e,s){return{$$typeof:Ur,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function $l(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ur}function Su(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var Ia=/\/+/g;function mi(e,s){return typeof e=="object"&&e!==null&&e.key!=null?Su(""+e.key):s.toString(36)}function dn(e,s,r,n,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ur:case mu:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+mi(a,0):n,Ta(i)?(r="",e!=null&&(r=e.replace(Ia,"$&/")+"/"),dn(i,s,r,"",function(p){return p})):i!=null&&($l(i)&&(i=wu(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ia,"$&/")+"/")+e)),s.push(i)),1;if(a=0,n=n===""?".":n+":",Ta(e))for(var o=0;o<e.length;o++){l=e[o];var c=n+mi(l,o);a+=dn(l,s,r,c,i)}else if(c=bu(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=n+mi(l,o++),a+=dn(l,s,r,c,i);else if(l==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return a}function Hr(e,s,r){if(e==null)return e;var n=[],i=0;return dn(e,n,"","",function(l){return s.call(r,l,i++)}),n}function ku(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},un={transition:null},Cu={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:un,ReactCurrentOwner:Fl};function sc(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Hr,forEach:function(e,s,r){Hr(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return Hr(e,function(){s++}),s},toArray:function(e){return Hr(e,function(s){return s})||[]},only:function(e){if(!$l(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Os;W.Fragment=xu;W.Profiler=hu;W.PureComponent=Ml;W.StrictMode=pu;W.Suspense=yu;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cu;W.act=sc;W.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Yo({},e.props),i=e.key,l=e.ref,a=e._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,a=Fl.current),s.key!==void 0&&(i=""+s.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in s)Jo.call(s,c)&&!ec.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var p=0;p<c;p++)o[p]=arguments[p+2];n.children=o}return{$$typeof:Ur,type:e.type,key:i,ref:l,props:n,_owner:a}};W.createContext=function(e){return e={$$typeof:gu,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fu,_context:e},e.Consumer=e};W.createElement=tc;W.createFactory=function(e){var s=tc.bind(null,e);return s.type=e,s};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:vu,render:e}};W.isValidElement=$l;W.lazy=function(e){return{$$typeof:Nu,_payload:{_status:-1,_result:e},_init:ku}};W.memo=function(e,s){return{$$typeof:ju,type:e,compare:s===void 0?null:s}};W.startTransition=function(e){var s=un.transition;un.transition={};try{e()}finally{un.transition=s}};W.unstable_act=sc;W.useCallback=function(e,s){return ze.current.useCallback(e,s)};W.useContext=function(e){return ze.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};W.useEffect=function(e,s){return ze.current.useEffect(e,s)};W.useId=function(){return ze.current.useId()};W.useImperativeHandle=function(e,s,r){return ze.current.useImperativeHandle(e,s,r)};W.useInsertionEffect=function(e,s){return ze.current.useInsertionEffect(e,s)};W.useLayoutEffect=function(e,s){return ze.current.useLayoutEffect(e,s)};W.useMemo=function(e,s){return ze.current.useMemo(e,s)};W.useReducer=function(e,s,r){return ze.current.useReducer(e,s,r)};W.useRef=function(e){return ze.current.useRef(e)};W.useState=function(e){return ze.current.useState(e)};W.useSyncExternalStore=function(e,s,r){return ze.current.useSyncExternalStore(e,s,r)};W.useTransition=function(){return ze.current.useTransition()};W.version="18.3.1";Zo.exports=W;var T=Zo.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pu=T,Du=Symbol.for("react.element"),zu=Symbol.for("react.fragment"),_u=Object.prototype.hasOwnProperty,Eu=Pu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Au={key:!0,ref:!0,__self:!0,__source:!0};function rc(e,s,r){var n,i={},l=null,a=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(a=s.ref);for(n in s)_u.call(s,n)&&!Au.hasOwnProperty(n)&&(i[n]=s[n]);if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Du,type:e,key:l,ref:a,props:i,_owner:Eu.current}}Gn.Fragment=zu;Gn.jsx=rc;Gn.jsxs=rc;Go.exports=Gn;var t=Go.exports,nc={exports:{}},Ue={},ic={exports:{}},lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(D,E){var g=D.length;D.push(E);e:for(;0<g;){var H=g-1>>>1,k=D[H];if(0<i(k,E))D[H]=E,D[g]=k,g=H;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var E=D[0],g=D.pop();if(g!==E){D[0]=g;e:for(var H=0,k=D.length,$=k>>>1;H<$;){var F=2*(H+1)-1,V=D[F],Z=F+1,J=D[Z];if(0>i(V,g))Z<k&&0>i(J,V)?(D[H]=J,D[Z]=g,H=Z):(D[H]=V,D[F]=g,H=F);else if(Z<k&&0>i(J,g))D[H]=J,D[Z]=g,H=Z;else break e}}return E}function i(D,E){var g=D.sortIndex-E.sortIndex;return g!==0?g:D.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],p=[],v=1,N=null,y=3,P=!1,_=!1,A=!1,Q=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(D){for(var E=r(p);E!==null;){if(E.callback===null)n(p);else if(E.startTime<=D)n(p),E.sortIndex=E.expirationTime,s(c,E);else break;E=r(p)}}function h(D){if(A=!1,u(D),!_)if(r(c)!==null)_=!0,q(j);else{var E=r(p);E!==null&&L(h,E.startTime-D)}}function j(D,E){_=!1,A&&(A=!1,m(b),b=-1),P=!0;var g=y;try{for(u(E),N=r(c);N!==null&&(!(N.expirationTime>E)||D&&!G());){var H=N.callback;if(typeof H=="function"){N.callback=null,y=N.priorityLevel;var k=H(N.expirationTime<=E);E=e.unstable_now(),typeof k=="function"?N.callback=k:N===r(c)&&n(c),u(E)}else n(c);N=r(c)}if(N!==null)var $=!0;else{var F=r(p);F!==null&&L(h,F.startTime-E),$=!1}return $}finally{N=null,y=g,P=!1}}var f=!1,d=null,b=-1,C=5,I=-1;function G(){return!(e.unstable_now()-I<C)}function S(){if(d!==null){var D=e.unstable_now();I=D;var E=!0;try{E=d(!0,D)}finally{E?M():(f=!1,d=null)}}else f=!1}var M;if(typeof x=="function")M=function(){x(S)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,z=w.port2;w.port1.onmessage=S,M=function(){z.postMessage(null)}}else M=function(){Q(S,0)};function q(D){d=D,f||(f=!0,M())}function L(D,E){b=Q(function(){D(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){_||P||(_=!0,q(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(y){case 1:case 2:case 3:var E=3;break;default:E=y}var g=y;y=E;try{return D()}finally{y=g}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,E){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var g=y;y=D;try{return E()}finally{y=g}},e.unstable_scheduleCallback=function(D,E,g){var H=e.unstable_now();switch(typeof g=="object"&&g!==null?(g=g.delay,g=typeof g=="number"&&0<g?H+g:H):g=H,D){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=g+k,D={id:v++,callback:E,priorityLevel:D,startTime:g,expirationTime:k,sortIndex:-1},g>H?(D.sortIndex=g,s(p,D),r(c)===null&&D===r(p)&&(A?(m(b),b=-1):A=!0,L(h,g-H))):(D.sortIndex=k,s(c,D),_||P||(_=!0,q(j))),D},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(D){var E=y;return function(){var g=y;y=E;try{return D.apply(this,arguments)}finally{y=g}}}})(lc);ic.exports=lc;var Tu=ic.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu=T,$e=Tu;function R(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ac=new Set,jr={};function us(e,s){As(e,s),As(e+"Capture",s)}function As(e,s){for(jr[e]=s,e=0;e<s.length;e++)ac.add(s[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ui=Object.prototype.hasOwnProperty,Ru=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ra={},Ma={};function Mu(e){return Ui.call(Ma,e)?!0:Ui.call(Ra,e)?!1:Ru.test(e)?Ma[e]=!0:(Ra[e]=!0,!1)}function Lu(e,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fu(e,s,r,n){if(s===null||typeof s>"u"||Lu(e,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _e(e,s,r,n,i,l,a){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=l,this.removeEmptyString=a}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];je[s]=new _e(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ul=/[\-:]([a-z])/g;function ql(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(Ul,ql);je[s]=new _e(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(Ul,ql);je[s]=new _e(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(Ul,ql);je[s]=new _e(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ol(e,s,r,n){var i=je.hasOwnProperty(s)?je[s]:null;(i!==null?i.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(Fu(s,r,i,n)&&(r=null),n||i===null?Mu(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(s=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(s):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,s,r):e.setAttribute(s,r))))}var Pt=Iu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gr=Symbol.for("react.element"),ps=Symbol.for("react.portal"),hs=Symbol.for("react.fragment"),Bl=Symbol.for("react.strict_mode"),qi=Symbol.for("react.profiler"),oc=Symbol.for("react.provider"),cc=Symbol.for("react.context"),Vl=Symbol.for("react.forward_ref"),Oi=Symbol.for("react.suspense"),Bi=Symbol.for("react.suspense_list"),Ql=Symbol.for("react.memo"),zt=Symbol.for("react.lazy"),dc=Symbol.for("react.offscreen"),La=Symbol.iterator;function Hs(e){return e===null||typeof e!="object"?null:(e=La&&e[La]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,xi;function sr(e){if(xi===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);xi=s&&s[1]||""}return`
`+xi+e}var pi=!1;function hi(e,s){if(!e||pi)return"";pi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(p){var n=p}Reflect.construct(e,[],s)}else{try{s.call()}catch(p){n=p}e.call(s.prototype)}else{try{throw Error()}catch(p){n=p}e()}}catch(p){if(p&&n&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),l=n.stack.split(`
`),a=i.length-1,o=l.length-1;1<=a&&0<=o&&i[a]!==l[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==l[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==l[o]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{pi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sr(e):""}function $u(e){switch(e.tag){case 5:return sr(e.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 2:case 15:return e=hi(e.type,!1),e;case 11:return e=hi(e.type.render,!1),e;case 1:return e=hi(e.type,!0),e;default:return""}}function Vi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hs:return"Fragment";case ps:return"Portal";case qi:return"Profiler";case Bl:return"StrictMode";case Oi:return"Suspense";case Bi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cc:return(e.displayName||"Context")+".Consumer";case oc:return(e._context.displayName||"Context")+".Provider";case Vl:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ql:return s=e.displayName||null,s!==null?s:Vi(e.type)||"Memo";case zt:s=e._payload,e=e._init;try{return Vi(e(s))}catch{}}return null}function Uu(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vi(s);case 8:return s===Bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Vt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uc(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qu(e){var s=uc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),n=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,l=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,l.call(this,a)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Zr(e){e._valueTracker||(e._valueTracker=qu(e))}function mc(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return e&&(n=uc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(s.setValue(e),!0):!1}function bn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qi(e,s){var r=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fa(e,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=Vt(s.value!=null?s.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function xc(e,s){s=s.checked,s!=null&&Ol(e,"checked",s,!1)}function Hi(e,s){xc(e,s);var r=Vt(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?Gi(e,s.type,r):s.hasOwnProperty("defaultValue")&&Gi(e,s.type,Vt(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function $a(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Gi(e,s,r){(s!=="number"||bn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rr=Array.isArray;function Cs(e,s,r,n){if(e=e.options,s){s={};for(var i=0;i<r.length;i++)s["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=s.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Vt(r),s=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}s!==null||e[i].disabled||(s=e[i])}s!==null&&(s.selected=!0)}}function Zi(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(R(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ua(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(R(92));if(rr(r)){if(1<r.length)throw Error(R(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:Vt(r)}}function pc(e,s){var r=Vt(s.value),n=Vt(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function qa(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function hc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wi(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?hc(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wr,fc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(s,r,n,i)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(Wr=Wr||document.createElement("div"),Wr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Wr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function Nr(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ou=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(e){Ou.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),ar[s]=ar[e]})});function gc(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||ar.hasOwnProperty(e)&&ar[e]?(""+s).trim():s+"px"}function vc(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=gc(r,s[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Bu=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yi(e,s){if(s){if(Bu[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(R(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(R(61))}if(s.style!=null&&typeof s.style!="object")throw Error(R(62))}}function Xi(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ki=null;function Hl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ji=null,Ps=null,Ds=null;function Oa(e){if(e=Br(e)){if(typeof Ji!="function")throw Error(R(280));var s=e.stateNode;s&&(s=Kn(s),Ji(e.stateNode,e.type,s))}}function yc(e){Ps?Ds?Ds.push(e):Ds=[e]:Ps=e}function jc(){if(Ps){var e=Ps,s=Ds;if(Ds=Ps=null,Oa(e),s)for(e=0;e<s.length;e++)Oa(s[e])}}function Nc(e,s){return e(s)}function bc(){}var fi=!1;function wc(e,s,r){if(fi)return e(s,r);fi=!0;try{return Nc(e,s,r)}finally{fi=!1,(Ps!==null||Ds!==null)&&(bc(),jc())}}function br(e,s){var r=e.stateNode;if(r===null)return null;var n=Kn(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,s,typeof r));return r}var el=!1;if(bt)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){el=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{el=!1}function Vu(e,s,r,n,i,l,a,o,c){var p=Array.prototype.slice.call(arguments,3);try{s.apply(r,p)}catch(v){this.onError(v)}}var or=!1,wn=null,Sn=!1,tl=null,Qu={onError:function(e){or=!0,wn=e}};function Hu(e,s,r,n,i,l,a,o,c){or=!1,wn=null,Vu.apply(Qu,arguments)}function Gu(e,s,r,n,i,l,a,o,c){if(Hu.apply(this,arguments),or){if(or){var p=wn;or=!1,wn=null}else throw Error(R(198));Sn||(Sn=!0,tl=p)}}function ms(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function Sc(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Ba(e){if(ms(e)!==e)throw Error(R(188))}function Zu(e){var s=e.alternate;if(!s){if(s=ms(e),s===null)throw Error(R(188));return s!==e?null:e}for(var r=e,n=s;;){var i=r.return;if(i===null)break;var l=i.alternate;if(l===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===r)return Ba(i),e;if(l===n)return Ba(i),s;l=l.sibling}throw Error(R(188))}if(r.return!==n.return)r=i,n=l;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=l;break}if(o===n){a=!0,n=i,r=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===r){a=!0,r=l,n=i;break}if(o===n){a=!0,n=l,r=i;break}o=o.sibling}if(!a)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:s}function kc(e){return e=Zu(e),e!==null?Cc(e):null}function Cc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=Cc(e);if(s!==null)return s;e=e.sibling}return null}var Pc=$e.unstable_scheduleCallback,Va=$e.unstable_cancelCallback,Wu=$e.unstable_shouldYield,Yu=$e.unstable_requestPaint,de=$e.unstable_now,Xu=$e.unstable_getCurrentPriorityLevel,Gl=$e.unstable_ImmediatePriority,Dc=$e.unstable_UserBlockingPriority,kn=$e.unstable_NormalPriority,Ku=$e.unstable_LowPriority,zc=$e.unstable_IdlePriority,Zn=null,ot=null;function Ju(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Zn,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:s0,e0=Math.log,t0=Math.LN2;function s0(e){return e>>>=0,e===0?32:31-(e0(e)/t0|0)|0}var Yr=64,Xr=4194304;function nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cn(e,s){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,l=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=nr(o):(l&=a,l!==0&&(n=nr(l)))}else a=r&~i,a!==0?n=nr(a):l!==0&&(n=nr(l));if(n===0)return 0;if(s!==0&&s!==n&&!(s&i)&&(i=n&-n,l=s&-s,i>=l||i===16&&(l&4194240)!==0))return s;if(n&4&&(n|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=n;0<s;)r=31-tt(s),i=1<<r,n|=e[r],s&=~i;return n}function r0(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n0(e,s){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-tt(l),o=1<<a,c=i[a];c===-1?(!(o&r)||o&n)&&(i[a]=r0(o,s)):c<=s&&(e.expiredLanes|=o),l&=~o}}function sl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _c(){var e=Yr;return Yr<<=1,!(Yr&4194240)&&(Yr=64),e}function gi(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function qr(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-tt(s),e[s]=r}function i0(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-tt(r),l=1<<i;s[i]=0,n[i]=-1,e[i]=-1,r&=~l}}function Zl(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var n=31-tt(r),i=1<<n;i&s|e[n]&s&&(e[n]|=s),r&=~i}}var K=0;function Ec(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ac,Wl,Tc,Ic,Rc,rl=!1,Kr=[],Rt=null,Mt=null,Lt=null,wr=new Map,Sr=new Map,Et=[],l0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(e,s){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":wr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sr.delete(s.pointerId)}}function Zs(e,s,r,n,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[i]},s!==null&&(s=Br(s),s!==null&&Wl(s)),e):(e.eventSystemFlags|=n,s=e.targetContainers,i!==null&&s.indexOf(i)===-1&&s.push(i),e)}function a0(e,s,r,n,i){switch(s){case"focusin":return Rt=Zs(Rt,e,s,r,n,i),!0;case"dragenter":return Mt=Zs(Mt,e,s,r,n,i),!0;case"mouseover":return Lt=Zs(Lt,e,s,r,n,i),!0;case"pointerover":var l=i.pointerId;return wr.set(l,Zs(wr.get(l)||null,e,s,r,n,i)),!0;case"gotpointercapture":return l=i.pointerId,Sr.set(l,Zs(Sr.get(l)||null,e,s,r,n,i)),!0}return!1}function Mc(e){var s=Kt(e.target);if(s!==null){var r=ms(s);if(r!==null){if(s=r.tag,s===13){if(s=Sc(r),s!==null){e.blockedOn=s,Rc(e.priority,function(){Tc(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mn(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=nl(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ki=n,r.target.dispatchEvent(n),Ki=null}else return s=Br(r),s!==null&&Wl(s),e.blockedOn=r,!1;s.shift()}return!0}function Ha(e,s,r){mn(e)&&r.delete(s)}function o0(){rl=!1,Rt!==null&&mn(Rt)&&(Rt=null),Mt!==null&&mn(Mt)&&(Mt=null),Lt!==null&&mn(Lt)&&(Lt=null),wr.forEach(Ha),Sr.forEach(Ha)}function Ws(e,s){e.blockedOn===s&&(e.blockedOn=null,rl||(rl=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,o0)))}function kr(e){function s(i){return Ws(i,e)}if(0<Kr.length){Ws(Kr[0],e);for(var r=1;r<Kr.length;r++){var n=Kr[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Rt!==null&&Ws(Rt,e),Mt!==null&&Ws(Mt,e),Lt!==null&&Ws(Lt,e),wr.forEach(s),Sr.forEach(s),r=0;r<Et.length;r++)n=Et[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Et.length&&(r=Et[0],r.blockedOn===null);)Mc(r),r.blockedOn===null&&Et.shift()}var zs=Pt.ReactCurrentBatchConfig,Pn=!0;function c0(e,s,r,n){var i=K,l=zs.transition;zs.transition=null;try{K=1,Yl(e,s,r,n)}finally{K=i,zs.transition=l}}function d0(e,s,r,n){var i=K,l=zs.transition;zs.transition=null;try{K=4,Yl(e,s,r,n)}finally{K=i,zs.transition=l}}function Yl(e,s,r,n){if(Pn){var i=nl(e,s,r,n);if(i===null)Pi(e,s,n,Dn,r),Qa(e,n);else if(a0(i,e,s,r,n))n.stopPropagation();else if(Qa(e,n),s&4&&-1<l0.indexOf(e)){for(;i!==null;){var l=Br(i);if(l!==null&&Ac(l),l=nl(e,s,r,n),l===null&&Pi(e,s,n,Dn,r),l===i)break;i=l}i!==null&&n.stopPropagation()}else Pi(e,s,n,null,r)}}var Dn=null;function nl(e,s,r,n){if(Dn=null,e=Hl(n),e=Kt(e),e!==null)if(s=ms(e),s===null)e=null;else if(r=s.tag,r===13){if(e=Sc(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return Dn=e,null}function Lc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xu()){case Gl:return 1;case Dc:return 4;case kn:case Ku:return 16;case zc:return 536870912;default:return 16}default:return 16}}var Tt=null,Xl=null,xn=null;function Fc(){if(xn)return xn;var e,s=Xl,r=s.length,n,i="value"in Tt?Tt.value:Tt.textContent,l=i.length;for(e=0;e<r&&s[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&s[r-n]===i[l-n];n++);return xn=i.slice(e,1<n?1-n:void 0)}function pn(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Jr(){return!0}function Ga(){return!1}function qe(e){function s(r,n,i,l,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Jr:Ga,this.isPropagationStopped=Ga,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),s}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=qe(Bs),Or=oe({},Bs,{view:0,detail:0}),u0=qe(Or),vi,yi,Ys,Wn=oe({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(vi=e.screenX-Ys.screenX,yi=e.screenY-Ys.screenY):yi=vi=0,Ys=e),vi)},movementY:function(e){return"movementY"in e?e.movementY:yi}}),Za=qe(Wn),m0=oe({},Wn,{dataTransfer:0}),x0=qe(m0),p0=oe({},Or,{relatedTarget:0}),ji=qe(p0),h0=oe({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),f0=qe(h0),g0=oe({},Bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),v0=qe(g0),y0=oe({},Bs,{data:0}),Wa=qe(y0),j0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w0(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=b0[e])?!!s[e]:!1}function Jl(){return w0}var S0=oe({},Or,{key:function(e){if(e.key){var s=j0[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=pn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jl,charCode:function(e){return e.type==="keypress"?pn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k0=qe(S0),C0=oe({},Wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ya=qe(C0),P0=oe({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jl}),D0=qe(P0),z0=oe({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),_0=qe(z0),E0=oe({},Wn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A0=qe(E0),T0=[9,13,27,32],ea=bt&&"CompositionEvent"in window,cr=null;bt&&"documentMode"in document&&(cr=document.documentMode);var I0=bt&&"TextEvent"in window&&!cr,$c=bt&&(!ea||cr&&8<cr&&11>=cr),Xa=" ",Ka=!1;function Uc(e,s){switch(e){case"keyup":return T0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fs=!1;function R0(e,s){switch(e){case"compositionend":return qc(s);case"keypress":return s.which!==32?null:(Ka=!0,Xa);case"textInput":return e=s.data,e===Xa&&Ka?null:e;default:return null}}function M0(e,s){if(fs)return e==="compositionend"||!ea&&Uc(e,s)?(e=Fc(),xn=Xl=Tt=null,fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $c&&s.locale!=="ko"?null:s.data;default:return null}}var L0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ja(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!L0[e.type]:s==="textarea"}function Oc(e,s,r,n){yc(n),s=zn(s,"onChange"),0<s.length&&(r=new Kl("onChange","change",null,r,n),e.push({event:r,listeners:s}))}var dr=null,Cr=null;function F0(e){Jc(e,0)}function Yn(e){var s=ys(e);if(mc(s))return e}function $0(e,s){if(e==="change")return s}var Bc=!1;if(bt){var Ni;if(bt){var bi="oninput"in document;if(!bi){var eo=document.createElement("div");eo.setAttribute("oninput","return;"),bi=typeof eo.oninput=="function"}Ni=bi}else Ni=!1;Bc=Ni&&(!document.documentMode||9<document.documentMode)}function to(){dr&&(dr.detachEvent("onpropertychange",Vc),Cr=dr=null)}function Vc(e){if(e.propertyName==="value"&&Yn(Cr)){var s=[];Oc(s,Cr,e,Hl(e)),wc(F0,s)}}function U0(e,s,r){e==="focusin"?(to(),dr=s,Cr=r,dr.attachEvent("onpropertychange",Vc)):e==="focusout"&&to()}function q0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yn(Cr)}function O0(e,s){if(e==="click")return Yn(s)}function B0(e,s){if(e==="input"||e==="change")return Yn(s)}function V0(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var rt=typeof Object.is=="function"?Object.is:V0;function Pr(e,s){if(rt(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ui.call(s,i)||!rt(e[i],s[i]))return!1}return!0}function so(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ro(e,s){var r=so(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=s&&n>=s)return{node:r,offset:s-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=so(r)}}function Qc(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Qc(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Hc(){for(var e=window,s=bn();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=bn(e.document)}return s}function ta(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Q0(e){var s=Hc(),r=e.focusedElem,n=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&Qc(r.ownerDocument.documentElement,r)){if(n!==null&&ta(r)){if(s=n.start,e=n.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,l=Math.min(n.start,i);n=n.end===void 0?l:Math.min(n.end,i),!e.extend&&l>n&&(i=n,n=l,l=i),i=ro(r,l);var a=ro(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(s=s.createRange(),s.setStart(i.node,i.offset),e.removeAllRanges(),l>n?(e.addRange(s),e.extend(a.node,a.offset)):(s.setEnd(a.node,a.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var H0=bt&&"documentMode"in document&&11>=document.documentMode,gs=null,il=null,ur=null,ll=!1;function no(e,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ll||gs==null||gs!==bn(n)||(n=gs,"selectionStart"in n&&ta(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ur&&Pr(ur,n)||(ur=n,n=zn(il,"onSelect"),0<n.length&&(s=new Kl("onSelect","select",null,s,r),e.push({event:s,listeners:n}),s.target=gs)))}function en(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var vs={animationend:en("Animation","AnimationEnd"),animationiteration:en("Animation","AnimationIteration"),animationstart:en("Animation","AnimationStart"),transitionend:en("Transition","TransitionEnd")},wi={},Gc={};bt&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Xn(e){if(wi[e])return wi[e];if(!vs[e])return e;var s=vs[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in Gc)return wi[e]=s[r];return e}var Zc=Xn("animationend"),Wc=Xn("animationiteration"),Yc=Xn("animationstart"),Xc=Xn("transitionend"),Kc=new Map,io="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(e,s){Kc.set(e,s),us(s,[e])}for(var Si=0;Si<io.length;Si++){var ki=io[Si],G0=ki.toLowerCase(),Z0=ki[0].toUpperCase()+ki.slice(1);Gt(G0,"on"+Z0)}Gt(Zc,"onAnimationEnd");Gt(Wc,"onAnimationIteration");Gt(Yc,"onAnimationStart");Gt("dblclick","onDoubleClick");Gt("focusin","onFocus");Gt("focusout","onBlur");Gt(Xc,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ir));function lo(e,s,r){var n=e.type||"unknown-event";e.currentTarget=r,Gu(n,s,void 0,e),e.currentTarget=null}function Jc(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var l=void 0;if(s)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,p=o.currentTarget;if(o=o.listener,c!==l&&i.isPropagationStopped())break e;lo(i,o,p),l=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,p=o.currentTarget,o=o.listener,c!==l&&i.isPropagationStopped())break e;lo(i,o,p),l=c}}}if(Sn)throw e=tl,Sn=!1,tl=null,e}function te(e,s){var r=s[ul];r===void 0&&(r=s[ul]=new Set);var n=e+"__bubble";r.has(n)||(ed(s,e,2,!1),r.add(n))}function Ci(e,s,r){var n=0;s&&(n|=4),ed(r,e,n,s)}var tn="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[tn]){e[tn]=!0,ac.forEach(function(r){r!=="selectionchange"&&(W0.has(r)||Ci(r,!1,e),Ci(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[tn]||(s[tn]=!0,Ci("selectionchange",!1,s))}}function ed(e,s,r,n){switch(Lc(s)){case 1:var i=c0;break;case 4:i=d0;break;default:i=Yl}r=i.bind(null,s,r,e),i=void 0,!el||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(s,r,{capture:!0,passive:i}):e.addEventListener(s,r,!0):i!==void 0?e.addEventListener(s,r,{passive:i}):e.addEventListener(s,r,!1)}function Pi(e,s,r,n,i){var l=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Kt(o),a===null)return;if(c=a.tag,c===5||c===6){n=l=a;continue e}o=o.parentNode}}n=n.return}wc(function(){var p=l,v=Hl(r),N=[];e:{var y=Kc.get(e);if(y!==void 0){var P=Kl,_=e;switch(e){case"keypress":if(pn(r)===0)break e;case"keydown":case"keyup":P=k0;break;case"focusin":_="focus",P=ji;break;case"focusout":_="blur",P=ji;break;case"beforeblur":case"afterblur":P=ji;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=x0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=D0;break;case Zc:case Wc:case Yc:P=f0;break;case Xc:P=_0;break;case"scroll":P=u0;break;case"wheel":P=A0;break;case"copy":case"cut":case"paste":P=v0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Ya}var A=(s&4)!==0,Q=!A&&e==="scroll",m=A?y!==null?y+"Capture":null:y;A=[];for(var x=p,u;x!==null;){u=x;var h=u.stateNode;if(u.tag===5&&h!==null&&(u=h,m!==null&&(h=br(x,m),h!=null&&A.push(zr(x,h,u)))),Q)break;x=x.return}0<A.length&&(y=new P(y,_,null,r,v),N.push({event:y,listeners:A}))}}if(!(s&7)){e:{if(y=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",y&&r!==Ki&&(_=r.relatedTarget||r.fromElement)&&(Kt(_)||_[wt]))break e;if((P||y)&&(y=v.window===v?v:(y=v.ownerDocument)?y.defaultView||y.parentWindow:window,P?(_=r.relatedTarget||r.toElement,P=p,_=_?Kt(_):null,_!==null&&(Q=ms(_),_!==Q||_.tag!==5&&_.tag!==6)&&(_=null)):(P=null,_=p),P!==_)){if(A=Za,h="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(A=Ya,h="onPointerLeave",m="onPointerEnter",x="pointer"),Q=P==null?y:ys(P),u=_==null?y:ys(_),y=new A(h,x+"leave",P,r,v),y.target=Q,y.relatedTarget=u,h=null,Kt(v)===p&&(A=new A(m,x+"enter",_,r,v),A.target=u,A.relatedTarget=Q,h=A),Q=h,P&&_)t:{for(A=P,m=_,x=0,u=A;u;u=xs(u))x++;for(u=0,h=m;h;h=xs(h))u++;for(;0<x-u;)A=xs(A),x--;for(;0<u-x;)m=xs(m),u--;for(;x--;){if(A===m||m!==null&&A===m.alternate)break t;A=xs(A),m=xs(m)}A=null}else A=null;P!==null&&ao(N,y,P,A,!1),_!==null&&Q!==null&&ao(N,Q,_,A,!0)}}e:{if(y=p?ys(p):window,P=y.nodeName&&y.nodeName.toLowerCase(),P==="select"||P==="input"&&y.type==="file")var j=$0;else if(Ja(y))if(Bc)j=B0;else{j=q0;var f=U0}else(P=y.nodeName)&&P.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(j=O0);if(j&&(j=j(e,p))){Oc(N,j,r,v);break e}f&&f(e,y,p),e==="focusout"&&(f=y._wrapperState)&&f.controlled&&y.type==="number"&&Gi(y,"number",y.value)}switch(f=p?ys(p):window,e){case"focusin":(Ja(f)||f.contentEditable==="true")&&(gs=f,il=p,ur=null);break;case"focusout":ur=il=gs=null;break;case"mousedown":ll=!0;break;case"contextmenu":case"mouseup":case"dragend":ll=!1,no(N,r,v);break;case"selectionchange":if(H0)break;case"keydown":case"keyup":no(N,r,v)}var d;if(ea)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else fs?Uc(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&($c&&r.locale!=="ko"&&(fs||b!=="onCompositionStart"?b==="onCompositionEnd"&&fs&&(d=Fc()):(Tt=v,Xl="value"in Tt?Tt.value:Tt.textContent,fs=!0)),f=zn(p,b),0<f.length&&(b=new Wa(b,e,null,r,v),N.push({event:b,listeners:f}),d?b.data=d:(d=qc(r),d!==null&&(b.data=d)))),(d=I0?R0(e,r):M0(e,r))&&(p=zn(p,"onBeforeInput"),0<p.length&&(v=new Wa("onBeforeInput","beforeinput",null,r,v),N.push({event:v,listeners:p}),v.data=d))}Jc(N,s)})}function zr(e,s,r){return{instance:e,listener:s,currentTarget:r}}function zn(e,s){for(var r=s+"Capture",n=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=br(e,r),l!=null&&n.unshift(zr(e,l,i)),l=br(e,s),l!=null&&n.push(zr(e,l,i))),e=e.return}return n}function xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ao(e,s,r,n,i){for(var l=s._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,p=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&p!==null&&(o=p,i?(c=br(r,l),c!=null&&a.unshift(zr(r,c,o))):i||(c=br(r,l),c!=null&&a.push(zr(r,c,o)))),r=r.return}a.length!==0&&e.push({event:s,listeners:a})}var Y0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function oo(e){return(typeof e=="string"?e:""+e).replace(Y0,`
`).replace(X0,"")}function sn(e,s,r){if(s=oo(s),oo(e)!==s&&r)throw Error(R(425))}function _n(){}var al=null,ol=null;function cl(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dl=typeof setTimeout=="function"?setTimeout:void 0,K0=typeof clearTimeout=="function"?clearTimeout:void 0,co=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof co<"u"?function(e){return co.resolve(null).then(e).catch(em)}:dl;function em(e){setTimeout(function(){throw e})}function Di(e,s){var r=s,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),kr(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);kr(s)}function Ft(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function uo(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),at="__reactFiber$"+Vs,_r="__reactProps$"+Vs,wt="__reactContainer$"+Vs,ul="__reactEvents$"+Vs,tm="__reactListeners$"+Vs,sm="__reactHandles$"+Vs;function Kt(e){var s=e[at];if(s)return s;for(var r=e.parentNode;r;){if(s=r[wt]||r[at]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=uo(e);e!==null;){if(r=e[at])return r;e=uo(e)}return s}e=r,r=e.parentNode}return null}function Br(e){return e=e[at]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ys(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Kn(e){return e[_r]||null}var ml=[],js=-1;function Zt(e){return{current:e}}function se(e){0>js||(e.current=ml[js],ml[js]=null,js--)}function ee(e,s){js++,ml[js]=e.current,e.current=s}var Qt={},Se=Zt(Qt),Te=Zt(!1),ns=Qt;function Ts(e,s){var r=e.type.contextTypes;if(!r)return Qt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in r)i[l]=s[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ie(e){return e=e.childContextTypes,e!=null}function En(){se(Te),se(Se)}function mo(e,s,r){if(Se.current!==Qt)throw Error(R(168));ee(Se,s),ee(Te,r)}function td(e,s,r){var n=e.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in s))throw Error(R(108,Uu(e)||"Unknown",i));return oe({},r,n)}function An(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qt,ns=Se.current,ee(Se,e),ee(Te,Te.current),!0}function xo(e,s,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=td(e,s,ns),n.__reactInternalMemoizedMergedChildContext=e,se(Te),se(Se),ee(Se,e)):se(Te),ee(Te,r)}var xt=null,Jn=!1,zi=!1;function sd(e){xt===null?xt=[e]:xt.push(e)}function rm(e){Jn=!0,sd(e)}function Wt(){if(!zi&&xt!==null){zi=!0;var e=0,s=K;try{var r=xt;for(K=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xt=null,Jn=!1}catch(i){throw xt!==null&&(xt=xt.slice(e+1)),Pc(Gl,Wt),i}finally{K=s,zi=!1}}return null}var Ns=[],bs=0,Tn=null,In=0,Oe=[],Be=0,is=null,ht=1,ft="";function Yt(e,s){Ns[bs++]=In,Ns[bs++]=Tn,Tn=e,In=s}function rd(e,s,r){Oe[Be++]=ht,Oe[Be++]=ft,Oe[Be++]=is,is=e;var n=ht;e=ft;var i=32-tt(n)-1;n&=~(1<<i),r+=1;var l=32-tt(s)+i;if(30<l){var a=i-i%5;l=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ht=1<<32-tt(s)+i|r<<i|n,ft=l+e}else ht=1<<l|r<<i|n,ft=e}function sa(e){e.return!==null&&(Yt(e,1),rd(e,1,0))}function ra(e){for(;e===Tn;)Tn=Ns[--bs],Ns[bs]=null,In=Ns[--bs],Ns[bs]=null;for(;e===is;)is=Oe[--Be],Oe[Be]=null,ft=Oe[--Be],Oe[Be]=null,ht=Oe[--Be],Oe[Be]=null}var Fe=null,Le=null,re=!1,et=null;function nd(e,s){var r=Ve(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function po(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,Fe=e,Le=Ft(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,Fe=e,Le=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=is!==null?{id:ht,overflow:ft}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=Ve(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,Fe=e,Le=null,!0):!1;default:return!1}}function xl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pl(e){if(re){var s=Le;if(s){var r=s;if(!po(e,s)){if(xl(e))throw Error(R(418));s=Ft(r.nextSibling);var n=Fe;s&&po(e,s)?nd(n,r):(e.flags=e.flags&-4097|2,re=!1,Fe=e)}}else{if(xl(e))throw Error(R(418));e.flags=e.flags&-4097|2,re=!1,Fe=e}}}function ho(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function rn(e){if(e!==Fe)return!1;if(!re)return ho(e),re=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!cl(e.type,e.memoizedProps)),s&&(s=Le)){if(xl(e))throw id(),Error(R(418));for(;s;)nd(e,s),s=Ft(s.nextSibling)}if(ho(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){Le=Ft(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}Le=null}}else Le=Fe?Ft(e.stateNode.nextSibling):null;return!0}function id(){for(var e=Le;e;)e=Ft(e.nextSibling)}function Is(){Le=Fe=null,re=!1}function na(e){et===null?et=[e]:et.push(e)}var nm=Pt.ReactCurrentBatchConfig;function Xs(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var i=n,l=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(a){var o=i.refs;a===null?delete o[l]:o[l]=a},s._stringRef=l,s)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function nn(e,s){throw e=Object.prototype.toString.call(s),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function fo(e){var s=e._init;return s(e._payload)}function ld(e){function s(m,x){if(e){var u=m.deletions;u===null?(m.deletions=[x],m.flags|=16):u.push(x)}}function r(m,x){if(!e)return null;for(;x!==null;)s(m,x),x=x.sibling;return null}function n(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=Ot(m,x),m.index=0,m.sibling=null,m}function l(m,x,u){return m.index=u,e?(u=m.alternate,u!==null?(u=u.index,u<x?(m.flags|=2,x):u):(m.flags|=2,x)):(m.flags|=1048576,x)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,x,u,h){return x===null||x.tag!==6?(x=Mi(u,m.mode,h),x.return=m,x):(x=i(x,u),x.return=m,x)}function c(m,x,u,h){var j=u.type;return j===hs?v(m,x,u.props.children,h,u.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===zt&&fo(j)===x.type)?(h=i(x,u.props),h.ref=Xs(m,x,u),h.return=m,h):(h=Nn(u.type,u.key,u.props,null,m.mode,h),h.ref=Xs(m,x,u),h.return=m,h)}function p(m,x,u,h){return x===null||x.tag!==4||x.stateNode.containerInfo!==u.containerInfo||x.stateNode.implementation!==u.implementation?(x=Li(u,m.mode,h),x.return=m,x):(x=i(x,u.children||[]),x.return=m,x)}function v(m,x,u,h,j){return x===null||x.tag!==7?(x=ss(u,m.mode,h,j),x.return=m,x):(x=i(x,u),x.return=m,x)}function N(m,x,u){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Mi(""+x,m.mode,u),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gr:return u=Nn(x.type,x.key,x.props,null,m.mode,u),u.ref=Xs(m,null,x),u.return=m,u;case ps:return x=Li(x,m.mode,u),x.return=m,x;case zt:var h=x._init;return N(m,h(x._payload),u)}if(rr(x)||Hs(x))return x=ss(x,m.mode,u,null),x.return=m,x;nn(m,x)}return null}function y(m,x,u,h){var j=x!==null?x.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return j!==null?null:o(m,x,""+u,h);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Gr:return u.key===j?c(m,x,u,h):null;case ps:return u.key===j?p(m,x,u,h):null;case zt:return j=u._init,y(m,x,j(u._payload),h)}if(rr(u)||Hs(u))return j!==null?null:v(m,x,u,h,null);nn(m,u)}return null}function P(m,x,u,h,j){if(typeof h=="string"&&h!==""||typeof h=="number")return m=m.get(u)||null,o(x,m,""+h,j);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Gr:return m=m.get(h.key===null?u:h.key)||null,c(x,m,h,j);case ps:return m=m.get(h.key===null?u:h.key)||null,p(x,m,h,j);case zt:var f=h._init;return P(m,x,u,f(h._payload),j)}if(rr(h)||Hs(h))return m=m.get(u)||null,v(x,m,h,j,null);nn(x,h)}return null}function _(m,x,u,h){for(var j=null,f=null,d=x,b=x=0,C=null;d!==null&&b<u.length;b++){d.index>b?(C=d,d=null):C=d.sibling;var I=y(m,d,u[b],h);if(I===null){d===null&&(d=C);break}e&&d&&I.alternate===null&&s(m,d),x=l(I,x,b),f===null?j=I:f.sibling=I,f=I,d=C}if(b===u.length)return r(m,d),re&&Yt(m,b),j;if(d===null){for(;b<u.length;b++)d=N(m,u[b],h),d!==null&&(x=l(d,x,b),f===null?j=d:f.sibling=d,f=d);return re&&Yt(m,b),j}for(d=n(m,d);b<u.length;b++)C=P(d,m,b,u[b],h),C!==null&&(e&&C.alternate!==null&&d.delete(C.key===null?b:C.key),x=l(C,x,b),f===null?j=C:f.sibling=C,f=C);return e&&d.forEach(function(G){return s(m,G)}),re&&Yt(m,b),j}function A(m,x,u,h){var j=Hs(u);if(typeof j!="function")throw Error(R(150));if(u=j.call(u),u==null)throw Error(R(151));for(var f=j=null,d=x,b=x=0,C=null,I=u.next();d!==null&&!I.done;b++,I=u.next()){d.index>b?(C=d,d=null):C=d.sibling;var G=y(m,d,I.value,h);if(G===null){d===null&&(d=C);break}e&&d&&G.alternate===null&&s(m,d),x=l(G,x,b),f===null?j=G:f.sibling=G,f=G,d=C}if(I.done)return r(m,d),re&&Yt(m,b),j;if(d===null){for(;!I.done;b++,I=u.next())I=N(m,I.value,h),I!==null&&(x=l(I,x,b),f===null?j=I:f.sibling=I,f=I);return re&&Yt(m,b),j}for(d=n(m,d);!I.done;b++,I=u.next())I=P(d,m,b,I.value,h),I!==null&&(e&&I.alternate!==null&&d.delete(I.key===null?b:I.key),x=l(I,x,b),f===null?j=I:f.sibling=I,f=I);return e&&d.forEach(function(S){return s(m,S)}),re&&Yt(m,b),j}function Q(m,x,u,h){if(typeof u=="object"&&u!==null&&u.type===hs&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case Gr:e:{for(var j=u.key,f=x;f!==null;){if(f.key===j){if(j=u.type,j===hs){if(f.tag===7){r(m,f.sibling),x=i(f,u.props.children),x.return=m,m=x;break e}}else if(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===zt&&fo(j)===f.type){r(m,f.sibling),x=i(f,u.props),x.ref=Xs(m,f,u),x.return=m,m=x;break e}r(m,f);break}else s(m,f);f=f.sibling}u.type===hs?(x=ss(u.props.children,m.mode,h,u.key),x.return=m,m=x):(h=Nn(u.type,u.key,u.props,null,m.mode,h),h.ref=Xs(m,x,u),h.return=m,m=h)}return a(m);case ps:e:{for(f=u.key;x!==null;){if(x.key===f)if(x.tag===4&&x.stateNode.containerInfo===u.containerInfo&&x.stateNode.implementation===u.implementation){r(m,x.sibling),x=i(x,u.children||[]),x.return=m,m=x;break e}else{r(m,x);break}else s(m,x);x=x.sibling}x=Li(u,m.mode,h),x.return=m,m=x}return a(m);case zt:return f=u._init,Q(m,x,f(u._payload),h)}if(rr(u))return _(m,x,u,h);if(Hs(u))return A(m,x,u,h);nn(m,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,x!==null&&x.tag===6?(r(m,x.sibling),x=i(x,u),x.return=m,m=x):(r(m,x),x=Mi(u,m.mode,h),x.return=m,m=x),a(m)):r(m,x)}return Q}var Rs=ld(!0),ad=ld(!1),Rn=Zt(null),Mn=null,ws=null,ia=null;function la(){ia=ws=Mn=null}function aa(e){var s=Rn.current;se(Rn),e._currentValue=s}function hl(e,s,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),e===r)break;e=e.return}}function _s(e,s){Mn=e,ia=ws=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(Ae=!0),e.firstContext=null)}function Ge(e){var s=e._currentValue;if(ia!==e)if(e={context:e,memoizedValue:s,next:null},ws===null){if(Mn===null)throw Error(R(308));ws=e,Mn.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return s}var Jt=null;function oa(e){Jt===null?Jt=[e]:Jt.push(e)}function od(e,s,r,n){var i=s.interleaved;return i===null?(r.next=r,oa(s)):(r.next=i.next,i.next=r),s.interleaved=r,St(e,n)}function St(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _t=!1;function ca(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cd(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gt(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function $t(e,s,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Y&2){var i=n.pending;return i===null?s.next=s:(s.next=i.next,i.next=s),n.pending=s,St(e,r)}return i=n.interleaved,i===null?(s.next=s,oa(n)):(s.next=i.next,i.next=s),n.interleaved=s,St(e,r)}function hn(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=e.pendingLanes,r|=n,s.lanes=r,Zl(e,r)}}function go(e,s){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?i=l=a:l=l.next=a,r=r.next}while(r!==null);l===null?i=l=s:l=l.next=s}else i=l=s;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function Ln(e,s,r,n){var i=e.updateQueue;_t=!1;var l=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,p=c.next;c.next=null,a===null?l=p:a.next=p,a=c;var v=e.alternate;v!==null&&(v=v.updateQueue,o=v.lastBaseUpdate,o!==a&&(o===null?v.firstBaseUpdate=p:o.next=p,v.lastBaseUpdate=c))}if(l!==null){var N=i.baseState;a=0,v=p=c=null,o=l;do{var y=o.lane,P=o.eventTime;if((n&y)===y){v!==null&&(v=v.next={eventTime:P,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=e,A=o;switch(y=s,P=r,A.tag){case 1:if(_=A.payload,typeof _=="function"){N=_.call(P,N,y);break e}N=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=A.payload,y=typeof _=="function"?_.call(P,N,y):_,y==null)break e;N=oe({},N,y);break e;case 2:_t=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[o]:y.push(o))}else P={eventTime:P,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},v===null?(p=v=P,c=N):v=v.next=P,a|=y;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(v===null&&(c=N),i.baseState=c,i.firstBaseUpdate=p,i.lastBaseUpdate=v,s=i.shared.interleaved,s!==null){i=s;do a|=i.lane,i=i.next;while(i!==s)}else l===null&&(i.shared.lanes=0);as|=a,e.lanes=a,e.memoizedState=N}}function vo(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var n=e[s],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(R(191,i));i.call(n)}}}var Vr={},ct=Zt(Vr),Er=Zt(Vr),Ar=Zt(Vr);function es(e){if(e===Vr)throw Error(R(174));return e}function da(e,s){switch(ee(Ar,s),ee(Er,e),ee(ct,Vr),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Wi(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=Wi(s,e)}se(ct),ee(ct,s)}function Ms(){se(ct),se(Er),se(Ar)}function dd(e){es(Ar.current);var s=es(ct.current),r=Wi(s,e.type);s!==r&&(ee(Er,e),ee(ct,r))}function ua(e){Er.current===e&&(se(ct),se(Er))}var ie=Zt(0);function Fn(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _i=[];function ma(){for(var e=0;e<_i.length;e++)_i[e]._workInProgressVersionPrimary=null;_i.length=0}var fn=Pt.ReactCurrentDispatcher,Ei=Pt.ReactCurrentBatchConfig,ls=0,ae=null,xe=null,he=null,$n=!1,mr=!1,Tr=0,im=0;function Ne(){throw Error(R(321))}function xa(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!rt(e[r],s[r]))return!1;return!0}function pa(e,s,r,n,i,l){if(ls=l,ae=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,fn.current=e===null||e.memoizedState===null?cm:dm,e=r(n,i),mr){l=0;do{if(mr=!1,Tr=0,25<=l)throw Error(R(301));l+=1,he=xe=null,s.updateQueue=null,fn.current=um,e=r(n,i)}while(mr)}if(fn.current=Un,s=xe!==null&&xe.next!==null,ls=0,he=xe=ae=null,$n=!1,s)throw Error(R(300));return e}function ha(){var e=Tr!==0;return Tr=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?ae.memoizedState=he=e:he=he.next=e,he}function Ze(){if(xe===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var s=he===null?ae.memoizedState:he.next;if(s!==null)he=s,xe=e;else{if(e===null)throw Error(R(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},he===null?ae.memoizedState=he=e:he=he.next=e}return he}function Ir(e,s){return typeof s=="function"?s(e):s}function Ai(e){var s=Ze(),r=s.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=xe,i=n.baseQueue,l=r.pending;if(l!==null){if(i!==null){var a=i.next;i.next=l.next,l.next=a}n.baseQueue=i=l,r.pending=null}if(i!==null){l=i.next,n=n.baseState;var o=a=null,c=null,p=l;do{var v=p.lane;if((ls&v)===v)c!==null&&(c=c.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),n=p.hasEagerState?p.eagerState:e(n,p.action);else{var N={lane:v,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};c===null?(o=c=N,a=n):c=c.next=N,ae.lanes|=v,as|=v}p=p.next}while(p!==null&&p!==l);c===null?a=n:c.next=o,rt(n,s.memoizedState)||(Ae=!0),s.memoizedState=n,s.baseState=a,s.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do l=i.lane,ae.lanes|=l,as|=l,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Ti(e){var s=Ze(),r=s.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,l=s.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do l=e(l,a.action),a=a.next;while(a!==i);rt(l,s.memoizedState)||(Ae=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,n]}function ud(){}function md(e,s){var r=ae,n=Ze(),i=s(),l=!rt(n.memoizedState,i);if(l&&(n.memoizedState=i,Ae=!0),n=n.queue,fa(hd.bind(null,r,n,e),[e]),n.getSnapshot!==s||l||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,Rr(9,pd.bind(null,r,n,i,s),void 0,null),fe===null)throw Error(R(349));ls&30||xd(r,s,i)}return i}function xd(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=ae.updateQueue,s===null?(s={lastEffect:null,stores:null},ae.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function pd(e,s,r,n){s.value=r,s.getSnapshot=n,fd(s)&&gd(e)}function hd(e,s,r){return r(function(){fd(s)&&gd(e)})}function fd(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!rt(e,r)}catch{return!0}}function gd(e){var s=St(e,1);s!==null&&st(s,e,1,-1)}function yo(e){var s=it();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},s.queue=e,e=e.dispatch=om.bind(null,ae,e),[s.memoizedState,e]}function Rr(e,s,r,n){return e={tag:e,create:s,destroy:r,deps:n,next:null},s=ae.updateQueue,s===null?(s={lastEffect:null,stores:null},ae.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,s.lastEffect=e)),e}function vd(){return Ze().memoizedState}function gn(e,s,r,n){var i=it();ae.flags|=e,i.memoizedState=Rr(1|s,r,void 0,n===void 0?null:n)}function ei(e,s,r,n){var i=Ze();n=n===void 0?null:n;var l=void 0;if(xe!==null){var a=xe.memoizedState;if(l=a.destroy,n!==null&&xa(n,a.deps)){i.memoizedState=Rr(s,r,l,n);return}}ae.flags|=e,i.memoizedState=Rr(1|s,r,l,n)}function jo(e,s){return gn(8390656,8,e,s)}function fa(e,s){return ei(2048,8,e,s)}function yd(e,s){return ei(4,2,e,s)}function jd(e,s){return ei(4,4,e,s)}function Nd(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function bd(e,s,r){return r=r!=null?r.concat([e]):null,ei(4,4,Nd.bind(null,s,e),r)}function ga(){}function wd(e,s){var r=Ze();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&xa(s,n[1])?n[0]:(r.memoizedState=[e,s],e)}function Sd(e,s){var r=Ze();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&xa(s,n[1])?n[0]:(e=e(),r.memoizedState=[e,s],e)}function kd(e,s,r){return ls&21?(rt(r,s)||(r=_c(),ae.lanes|=r,as|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,Ae=!0),e.memoizedState=r)}function lm(e,s){var r=K;K=r!==0&&4>r?r:4,e(!0);var n=Ei.transition;Ei.transition={};try{e(!1),s()}finally{K=r,Ei.transition=n}}function Cd(){return Ze().memoizedState}function am(e,s,r){var n=qt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Pd(e))Dd(s,r);else if(r=od(e,s,r,n),r!==null){var i=De();st(r,e,n,i),zd(r,s,n)}}function om(e,s,r){var n=qt(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pd(e))Dd(s,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var a=s.lastRenderedState,o=l(a,r);if(i.hasEagerState=!0,i.eagerState=o,rt(o,a)){var c=s.interleaved;c===null?(i.next=i,oa(s)):(i.next=c.next,c.next=i),s.interleaved=i;return}}catch{}finally{}r=od(e,s,i,n),r!==null&&(i=De(),st(r,e,n,i),zd(r,s,n))}}function Pd(e){var s=e.alternate;return e===ae||s!==null&&s===ae}function Dd(e,s){mr=$n=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function zd(e,s,r){if(r&4194240){var n=s.lanes;n&=e.pendingLanes,r|=n,s.lanes=r,Zl(e,r)}}var Un={readContext:Ge,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},cm={readContext:Ge,useCallback:function(e,s){return it().memoizedState=[e,s===void 0?null:s],e},useContext:Ge,useEffect:jo,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,gn(4194308,4,Nd.bind(null,s,e),r)},useLayoutEffect:function(e,s){return gn(4194308,4,e,s)},useInsertionEffect:function(e,s){return gn(4,2,e,s)},useMemo:function(e,s){var r=it();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var n=it();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=am.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var s=it();return e={current:e},s.memoizedState=e},useState:yo,useDebugValue:ga,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=yo(!1),s=e[0];return e=lm.bind(null,e[1]),it().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var n=ae,i=it();if(re){if(r===void 0)throw Error(R(407));r=r()}else{if(r=s(),fe===null)throw Error(R(349));ls&30||xd(n,s,r)}i.memoizedState=r;var l={value:r,getSnapshot:s};return i.queue=l,jo(hd.bind(null,n,l,e),[e]),n.flags|=2048,Rr(9,pd.bind(null,n,l,r,s),void 0,null),r},useId:function(){var e=it(),s=fe.identifierPrefix;if(re){var r=ft,n=ht;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=Tr++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=im++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},dm={readContext:Ge,useCallback:wd,useContext:Ge,useEffect:fa,useImperativeHandle:bd,useInsertionEffect:yd,useLayoutEffect:jd,useMemo:Sd,useReducer:Ai,useRef:vd,useState:function(){return Ai(Ir)},useDebugValue:ga,useDeferredValue:function(e){var s=Ze();return kd(s,xe.memoizedState,e)},useTransition:function(){var e=Ai(Ir)[0],s=Ze().memoizedState;return[e,s]},useMutableSource:ud,useSyncExternalStore:md,useId:Cd,unstable_isNewReconciler:!1},um={readContext:Ge,useCallback:wd,useContext:Ge,useEffect:fa,useImperativeHandle:bd,useInsertionEffect:yd,useLayoutEffect:jd,useMemo:Sd,useReducer:Ti,useRef:vd,useState:function(){return Ti(Ir)},useDebugValue:ga,useDeferredValue:function(e){var s=Ze();return xe===null?s.memoizedState=e:kd(s,xe.memoizedState,e)},useTransition:function(){var e=Ti(Ir)[0],s=Ze().memoizedState;return[e,s]},useMutableSource:ud,useSyncExternalStore:md,useId:Cd,unstable_isNewReconciler:!1};function Ke(e,s){if(e&&e.defaultProps){s=oe({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function fl(e,s,r,n){s=e.memoizedState,r=r(n,s),r=r==null?s:oe({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ti={isMounted:function(e){return(e=e._reactInternals)?ms(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var n=De(),i=qt(e),l=gt(n,i);l.payload=s,r!=null&&(l.callback=r),s=$t(e,l,i),s!==null&&(st(s,e,i,n),hn(s,e,i))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var n=De(),i=qt(e),l=gt(n,i);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=$t(e,l,i),s!==null&&(st(s,e,i,n),hn(s,e,i))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=De(),n=qt(e),i=gt(r,n);i.tag=2,s!=null&&(i.callback=s),s=$t(e,i,n),s!==null&&(st(s,e,n,r),hn(s,e,n))}};function No(e,s,r,n,i,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,a):s.prototype&&s.prototype.isPureReactComponent?!Pr(r,n)||!Pr(i,l):!0}function _d(e,s,r){var n=!1,i=Qt,l=s.contextType;return typeof l=="object"&&l!==null?l=Ge(l):(i=Ie(s)?ns:Se.current,n=s.contextTypes,l=(n=n!=null)?Ts(e,i):Qt),s=new s(r,l),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ti,e.stateNode=s,s._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),s}function bo(e,s,r,n){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==e&&ti.enqueueReplaceState(s,s.state,null)}function gl(e,s,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},ca(e);var l=s.contextType;typeof l=="object"&&l!==null?i.context=Ge(l):(l=Ie(s)?ns:Se.current,i.context=Ts(e,l)),i.state=e.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(fl(e,s,l,r),i.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&ti.enqueueReplaceState(i,i.state,null),Ln(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ls(e,s){try{var r="",n=s;do r+=$u(n),n=n.return;while(n);var i=r}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:s,stack:i,digest:null}}function Ii(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function vl(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var mm=typeof WeakMap=="function"?WeakMap:Map;function Ed(e,s,r){r=gt(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){On||(On=!0,Dl=n),vl(e,s)},r}function Ad(e,s,r){r=gt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=s.value;r.payload=function(){return n(i)},r.callback=function(){vl(e,s)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){vl(e,s),typeof n!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var a=s.stack;this.componentDidCatch(s.value,{componentStack:a!==null?a:""})}),r}function wo(e,s,r){var n=e.pingCache;if(n===null){n=e.pingCache=new mm;var i=new Set;n.set(s,i)}else i=n.get(s),i===void 0&&(i=new Set,n.set(s,i));i.has(r)||(i.add(r),e=Cm.bind(null,e,s,r),s.then(e,e))}function So(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function ko(e,s,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=gt(-1,1),s.tag=2,$t(r,s,1))),r.lanes|=1),e)}var xm=Pt.ReactCurrentOwner,Ae=!1;function ke(e,s,r,n){s.child=e===null?ad(s,null,r,n):Rs(s,e.child,r,n)}function Co(e,s,r,n,i){r=r.render;var l=s.ref;return _s(s,i),n=pa(e,s,r,n,l,i),r=ha(),e!==null&&!Ae?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~i,kt(e,s,i)):(re&&r&&sa(s),s.flags|=1,ke(e,s,n,i),s.child)}function Po(e,s,r,n,i){if(e===null){var l=r.type;return typeof l=="function"&&!ka(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,Td(e,s,l,n,i)):(e=Nn(r.type,null,n,s,s.mode,i),e.ref=s.ref,e.return=s,s.child=e)}if(l=e.child,!(e.lanes&i)){var a=l.memoizedProps;if(r=r.compare,r=r!==null?r:Pr,r(a,n)&&e.ref===s.ref)return kt(e,s,i)}return s.flags|=1,e=Ot(l,n),e.ref=s.ref,e.return=s,s.child=e}function Td(e,s,r,n,i){if(e!==null){var l=e.memoizedProps;if(Pr(l,n)&&e.ref===s.ref)if(Ae=!1,s.pendingProps=n=l,(e.lanes&i)!==0)e.flags&131072&&(Ae=!0);else return s.lanes=e.lanes,kt(e,s,i)}return yl(e,s,r,n,i)}function Id(e,s,r){var n=s.pendingProps,i=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(ks,Me),Me|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,ee(ks,Me),Me|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,ee(ks,Me),Me|=n}else l!==null?(n=l.baseLanes|r,s.memoizedState=null):n=r,ee(ks,Me),Me|=n;return ke(e,s,i,r),s.child}function Rd(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function yl(e,s,r,n,i){var l=Ie(r)?ns:Se.current;return l=Ts(s,l),_s(s,i),r=pa(e,s,r,n,l,i),n=ha(),e!==null&&!Ae?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~i,kt(e,s,i)):(re&&n&&sa(s),s.flags|=1,ke(e,s,r,i),s.child)}function Do(e,s,r,n,i){if(Ie(r)){var l=!0;An(s)}else l=!1;if(_s(s,i),s.stateNode===null)vn(e,s),_d(s,r,n),gl(s,r,n,i),n=!0;else if(e===null){var a=s.stateNode,o=s.memoizedProps;a.props=o;var c=a.context,p=r.contextType;typeof p=="object"&&p!==null?p=Ge(p):(p=Ie(r)?ns:Se.current,p=Ts(s,p));var v=r.getDerivedStateFromProps,N=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function";N||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==p)&&bo(s,a,n,p),_t=!1;var y=s.memoizedState;a.state=y,Ln(s,n,a,i),c=s.memoizedState,o!==n||y!==c||Te.current||_t?(typeof v=="function"&&(fl(s,r,v,n),c=s.memoizedState),(o=_t||No(s,r,o,n,y,c,p))?(N||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(s.flags|=4194308)):(typeof a.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),a.props=n,a.state=c,a.context=p,n=o):(typeof a.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{a=s.stateNode,cd(e,s),o=s.memoizedProps,p=s.type===s.elementType?o:Ke(s.type,o),a.props=p,N=s.pendingProps,y=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ge(c):(c=Ie(r)?ns:Se.current,c=Ts(s,c));var P=r.getDerivedStateFromProps;(v=typeof P=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==N||y!==c)&&bo(s,a,n,c),_t=!1,y=s.memoizedState,a.state=y,Ln(s,n,a,i);var _=s.memoizedState;o!==N||y!==_||Te.current||_t?(typeof P=="function"&&(fl(s,r,P,n),_=s.memoizedState),(p=_t||No(s,r,p,n,y,_,c)||!1)?(v||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,c)),typeof a.componentDidUpdate=="function"&&(s.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(s.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=_),a.props=n,a.state=_,a.context=c,n=p):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(s.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(s.flags|=1024),n=!1)}return jl(e,s,r,n,l,i)}function jl(e,s,r,n,i,l){Rd(e,s);var a=(s.flags&128)!==0;if(!n&&!a)return i&&xo(s,r,!1),kt(e,s,l);n=s.stateNode,xm.current=s;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,e!==null&&a?(s.child=Rs(s,e.child,null,l),s.child=Rs(s,null,o,l)):ke(e,s,o,l),s.memoizedState=n.state,i&&xo(s,r,!0),s.child}function Md(e){var s=e.stateNode;s.pendingContext?mo(e,s.pendingContext,s.pendingContext!==s.context):s.context&&mo(e,s.context,!1),da(e,s.containerInfo)}function zo(e,s,r,n,i){return Is(),na(i),s.flags|=256,ke(e,s,r,n),s.child}var Nl={dehydrated:null,treeContext:null,retryLane:0};function bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ld(e,s,r){var n=s.pendingProps,i=ie.current,l=!1,a=(s.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(l=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ee(ie,i&1),e===null)return pl(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(a=n.children,e=n.fallback,l?(n=s.mode,l=s.child,a={mode:"hidden",children:a},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=ni(a,n,0,null),e=ss(e,n,r,null),l.return=s,e.return=s,l.sibling=e,s.child=l,s.child.memoizedState=bl(r),s.memoizedState=Nl,e):va(s,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return pm(e,s,a,n,o,i,r);if(l){l=n.fallback,a=s.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&s.child!==i?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=Ot(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?l=Ot(o,l):(l=ss(l,a,r,null),l.flags|=2),l.return=s,n.return=s,n.sibling=l,s.child=n,n=l,l=s.child,a=e.child.memoizedState,a=a===null?bl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~r,s.memoizedState=Nl,n}return l=e.child,e=l.sibling,n=Ot(l,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=n,s.memoizedState=null,n}function va(e,s){return s=ni({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function ln(e,s,r,n){return n!==null&&na(n),Rs(s,e.child,null,r),e=va(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function pm(e,s,r,n,i,l,a){if(r)return s.flags&256?(s.flags&=-257,n=Ii(Error(R(422))),ln(e,s,a,n)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(l=n.fallback,i=s.mode,n=ni({mode:"visible",children:n.children},i,0,null),l=ss(l,i,a,null),l.flags|=2,n.return=s,l.return=s,n.sibling=l,s.child=n,s.mode&1&&Rs(s,e.child,null,a),s.child.memoizedState=bl(a),s.memoizedState=Nl,l);if(!(s.mode&1))return ln(e,s,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(R(419)),n=Ii(l,n,void 0),ln(e,s,a,n)}if(o=(a&e.childLanes)!==0,Ae||o){if(n=fe,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,St(e,i),st(n,e,i,-1))}return Sa(),n=Ii(Error(R(421))),ln(e,s,a,n)}return i.data==="$?"?(s.flags|=128,s.child=e.child,s=Pm.bind(null,e),i._reactRetry=s,null):(e=l.treeContext,Le=Ft(i.nextSibling),Fe=s,re=!0,et=null,e!==null&&(Oe[Be++]=ht,Oe[Be++]=ft,Oe[Be++]=is,ht=e.id,ft=e.overflow,is=s),s=va(s,n.children),s.flags|=4096,s)}function _o(e,s,r){e.lanes|=s;var n=e.alternate;n!==null&&(n.lanes|=s),hl(e.return,s,r)}function Ri(e,s,r,n,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=i)}function Fd(e,s,r){var n=s.pendingProps,i=n.revealOrder,l=n.tail;if(ke(e,s,n.children,r),n=ie.current,n&2)n=n&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_o(e,r,s);else if(e.tag===19)_o(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ee(ie,n),!(s.mode&1))s.memoizedState=null;else switch(i){case"forwards":for(r=s.child,i=null;r!==null;)e=r.alternate,e!==null&&Fn(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=s.child,s.child=null):(i=r.sibling,r.sibling=null),Ri(s,!1,i,r,l);break;case"backwards":for(r=null,i=s.child,s.child=null;i!==null;){if(e=i.alternate,e!==null&&Fn(e)===null){s.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ri(s,!0,r,null,l);break;case"together":Ri(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function vn(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function kt(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),as|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(R(153));if(s.child!==null){for(e=s.child,r=Ot(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=Ot(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function hm(e,s,r){switch(s.tag){case 3:Md(s),Is();break;case 5:dd(s);break;case 1:Ie(s.type)&&An(s);break;case 4:da(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,i=s.memoizedProps.value;ee(Rn,n._currentValue),n._currentValue=i;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(ee(ie,ie.current&1),s.flags|=128,null):r&s.child.childLanes?Ld(e,s,r):(ee(ie,ie.current&1),e=kt(e,s,r),e!==null?e.sibling:null);ee(ie,ie.current&1);break;case 19:if(n=(r&s.childLanes)!==0,e.flags&128){if(n)return Fd(e,s,r);s.flags|=128}if(i=s.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(ie,ie.current),n)break;return null;case 22:case 23:return s.lanes=0,Id(e,s,r)}return kt(e,s,r)}var $d,wl,Ud,qd;$d=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wl=function(){};Ud=function(e,s,r,n){var i=e.memoizedProps;if(i!==n){e=s.stateNode,es(ct.current);var l=null;switch(r){case"input":i=Qi(e,i),n=Qi(e,n),l=[];break;case"select":i=oe({},i,{value:void 0}),n=oe({},n,{value:void 0}),l=[];break;case"textarea":i=Zi(e,i),n=Zi(e,n),l=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=_n)}Yi(r,n);var a;r=null;for(p in i)if(!n.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var o=i[p];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(jr.hasOwnProperty(p)?l||(l=[]):(l=l||[]).push(p,null));for(p in n){var c=n[p];if(o=i!=null?i[p]:void 0,n.hasOwnProperty(p)&&c!==o&&(c!=null||o!=null))if(p==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(l||(l=[]),l.push(p,r)),r=c;else p==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(p,c)):p==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(p,""+c):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(jr.hasOwnProperty(p)?(c!=null&&p==="onScroll"&&te("scroll",e),l||o===c||(l=[])):(l=l||[]).push(p,c))}r&&(l=l||[]).push("style",r);var p=l;(s.updateQueue=p)&&(s.flags|=4)}};qd=function(e,s,r,n){r!==n&&(s.flags|=4)};function Ks(e,s){if(!re)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function be(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(s)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,s}function fm(e,s,r){var n=s.pendingProps;switch(ra(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(s),null;case 1:return Ie(s.type)&&En(),be(s),null;case 3:return n=s.stateNode,Ms(),se(Te),se(Se),ma(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(rn(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,et!==null&&(El(et),et=null))),wl(e,s),be(s),null;case 5:ua(s);var i=es(Ar.current);if(r=s.type,e!==null&&s.stateNode!=null)Ud(e,s,r,n,i),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(R(166));return be(s),null}if(e=es(ct.current),rn(s)){n=s.stateNode,r=s.type;var l=s.memoizedProps;switch(n[at]=s,n[_r]=l,e=(s.mode&1)!==0,r){case"dialog":te("cancel",n),te("close",n);break;case"iframe":case"object":case"embed":te("load",n);break;case"video":case"audio":for(i=0;i<ir.length;i++)te(ir[i],n);break;case"source":te("error",n);break;case"img":case"image":case"link":te("error",n),te("load",n);break;case"details":te("toggle",n);break;case"input":Fa(n,l),te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},te("invalid",n);break;case"textarea":Ua(n,l),te("invalid",n)}Yi(r,l),i=null;for(var a in l)if(l.hasOwnProperty(a)){var o=l[a];a==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&sn(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&sn(n.textContent,o,e),i=["children",""+o]):jr.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&te("scroll",n)}switch(r){case"input":Zr(n),$a(n,l,!0);break;case"textarea":Zr(n),qa(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=_n)}n=i,s.updateQueue=n,n!==null&&(s.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[at]=s,e[_r]=n,$d(e,s,!1,!1),s.stateNode=e;e:{switch(a=Xi(r,n),r){case"dialog":te("cancel",e),te("close",e),i=n;break;case"iframe":case"object":case"embed":te("load",e),i=n;break;case"video":case"audio":for(i=0;i<ir.length;i++)te(ir[i],e);i=n;break;case"source":te("error",e),i=n;break;case"img":case"image":case"link":te("error",e),te("load",e),i=n;break;case"details":te("toggle",e),i=n;break;case"input":Fa(e,n),i=Qi(e,n),te("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=oe({},n,{value:void 0}),te("invalid",e);break;case"textarea":Ua(e,n),i=Zi(e,n),te("invalid",e);break;default:i=n}Yi(r,i),o=i;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?vc(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fc(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Nr(e,c):typeof c=="number"&&Nr(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(jr.hasOwnProperty(l)?c!=null&&l==="onScroll"&&te("scroll",e):c!=null&&Ol(e,l,c,a))}switch(r){case"input":Zr(e),$a(e,n,!1);break;case"textarea":Zr(e),qa(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Vt(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Cs(e,!!n.multiple,l,!1):n.defaultValue!=null&&Cs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_n)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return be(s),null;case 6:if(e&&s.stateNode!=null)qd(e,s,e.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(R(166));if(r=es(Ar.current),es(ct.current),rn(s)){if(n=s.stateNode,r=s.memoizedProps,n[at]=s,(l=n.nodeValue!==r)&&(e=Fe,e!==null))switch(e.tag){case 3:sn(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sn(n.nodeValue,r,(e.mode&1)!==0)}l&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[at]=s,s.stateNode=n}return be(s),null;case 13:if(se(ie),n=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Le!==null&&s.mode&1&&!(s.flags&128))id(),Is(),s.flags|=98560,l=!1;else if(l=rn(s),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(R(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(R(317));l[at]=s}else Is(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;be(s),l=!1}else et!==null&&(El(et),et=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(e===null||ie.current&1?pe===0&&(pe=3):Sa())),s.updateQueue!==null&&(s.flags|=4),be(s),null);case 4:return Ms(),wl(e,s),e===null&&Dr(s.stateNode.containerInfo),be(s),null;case 10:return aa(s.type._context),be(s),null;case 17:return Ie(s.type)&&En(),be(s),null;case 19:if(se(ie),l=s.memoizedState,l===null)return be(s),null;if(n=(s.flags&128)!==0,a=l.rendering,a===null)if(n)Ks(l,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(a=Fn(e),a!==null){for(s.flags|=128,Ks(l,!1),n=a.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)l=r,e=n,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ee(ie,ie.current&1|2),s.child}e=e.sibling}l.tail!==null&&de()>Fs&&(s.flags|=128,n=!0,Ks(l,!1),s.lanes=4194304)}else{if(!n)if(e=Fn(a),e!==null){if(s.flags|=128,n=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Ks(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!re)return be(s),null}else 2*de()-l.renderingStartTime>Fs&&r!==1073741824&&(s.flags|=128,n=!0,Ks(l,!1),s.lanes=4194304);l.isBackwards?(a.sibling=s.child,s.child=a):(r=l.last,r!==null?r.sibling=a:s.child=a,l.last=a)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=de(),s.sibling=null,r=ie.current,ee(ie,n?r&1|2:r&1),s):(be(s),null);case 22:case 23:return wa(),n=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?Me&1073741824&&(be(s),s.subtreeFlags&6&&(s.flags|=8192)):be(s),null;case 24:return null;case 25:return null}throw Error(R(156,s.tag))}function gm(e,s){switch(ra(s),s.tag){case 1:return Ie(s.type)&&En(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Ms(),se(Te),se(Se),ma(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return ua(s),null;case 13:if(se(ie),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(R(340));Is()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return se(ie),null;case 4:return Ms(),null;case 10:return aa(s.type._context),null;case 22:case 23:return wa(),null;case 24:return null;default:return null}}var an=!1,we=!1,vm=typeof WeakSet=="function"?WeakSet:Set,O=null;function Ss(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ce(e,s,n)}else r.current=null}function Sl(e,s,r){try{r()}catch(n){ce(e,s,n)}}var Eo=!1;function ym(e,s){if(al=Pn,e=Hc(),ta(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,p=0,v=0,N=e,y=null;t:for(;;){for(var P;N!==r||i!==0&&N.nodeType!==3||(o=a+i),N!==l||n!==0&&N.nodeType!==3||(c=a+n),N.nodeType===3&&(a+=N.nodeValue.length),(P=N.firstChild)!==null;)y=N,N=P;for(;;){if(N===e)break t;if(y===r&&++p===i&&(o=a),y===l&&++v===n&&(c=a),(P=N.nextSibling)!==null)break;N=y,y=N.parentNode}N=P}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ol={focusedElem:e,selectionRange:r},Pn=!1,O=s;O!==null;)if(s=O,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,O=e;else for(;O!==null;){s=O;try{var _=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var A=_.memoizedProps,Q=_.memoizedState,m=s.stateNode,x=m.getSnapshotBeforeUpdate(s.elementType===s.type?A:Ke(s.type,A),Q);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var u=s.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(h){ce(s,s.return,h)}if(e=s.sibling,e!==null){e.return=s.return,O=e;break}O=s.return}return _=Eo,Eo=!1,_}function xr(e,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&Sl(s,r,l)}i=i.next}while(i!==n)}}function si(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function kl(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function Od(e){var s=e.alternate;s!==null&&(e.alternate=null,Od(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[at],delete s[_r],delete s[ul],delete s[tm],delete s[sm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bd(e){return e.tag===5||e.tag===3||e.tag===4}function Ao(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cl(e,s,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=_n));else if(n!==4&&(e=e.child,e!==null))for(Cl(e,s,r),e=e.sibling;e!==null;)Cl(e,s,r),e=e.sibling}function Pl(e,s,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Pl(e,s,r),e=e.sibling;e!==null;)Pl(e,s,r),e=e.sibling}var ge=null,Je=!1;function Dt(e,s,r){for(r=r.child;r!==null;)Vd(e,s,r),r=r.sibling}function Vd(e,s,r){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Zn,r)}catch{}switch(r.tag){case 5:we||Ss(r,s);case 6:var n=ge,i=Je;ge=null,Dt(e,s,r),ge=n,Je=i,ge!==null&&(Je?(e=ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ge.removeChild(r.stateNode));break;case 18:ge!==null&&(Je?(e=ge,r=r.stateNode,e.nodeType===8?Di(e.parentNode,r):e.nodeType===1&&Di(e,r),kr(e)):Di(ge,r.stateNode));break;case 4:n=ge,i=Je,ge=r.stateNode.containerInfo,Je=!0,Dt(e,s,r),ge=n,Je=i;break;case 0:case 11:case 14:case 15:if(!we&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var l=i,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&Sl(r,s,a),i=i.next}while(i!==n)}Dt(e,s,r);break;case 1:if(!we&&(Ss(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ce(r,s,o)}Dt(e,s,r);break;case 21:Dt(e,s,r);break;case 22:r.mode&1?(we=(n=we)||r.memoizedState!==null,Dt(e,s,r),we=n):Dt(e,s,r);break;default:Dt(e,s,r)}}function To(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vm),s.forEach(function(n){var i=Dm.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xe(e,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var l=e,a=s,o=a;e:for(;o!==null;){switch(o.tag){case 5:ge=o.stateNode,Je=!1;break e;case 3:ge=o.stateNode.containerInfo,Je=!0;break e;case 4:ge=o.stateNode.containerInfo,Je=!0;break e}o=o.return}if(ge===null)throw Error(R(160));Vd(l,a,i),ge=null,Je=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(p){ce(i,s,p)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Qd(s,e),s=s.sibling}function Qd(e,s){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(s,e),nt(e),n&4){try{xr(3,e,e.return),si(3,e)}catch(A){ce(e,e.return,A)}try{xr(5,e,e.return)}catch(A){ce(e,e.return,A)}}break;case 1:Xe(s,e),nt(e),n&512&&r!==null&&Ss(r,r.return);break;case 5:if(Xe(s,e),nt(e),n&512&&r!==null&&Ss(r,r.return),e.flags&32){var i=e.stateNode;try{Nr(i,"")}catch(A){ce(e,e.return,A)}}if(n&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,a=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&xc(i,l),Xi(o,a);var p=Xi(o,l);for(a=0;a<c.length;a+=2){var v=c[a],N=c[a+1];v==="style"?vc(i,N):v==="dangerouslySetInnerHTML"?fc(i,N):v==="children"?Nr(i,N):Ol(i,v,N,p)}switch(o){case"input":Hi(i,l);break;case"textarea":pc(i,l);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var P=l.value;P!=null?Cs(i,!!l.multiple,P,!1):y!==!!l.multiple&&(l.defaultValue!=null?Cs(i,!!l.multiple,l.defaultValue,!0):Cs(i,!!l.multiple,l.multiple?[]:"",!1))}i[_r]=l}catch(A){ce(e,e.return,A)}}break;case 6:if(Xe(s,e),nt(e),n&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(A){ce(e,e.return,A)}}break;case 3:if(Xe(s,e),nt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{kr(s.containerInfo)}catch(A){ce(e,e.return,A)}break;case 4:Xe(s,e),nt(e);break;case 13:Xe(s,e),nt(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(Na=de())),n&4&&To(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(we=(p=we)||v,Xe(s,e),we=p):Xe(s,e),nt(e),n&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!v&&e.mode&1)for(O=e,v=e.child;v!==null;){for(N=O=v;O!==null;){switch(y=O,P=y.child,y.tag){case 0:case 11:case 14:case 15:xr(4,y,y.return);break;case 1:Ss(y,y.return);var _=y.stateNode;if(typeof _.componentWillUnmount=="function"){n=y,r=y.return;try{s=n,_.props=s.memoizedProps,_.state=s.memoizedState,_.componentWillUnmount()}catch(A){ce(n,r,A)}}break;case 5:Ss(y,y.return);break;case 22:if(y.memoizedState!==null){Ro(N);continue}}P!==null?(P.return=y,O=P):Ro(N)}v=v.sibling}e:for(v=null,N=e;;){if(N.tag===5){if(v===null){v=N;try{i=N.stateNode,p?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=N.stateNode,c=N.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=gc("display",a))}catch(A){ce(e,e.return,A)}}}else if(N.tag===6){if(v===null)try{N.stateNode.nodeValue=p?"":N.memoizedProps}catch(A){ce(e,e.return,A)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;v===N&&(v=null),N=N.return}v===N&&(v=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:Xe(s,e),nt(e),n&4&&To(e);break;case 21:break;default:Xe(s,e),nt(e)}}function nt(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(Bd(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Nr(i,""),n.flags&=-33);var l=Ao(e);Pl(e,l,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Ao(e);Cl(e,o,a);break;default:throw Error(R(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function jm(e,s,r){O=e,Hd(e)}function Hd(e,s,r){for(var n=(e.mode&1)!==0;O!==null;){var i=O,l=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||an;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||we;o=an;var p=we;if(an=a,(we=c)&&!p)for(O=i;O!==null;)a=O,c=a.child,a.tag===22&&a.memoizedState!==null?Mo(i):c!==null?(c.return=a,O=c):Mo(i);for(;l!==null;)O=l,Hd(l),l=l.sibling;O=i,an=o,we=p}Io(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,O=l):Io(e)}}function Io(e){for(;O!==null;){var s=O;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:we||si(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!we)if(r===null)n.componentDidMount();else{var i=s.elementType===s.type?r.memoizedProps:Ke(s.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&vo(s,l,n);break;case 3:var a=s.updateQueue;if(a!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}vo(s,a,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var p=s.alternate;if(p!==null){var v=p.memoizedState;if(v!==null){var N=v.dehydrated;N!==null&&kr(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}we||s.flags&512&&kl(s)}catch(y){ce(s,s.return,y)}}if(s===e){O=null;break}if(r=s.sibling,r!==null){r.return=s.return,O=r;break}O=s.return}}function Ro(e){for(;O!==null;){var s=O;if(s===e){O=null;break}var r=s.sibling;if(r!==null){r.return=s.return,O=r;break}O=s.return}}function Mo(e){for(;O!==null;){var s=O;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{si(4,s)}catch(c){ce(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var i=s.return;try{n.componentDidMount()}catch(c){ce(s,i,c)}}var l=s.return;try{kl(s)}catch(c){ce(s,l,c)}break;case 5:var a=s.return;try{kl(s)}catch(c){ce(s,a,c)}}}catch(c){ce(s,s.return,c)}if(s===e){O=null;break}var o=s.sibling;if(o!==null){o.return=s.return,O=o;break}O=s.return}}var Nm=Math.ceil,qn=Pt.ReactCurrentDispatcher,ya=Pt.ReactCurrentOwner,Qe=Pt.ReactCurrentBatchConfig,Y=0,fe=null,me=null,ye=0,Me=0,ks=Zt(0),pe=0,Mr=null,as=0,ri=0,ja=0,pr=null,Ee=null,Na=0,Fs=1/0,mt=null,On=!1,Dl=null,Ut=null,on=!1,It=null,Bn=0,hr=0,zl=null,yn=-1,jn=0;function De(){return Y&6?de():yn!==-1?yn:yn=de()}function qt(e){return e.mode&1?Y&2&&ye!==0?ye&-ye:nm.transition!==null?(jn===0&&(jn=_c()),jn):(e=K,e!==0||(e=window.event,e=e===void 0?16:Lc(e.type)),e):1}function st(e,s,r,n){if(50<hr)throw hr=0,zl=null,Error(R(185));qr(e,r,n),(!(Y&2)||e!==fe)&&(e===fe&&(!(Y&2)&&(ri|=r),pe===4&&At(e,ye)),Re(e,n),r===1&&Y===0&&!(s.mode&1)&&(Fs=de()+500,Jn&&Wt()))}function Re(e,s){var r=e.callbackNode;n0(e,s);var n=Cn(e,e===fe?ye:0);if(n===0)r!==null&&Va(r),e.callbackNode=null,e.callbackPriority=0;else if(s=n&-n,e.callbackPriority!==s){if(r!=null&&Va(r),s===1)e.tag===0?rm(Lo.bind(null,e)):sd(Lo.bind(null,e)),J0(function(){!(Y&6)&&Wt()}),r=null;else{switch(Ec(n)){case 1:r=Gl;break;case 4:r=Dc;break;case 16:r=kn;break;case 536870912:r=zc;break;default:r=kn}r=eu(r,Gd.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function Gd(e,s){if(yn=-1,jn=0,Y&6)throw Error(R(327));var r=e.callbackNode;if(Es()&&e.callbackNode!==r)return null;var n=Cn(e,e===fe?ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||s)s=Vn(e,n);else{s=n;var i=Y;Y|=2;var l=Wd();(fe!==e||ye!==s)&&(mt=null,Fs=de()+500,ts(e,s));do try{Sm();break}catch(o){Zd(e,o)}while(!0);la(),qn.current=l,Y=i,me!==null?s=0:(fe=null,ye=0,s=pe)}if(s!==0){if(s===2&&(i=sl(e),i!==0&&(n=i,s=_l(e,i))),s===1)throw r=Mr,ts(e,0),At(e,n),Re(e,de()),r;if(s===6)At(e,n);else{if(i=e.current.alternate,!(n&30)&&!bm(i)&&(s=Vn(e,n),s===2&&(l=sl(e),l!==0&&(n=l,s=_l(e,l))),s===1))throw r=Mr,ts(e,0),At(e,n),Re(e,de()),r;switch(e.finishedWork=i,e.finishedLanes=n,s){case 0:case 1:throw Error(R(345));case 2:Xt(e,Ee,mt);break;case 3:if(At(e,n),(n&130023424)===n&&(s=Na+500-de(),10<s)){if(Cn(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){De(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dl(Xt.bind(null,e,Ee,mt),s);break}Xt(e,Ee,mt);break;case 4:if(At(e,n),(n&4194240)===n)break;for(s=e.eventTimes,i=-1;0<n;){var a=31-tt(n);l=1<<a,a=s[a],a>i&&(i=a),n&=~l}if(n=i,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nm(n/1960))-n,10<n){e.timeoutHandle=dl(Xt.bind(null,e,Ee,mt),n);break}Xt(e,Ee,mt);break;case 5:Xt(e,Ee,mt);break;default:throw Error(R(329))}}}return Re(e,de()),e.callbackNode===r?Gd.bind(null,e):null}function _l(e,s){var r=pr;return e.current.memoizedState.isDehydrated&&(ts(e,s).flags|=256),e=Vn(e,s),e!==2&&(s=Ee,Ee=r,s!==null&&El(s)),e}function El(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function bm(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],l=i.getSnapshot;i=i.value;try{if(!rt(l(),i))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function At(e,s){for(s&=~ja,s&=~ri,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-tt(s),n=1<<r;e[r]=-1,s&=~n}}function Lo(e){if(Y&6)throw Error(R(327));Es();var s=Cn(e,0);if(!(s&1))return Re(e,de()),null;var r=Vn(e,s);if(e.tag!==0&&r===2){var n=sl(e);n!==0&&(s=n,r=_l(e,n))}if(r===1)throw r=Mr,ts(e,0),At(e,s),Re(e,de()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Xt(e,Ee,mt),Re(e,de()),null}function ba(e,s){var r=Y;Y|=1;try{return e(s)}finally{Y=r,Y===0&&(Fs=de()+500,Jn&&Wt())}}function os(e){It!==null&&It.tag===0&&!(Y&6)&&Es();var s=Y;Y|=1;var r=Qe.transition,n=K;try{if(Qe.transition=null,K=1,e)return e()}finally{K=n,Qe.transition=r,Y=s,!(Y&6)&&Wt()}}function wa(){Me=ks.current,se(ks)}function ts(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,K0(r)),me!==null)for(r=me.return;r!==null;){var n=r;switch(ra(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&En();break;case 3:Ms(),se(Te),se(Se),ma();break;case 5:ua(n);break;case 4:Ms();break;case 13:se(ie);break;case 19:se(ie);break;case 10:aa(n.type._context);break;case 22:case 23:wa()}r=r.return}if(fe=e,me=e=Ot(e.current,null),ye=Me=s,pe=0,Mr=null,ja=ri=as=0,Ee=pr=null,Jt!==null){for(s=0;s<Jt.length;s++)if(r=Jt[s],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,l=r.pending;if(l!==null){var a=l.next;l.next=i,n.next=a}r.pending=n}Jt=null}return e}function Zd(e,s){do{var r=me;try{if(la(),fn.current=Un,$n){for(var n=ae.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}$n=!1}if(ls=0,he=xe=ae=null,mr=!1,Tr=0,ya.current=null,r===null||r.return===null){pe=1,Mr=s,me=null;break}e:{var l=e,a=r.return,o=r,c=s;if(s=ye,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c,v=o,N=v.tag;if(!(v.mode&1)&&(N===0||N===11||N===15)){var y=v.alternate;y?(v.updateQueue=y.updateQueue,v.memoizedState=y.memoizedState,v.lanes=y.lanes):(v.updateQueue=null,v.memoizedState=null)}var P=So(a);if(P!==null){P.flags&=-257,ko(P,a,o,l,s),P.mode&1&&wo(l,p,s),s=P,c=p;var _=s.updateQueue;if(_===null){var A=new Set;A.add(c),s.updateQueue=A}else _.add(c);break e}else{if(!(s&1)){wo(l,p,s),Sa();break e}c=Error(R(426))}}else if(re&&o.mode&1){var Q=So(a);if(Q!==null){!(Q.flags&65536)&&(Q.flags|=256),ko(Q,a,o,l,s),na(Ls(c,o));break e}}l=c=Ls(c,o),pe!==4&&(pe=2),pr===null?pr=[l]:pr.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var m=Ed(l,c,s);go(l,m);break e;case 1:o=c;var x=l.type,u=l.stateNode;if(!(l.flags&128)&&(typeof x.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ut===null||!Ut.has(u)))){l.flags|=65536,s&=-s,l.lanes|=s;var h=Ad(l,o,s);go(l,h);break e}}l=l.return}while(l!==null)}Xd(r)}catch(j){s=j,me===r&&r!==null&&(me=r=r.return);continue}break}while(!0)}function Wd(){var e=qn.current;return qn.current=Un,e===null?Un:e}function Sa(){(pe===0||pe===3||pe===2)&&(pe=4),fe===null||!(as&268435455)&&!(ri&268435455)||At(fe,ye)}function Vn(e,s){var r=Y;Y|=2;var n=Wd();(fe!==e||ye!==s)&&(mt=null,ts(e,s));do try{wm();break}catch(i){Zd(e,i)}while(!0);if(la(),Y=r,qn.current=n,me!==null)throw Error(R(261));return fe=null,ye=0,pe}function wm(){for(;me!==null;)Yd(me)}function Sm(){for(;me!==null&&!Wu();)Yd(me)}function Yd(e){var s=Jd(e.alternate,e,Me);e.memoizedProps=e.pendingProps,s===null?Xd(e):me=s,ya.current=null}function Xd(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=gm(r,s),r!==null){r.flags&=32767,me=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,me=null;return}}else if(r=fm(r,s,Me),r!==null){me=r;return}if(s=s.sibling,s!==null){me=s;return}me=s=e}while(s!==null);pe===0&&(pe=5)}function Xt(e,s,r){var n=K,i=Qe.transition;try{Qe.transition=null,K=1,km(e,s,r,n)}finally{Qe.transition=i,K=n}return null}function km(e,s,r,n){do Es();while(It!==null);if(Y&6)throw Error(R(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(i0(e,l),e===fe&&(me=fe=null,ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||on||(on=!0,eu(kn,function(){return Es(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Qe.transition,Qe.transition=null;var a=K;K=1;var o=Y;Y|=4,ya.current=null,ym(e,r),Qd(r,e),Q0(ol),Pn=!!al,ol=al=null,e.current=r,jm(r),Yu(),Y=o,K=a,Qe.transition=l}else e.current=r;if(on&&(on=!1,It=e,Bn=i),l=e.pendingLanes,l===0&&(Ut=null),Ju(r.stateNode),Re(e,de()),s!==null)for(n=e.onRecoverableError,r=0;r<s.length;r++)i=s[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(On)throw On=!1,e=Dl,Dl=null,e;return Bn&1&&e.tag!==0&&Es(),l=e.pendingLanes,l&1?e===zl?hr++:(hr=0,zl=e):hr=0,Wt(),null}function Es(){if(It!==null){var e=Ec(Bn),s=Qe.transition,r=K;try{if(Qe.transition=null,K=16>e?16:e,It===null)var n=!1;else{if(e=It,It=null,Bn=0,Y&6)throw Error(R(331));var i=Y;for(Y|=4,O=e.current;O!==null;){var l=O,a=l.child;if(O.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var p=o[c];for(O=p;O!==null;){var v=O;switch(v.tag){case 0:case 11:case 15:xr(8,v,l)}var N=v.child;if(N!==null)N.return=v,O=N;else for(;O!==null;){v=O;var y=v.sibling,P=v.return;if(Od(v),v===p){O=null;break}if(y!==null){y.return=P,O=y;break}O=P}}}var _=l.alternate;if(_!==null){var A=_.child;if(A!==null){_.child=null;do{var Q=A.sibling;A.sibling=null,A=Q}while(A!==null)}}O=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,O=a;else e:for(;O!==null;){if(l=O,l.flags&2048)switch(l.tag){case 0:case 11:case 15:xr(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,O=m;break e}O=l.return}}var x=e.current;for(O=x;O!==null;){a=O;var u=a.child;if(a.subtreeFlags&2064&&u!==null)u.return=a,O=u;else e:for(a=x;O!==null;){if(o=O,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:si(9,o)}}catch(j){ce(o,o.return,j)}if(o===a){O=null;break e}var h=o.sibling;if(h!==null){h.return=o.return,O=h;break e}O=o.return}}if(Y=i,Wt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Zn,e)}catch{}n=!0}return n}finally{K=r,Qe.transition=s}}return!1}function Fo(e,s,r){s=Ls(r,s),s=Ed(e,s,1),e=$t(e,s,1),s=De(),e!==null&&(qr(e,1,s),Re(e,s))}function ce(e,s,r){if(e.tag===3)Fo(e,e,r);else for(;s!==null;){if(s.tag===3){Fo(s,e,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ut===null||!Ut.has(n))){e=Ls(r,e),e=Ad(s,e,1),s=$t(s,e,1),e=De(),s!==null&&(qr(s,1,e),Re(s,e));break}}s=s.return}}function Cm(e,s,r){var n=e.pingCache;n!==null&&n.delete(s),s=De(),e.pingedLanes|=e.suspendedLanes&r,fe===e&&(ye&r)===r&&(pe===4||pe===3&&(ye&130023424)===ye&&500>de()-Na?ts(e,0):ja|=r),Re(e,s)}function Kd(e,s){s===0&&(e.mode&1?(s=Xr,Xr<<=1,!(Xr&130023424)&&(Xr=4194304)):s=1);var r=De();e=St(e,s),e!==null&&(qr(e,s,r),Re(e,r))}function Pm(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),Kd(e,r)}function Dm(e,s){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(s),Kd(e,r)}var Jd;Jd=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||Te.current)Ae=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return Ae=!1,hm(e,s,r);Ae=!!(e.flags&131072)}else Ae=!1,re&&s.flags&1048576&&rd(s,In,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;vn(e,s),e=s.pendingProps;var i=Ts(s,Se.current);_s(s,r),i=pa(null,s,n,e,i,r);var l=ha();return s.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ie(n)?(l=!0,An(s)):l=!1,s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ca(s),i.updater=ti,s.stateNode=i,i._reactInternals=s,gl(s,n,e,r),s=jl(null,s,n,!0,l,r)):(s.tag=0,re&&l&&sa(s),ke(null,s,i,r),s=s.child),s;case 16:n=s.elementType;e:{switch(vn(e,s),e=s.pendingProps,i=n._init,n=i(n._payload),s.type=n,i=s.tag=_m(n),e=Ke(n,e),i){case 0:s=yl(null,s,n,e,r);break e;case 1:s=Do(null,s,n,e,r);break e;case 11:s=Co(null,s,n,e,r);break e;case 14:s=Po(null,s,n,Ke(n.type,e),r);break e}throw Error(R(306,n,""))}return s;case 0:return n=s.type,i=s.pendingProps,i=s.elementType===n?i:Ke(n,i),yl(e,s,n,i,r);case 1:return n=s.type,i=s.pendingProps,i=s.elementType===n?i:Ke(n,i),Do(e,s,n,i,r);case 3:e:{if(Md(s),e===null)throw Error(R(387));n=s.pendingProps,l=s.memoizedState,i=l.element,cd(e,s),Ln(s,n,null,r);var a=s.memoizedState;if(n=a.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){i=Ls(Error(R(423)),s),s=zo(e,s,n,r,i);break e}else if(n!==i){i=Ls(Error(R(424)),s),s=zo(e,s,n,r,i);break e}else for(Le=Ft(s.stateNode.containerInfo.firstChild),Fe=s,re=!0,et=null,r=ad(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Is(),n===i){s=kt(e,s,r);break e}ke(e,s,n,r)}s=s.child}return s;case 5:return dd(s),e===null&&pl(s),n=s.type,i=s.pendingProps,l=e!==null?e.memoizedProps:null,a=i.children,cl(n,i)?a=null:l!==null&&cl(n,l)&&(s.flags|=32),Rd(e,s),ke(e,s,a,r),s.child;case 6:return e===null&&pl(s),null;case 13:return Ld(e,s,r);case 4:return da(s,s.stateNode.containerInfo),n=s.pendingProps,e===null?s.child=Rs(s,null,n,r):ke(e,s,n,r),s.child;case 11:return n=s.type,i=s.pendingProps,i=s.elementType===n?i:Ke(n,i),Co(e,s,n,i,r);case 7:return ke(e,s,s.pendingProps,r),s.child;case 8:return ke(e,s,s.pendingProps.children,r),s.child;case 12:return ke(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,i=s.pendingProps,l=s.memoizedProps,a=i.value,ee(Rn,n._currentValue),n._currentValue=a,l!==null)if(rt(l.value,a)){if(l.children===i.children&&!Te.current){s=kt(e,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var o=l.dependencies;if(o!==null){a=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=gt(-1,r&-r),c.tag=2;var p=l.updateQueue;if(p!==null){p=p.shared;var v=p.pending;v===null?c.next=c:(c.next=v.next,v.next=c),p.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),hl(l.return,r,s),o.lanes|=r;break}c=c.next}}else if(l.tag===10)a=l.type===s.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(R(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),hl(a,r,s),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===s){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}ke(e,s,i.children,r),s=s.child}return s;case 9:return i=s.type,n=s.pendingProps.children,_s(s,r),i=Ge(i),n=n(i),s.flags|=1,ke(e,s,n,r),s.child;case 14:return n=s.type,i=Ke(n,s.pendingProps),i=Ke(n.type,i),Po(e,s,n,i,r);case 15:return Td(e,s,s.type,s.pendingProps,r);case 17:return n=s.type,i=s.pendingProps,i=s.elementType===n?i:Ke(n,i),vn(e,s),s.tag=1,Ie(n)?(e=!0,An(s)):e=!1,_s(s,r),_d(s,n,i),gl(s,n,i,r),jl(null,s,n,!0,e,r);case 19:return Fd(e,s,r);case 22:return Id(e,s,r)}throw Error(R(156,s.tag))};function eu(e,s){return Pc(e,s)}function zm(e,s,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,s,r,n){return new zm(e,s,r,n)}function ka(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _m(e){if(typeof e=="function")return ka(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vl)return 11;if(e===Ql)return 14}return 2}function Ot(e,s){var r=e.alternate;return r===null?(r=Ve(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nn(e,s,r,n,i,l){var a=2;if(n=e,typeof e=="function")ka(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case hs:return ss(r.children,i,l,s);case Bl:a=8,i|=8;break;case qi:return e=Ve(12,r,s,i|2),e.elementType=qi,e.lanes=l,e;case Oi:return e=Ve(13,r,s,i),e.elementType=Oi,e.lanes=l,e;case Bi:return e=Ve(19,r,s,i),e.elementType=Bi,e.lanes=l,e;case dc:return ni(r,i,l,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oc:a=10;break e;case cc:a=9;break e;case Vl:a=11;break e;case Ql:a=14;break e;case zt:a=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return s=Ve(a,r,s,i),s.elementType=e,s.type=n,s.lanes=l,s}function ss(e,s,r,n){return e=Ve(7,e,n,s),e.lanes=r,e}function ni(e,s,r,n){return e=Ve(22,e,n,s),e.elementType=dc,e.lanes=r,e.stateNode={isHidden:!1},e}function Mi(e,s,r){return e=Ve(6,e,null,s),e.lanes=r,e}function Li(e,s,r){return s=Ve(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function Em(e,s,r,n,i){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ca(e,s,r,n,i,l,a,o,c){return e=new Em(e,s,r,o,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=Ve(3,null,null,s),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ca(l),e}function Am(e,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ps,key:n==null?null:""+n,children:e,containerInfo:s,implementation:r}}function tu(e){if(!e)return Qt;e=e._reactInternals;e:{if(ms(e)!==e||e.tag!==1)throw Error(R(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ie(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(Ie(r))return td(e,r,s)}return s}function su(e,s,r,n,i,l,a,o,c){return e=Ca(r,n,!0,e,i,l,a,o,c),e.context=tu(null),r=e.current,n=De(),i=qt(r),l=gt(n,i),l.callback=s??null,$t(r,l,i),e.current.lanes=i,qr(e,i,n),Re(e,n),e}function ii(e,s,r,n){var i=s.current,l=De(),a=qt(i);return r=tu(r),s.context===null?s.context=r:s.pendingContext=r,s=gt(l,a),s.payload={element:e},n=n===void 0?null:n,n!==null&&(s.callback=n),e=$t(i,s,a),e!==null&&(st(e,i,a,l),hn(e,i,a)),a}function Qn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $o(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function Pa(e,s){$o(e,s),(e=e.alternate)&&$o(e,s)}function Tm(){return null}var ru=typeof reportError=="function"?reportError:function(e){console.error(e)};function Da(e){this._internalRoot=e}li.prototype.render=Da.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(R(409));ii(e,s,null,null)};li.prototype.unmount=Da.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;os(function(){ii(null,e,null,null)}),s[wt]=null}};function li(e){this._internalRoot=e}li.prototype.unstable_scheduleHydration=function(e){if(e){var s=Ic();e={blockedOn:null,target:e,priority:s};for(var r=0;r<Et.length&&s!==0&&s<Et[r].priority;r++);Et.splice(r,0,e),r===0&&Mc(e)}};function za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ai(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uo(){}function Im(e,s,r,n,i){if(i){if(typeof n=="function"){var l=n;n=function(){var p=Qn(a);l.call(p)}}var a=su(s,n,e,0,null,!1,!1,"",Uo);return e._reactRootContainer=a,e[wt]=a.current,Dr(e.nodeType===8?e.parentNode:e),os(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var p=Qn(c);o.call(p)}}var c=Ca(e,0,!1,null,null,!1,!1,"",Uo);return e._reactRootContainer=c,e[wt]=c.current,Dr(e.nodeType===8?e.parentNode:e),os(function(){ii(s,c,r,n)}),c}function oi(e,s,r,n,i){var l=r._reactRootContainer;if(l){var a=l;if(typeof i=="function"){var o=i;i=function(){var c=Qn(a);o.call(c)}}ii(s,a,e,i)}else a=Im(r,s,e,i,n);return Qn(a)}Ac=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=nr(s.pendingLanes);r!==0&&(Zl(s,r|1),Re(s,de()),!(Y&6)&&(Fs=de()+500,Wt()))}break;case 13:os(function(){var n=St(e,1);if(n!==null){var i=De();st(n,e,1,i)}}),Pa(e,1)}};Wl=function(e){if(e.tag===13){var s=St(e,134217728);if(s!==null){var r=De();st(s,e,134217728,r)}Pa(e,134217728)}};Tc=function(e){if(e.tag===13){var s=qt(e),r=St(e,s);if(r!==null){var n=De();st(r,e,s,n)}Pa(e,s)}};Ic=function(){return K};Rc=function(e,s){var r=K;try{return K=e,s()}finally{K=r}};Ji=function(e,s,r){switch(s){case"input":if(Hi(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==e&&n.form===e.form){var i=Kn(n);if(!i)throw Error(R(90));mc(n),Hi(n,i)}}}break;case"textarea":pc(e,r);break;case"select":s=r.value,s!=null&&Cs(e,!!r.multiple,s,!1)}};Nc=ba;bc=os;var Rm={usingClientEntryPoint:!1,Events:[Br,ys,Kn,yc,jc,ba]},Js={findFiberByHostInstance:Kt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mm={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kc(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||Tm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cn.isDisabled&&cn.supportsFiber)try{Zn=cn.inject(Mm),ot=cn}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rm;Ue.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!za(s))throw Error(R(200));return Am(e,s,null,r)};Ue.createRoot=function(e,s){if(!za(e))throw Error(R(299));var r=!1,n="",i=ru;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),s=Ca(e,1,!1,null,null,r,!1,n,i),e[wt]=s.current,Dr(e.nodeType===8?e.parentNode:e),new Da(s)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=kc(s),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return os(e)};Ue.hydrate=function(e,s,r){if(!ai(s))throw Error(R(200));return oi(null,e,s,!0,r)};Ue.hydrateRoot=function(e,s,r){if(!za(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,i=!1,l="",a=ru;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),s=su(s,null,e,1,r??null,i,!1,l,a),e[wt]=s.current,Dr(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,i]:s.mutableSourceEagerHydrationData.push(r,i);return new li(s)};Ue.render=function(e,s,r){if(!ai(s))throw Error(R(200));return oi(null,e,s,!1,r)};Ue.unmountComponentAtNode=function(e){if(!ai(e))throw Error(R(40));return e._reactRootContainer?(os(function(){oi(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};Ue.unstable_batchedUpdates=ba;Ue.unstable_renderSubtreeIntoContainer=function(e,s,r,n){if(!ai(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return oi(e,s,r,!1,n)};Ue.version="18.3.1-next-f1338f8080-20240426";function nu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nu)}catch(e){console.error(e)}}nu(),nc.exports=Ue;var Lm=nc.exports,iu,qo=Lm;iu=qo.createRoot,qo.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,s)=>{const r=T.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:o="",children:c,...p},v)=>T.createElement("svg",{ref:v,...Fm,width:i,height:i,stroke:n,strokeWidth:a?Number(l)*24/Number(i):l,className:["lucide",`lucide-${$m(e)}`,o].join(" "),...p},[...s.map(([N,y])=>T.createElement(N,y)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=B("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=B("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=B("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=B("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=B("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=B("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=B("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=B("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=B("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=B("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=B("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=B("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=B("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=B("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=B("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=B("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=B("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=B("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=B("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=B("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=B("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=B("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=B("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=B("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=B("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=B("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=B("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=B("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=B("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=B("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=B("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=B("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=B("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=B("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=B("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=B("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=B("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=B("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Xm=({onSelectProfile:e})=>{const s=[{id:"household",title:"Profil Ménage",description:"Créer des listes de courses, faire des dons, covoiturage et livraison",features:["Scanner IA produits","Reçus fiscaux","Covoiturage 15€ + 0.60€/km"],icon:Bt,color:"bg-emerald-50 border-emerald-200 hover:bg-emerald-100",iconColor:"text-emerald-600",gradient:"from-emerald-400 to-emerald-600"},{id:"social_worker",title:"Travailleur Social",description:"Valider les profils, établir des parcours, gérer les demandes",features:["Validation <48h","QR codes sécurisés","API CAF intégrée"],icon:ui,color:"bg-blue-50 border-blue-200 hover:bg-blue-100",iconColor:"text-blue-600",gradient:"from-blue-400 to-blue-600"},{id:"association",title:"Association",description:"Gérer les stocks, réceptionner les colis, distribuer",features:["Alertes automatiques","Géolocalisation","Scan QR sécurisé"],icon:le,color:"bg-purple-50 border-purple-200 hover:bg-purple-100",iconColor:"text-purple-600",gradient:"from-purple-400 to-purple-600"},{id:"beneficiary",title:"Bénéficiaire",description:"Faire des demandes, consulter l'historique, retirer les colis",features:["Validation documents","QR codes 72h","Historique complet"],icon:Pe,color:"bg-orange-50 border-orange-200 hover:bg-orange-100",iconColor:"text-orange-600",gradient:"from-orange-400 to-orange-600"}];return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:t.jsxs("div",{className:"relative overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10"}),t.jsxs("div",{className:"relative max-w-7xl mx-auto px-6 py-16",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl shadow-lg",children:t.jsx($r,{className:"text-white",size:48})})}),t.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Peuple Solidaire"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Plateforme digitale de solidarité alimentaire avec IA, géolocalisation et validation sécurisée"}),t.jsxs("div",{className:"flex items-center justify-center space-x-8 mt-8",children:[t.jsxs("div",{className:"flex items-center text-green-600",children:[t.jsx(yt,{className:"mr-2",size:20}),t.jsx("span",{className:"font-medium",children:"Sécurisé"})]}),t.jsxs("div",{className:"flex items-center text-blue-600",children:[t.jsx(qs,{className:"mr-2",size:20}),t.jsx("span",{className:"font-medium",children:"IA Intégrée"})]}),t.jsxs("div",{className:"flex items-center text-purple-600",children:[t.jsx($r,{className:"mr-2",size:20}),t.jsx("span",{className:"font-medium",children:"Géolocalisé"})]})]})]}),t.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:s.map(r=>{const n=r.icon;return t.jsxs("button",{onClick:()=>e(r.id),className:`${r.color} border-2 rounded-2xl p-8 text-left transition-all duration-300 transform hover:scale-105 hover:shadow-xl group relative overflow-hidden`,children:[t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center mb-6",children:[t.jsx("div",{className:`bg-gradient-to-r ${r.gradient} p-4 rounded-xl shadow-lg group-hover:shadow-xl transition-shadow`,children:t.jsx(n,{size:32,className:"text-white"})}),t.jsxs("div",{className:"ml-6",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.title}),t.jsx("p",{className:"text-gray-600",children:r.description})]})]}),t.jsx("div",{className:"space-y-3",children:r.features.map((i,l)=>t.jsxs("div",{className:"flex items-center text-gray-700",children:[t.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${r.gradient} mr-3`}),t.jsx("span",{className:"font-medium",children:i})]},l))})]}),t.jsx("div",{className:`absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-r ${r.gradient} opacity-10 rounded-full transform translate-x-16 translate-y-16 group-hover:scale-150 transition-transform duration-300`})]},r.id)})}),t.jsx("div",{className:"mt-16 text-center",children:t.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 max-w-4xl mx-auto border border-white/20",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Architecture Technique"}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-sm",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-semibold text-blue-600",children:"Frontend"}),t.jsxs("p",{className:"text-gray-600",children:["React + Tailwind CSS",t.jsx("br",{}),"Interface WCAG 2.1"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-semibold text-purple-600",children:"IA & Sécurité"}),t.jsxs("p",{className:"text-gray-600",children:["TensorFlow Lite",t.jsx("br",{}),"Chiffrement AES-256"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-semibold text-green-600",children:"KPIs"}),t.jsxs("p",{className:"text-gray-600",children:["Validation <48h",t.jsx("br",{}),"Précision IA ≥90%"]})]})]})]})})]})]})})},Km=({onSelectService:e,selectedService:s})=>{const r=[{id:"shopping-list",title:"Préparer ma liste de courses pour le magasin",subtitle:"Base Yuka + Comparateur",icon:ds,gradient:"from-emerald-400 to-emerald-600",bgGradient:"from-emerald-50 to-emerald-100",borderColor:"border-emerald-300",hoverBorder:"hover:border-emerald-400",textColor:"text-emerald-800"},{id:"scanner",title:"Faire mes achats en magasin",subtitle:"Scanner + Guide courses",icon:rs,gradient:"from-emerald-400 to-teal-600",bgGradient:"from-emerald-50 to-teal-100",borderColor:"border-emerald-300",hoverBorder:"hover:border-emerald-400",textColor:"text-emerald-800"},{id:"donations",title:"Mes Dons Solidaires & Reçus Fiscaux",subtitle:"Dons + Déductions + PDF automatiques",icon:Pe,gradient:"from-emerald-400 to-emerald-600",bgGradient:"from-emerald-50 to-emerald-100",borderColor:"border-emerald-300",hoverBorder:"hover:border-emerald-400",textColor:"text-emerald-800"},{id:"price-comparison",title:"Comparateur Prix",subtitle:"Multi-enseignes temps réel",icon:jt,gradient:"from-emerald-400 to-emerald-600",bgGradient:"from-emerald-50 to-emerald-100",borderColor:"border-emerald-300",hoverBorder:"hover:border-emerald-400",textColor:"text-emerald-800"},{id:"transport-services",title:"Services de transport : Covoiturage et livraison",subtitle:"15€+0.60€/km | 25€+0.60€/km",icon:au,gradient:"from-emerald-400 to-emerald-600",bgGradient:"from-emerald-50 to-emerald-100",borderColor:"border-emerald-300",hoverBorder:"hover:border-emerald-400",textColor:"text-emerald-800"},{id:"promotions",title:"Catalogue des promotions par magasin",subtitle:"Catalogues enseignes",icon:di,gradient:"from-emerald-400 to-emerald-600",bgGradient:"from-emerald-50 to-emerald-100",borderColor:"border-emerald-300",hoverBorder:"hover:border-emerald-400",textColor:"text-emerald-800"}];return t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(n=>{const i=n.icon,l=s===n.id;return t.jsxs("button",{onClick:()=>e(n.id),className:`group relative overflow-hidden rounded-2xl p-6 text-left transition-all duration-300 transform hover:scale-105 hover:shadow-xl ${l?`bg-gradient-to-br ${n.bgGradient} border-2 ${n.borderColor} shadow-xl scale-105`:`bg-white border-2 border-gray-200 ${n.hoverBorder} shadow-lg`}`,children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.bgGradient} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:`inline-flex p-3 rounded-xl bg-gradient-to-r ${n.gradient} shadow-lg mb-4 group-hover:shadow-xl transition-shadow`,children:t.jsx(i,{size:28,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:`text-lg font-bold text-gray-900 mb-1 group-hover:${n.textColor} transition-colors`,children:n.title}),t.jsx("p",{className:"text-sm font-medium text-emerald-600",children:n.subtitle})]})]}),t.jsx("div",{className:`absolute -bottom-6 -right-6 w-24 h-24 bg-gradient-to-r ${n.gradient} opacity-10 rounded-full transform translate-x-8 translate-y-8 group-hover:scale-150 transition-transform duration-300`})]},n.id)})})},Jm=({onSelectService:e,selectedService:s})=>{const r=[{id:"beneficiary-info",title:"Informations Bénéficiaires",subtitle:"Fiches complètes et validation",icon:ui,gradient:"from-blue-400 to-blue-600",bgGradient:"from-blue-50 to-blue-100",borderColor:"border-blue-300",hoverBorder:"hover:border-blue-400",textColor:"text-blue-800"},{id:"requests",title:"Demandes",subtitle:"Gestion des demandes",icon:Tl,gradient:"from-blue-400 to-blue-600",bgGradient:"from-blue-50 to-blue-100",borderColor:"border-blue-300",hoverBorder:"hover:border-blue-400",textColor:"text-blue-800"},{id:"qr-codes",title:"QR Codes 72h",subtitle:"Géolocalisation requise",icon:ve,gradient:"from-blue-400 to-blue-600",bgGradient:"from-blue-50 to-blue-100",borderColor:"border-blue-300",hoverBorder:"hover:border-blue-400",textColor:"text-blue-800"},{id:"security",title:"Sécurité & Conformité",subtitle:"RGPD + Chiffrement",icon:yt,gradient:"from-blue-400 to-blue-600",bgGradient:"from-blue-50 to-blue-100",borderColor:"border-blue-300",hoverBorder:"hover:border-blue-400",textColor:"text-blue-800"}];return t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(n=>{const i=n.icon,l=s===n.id;return t.jsxs("button",{onClick:()=>e(n.id),className:`group relative overflow-hidden rounded-2xl p-6 text-left transition-all duration-300 transform hover:scale-105 hover:shadow-xl ${l?`bg-gradient-to-br ${n.bgGradient} border-2 ${n.borderColor} shadow-xl scale-105`:`bg-white border-2 border-gray-200 ${n.hoverBorder} shadow-lg`}`,children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.bgGradient} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:`inline-flex p-3 rounded-xl bg-gradient-to-r ${n.gradient} shadow-lg mb-4 group-hover:shadow-xl transition-shadow`,children:t.jsx(i,{size:28,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:`text-lg font-bold text-gray-900 mb-1 group-hover:${n.textColor} transition-colors`,children:n.title}),t.jsx("p",{className:"text-sm font-medium text-blue-600",children:n.subtitle})]})]}),t.jsx("div",{className:`absolute -bottom-6 -right-6 w-24 h-24 bg-gradient-to-r ${n.gradient} opacity-10 rounded-full transform translate-x-8 translate-y-8 group-hover:scale-150 transition-transform duration-300`})]},n.id)})})},ex=({onSelectService:e,selectedService:s})=>{const r=[{id:"smart-inventory",title:"Gestion Intelligente des Stocks",subtitle:"FIFO • Alertes critiques • Demandes ménages",icon:le,gradient:"from-purple-400 to-purple-600",bgGradient:"from-purple-50 to-purple-100",borderColor:"border-purple-300",hoverBorder:"hover:border-purple-400",textColor:"text-purple-800"},{id:"stock-management",title:"Gestion du Stock",subtitle:"Scanner entrées/sorties • Reçus fiscaux",icon:_a,gradient:"from-emerald-400 to-emerald-600",bgGradient:"from-emerald-50 to-emerald-100",borderColor:"border-emerald-300",hoverBorder:"hover:border-emerald-400",textColor:"text-emerald-800"},{id:"qr-distribution",title:"Distribution QR Géolocalisée",subtitle:"Traçabilité complète • Historique",icon:ve,gradient:"from-blue-400 to-blue-600",bgGradient:"from-blue-50 to-blue-100",borderColor:"border-blue-300",hoverBorder:"hover:border-blue-400",textColor:"text-blue-800"},{id:"fraud-detection",title:"Sécurité Avancée",subtitle:"Détection fraudes • Anomalies",icon:yt,gradient:"from-red-400 to-red-600",bgGradient:"from-red-50 to-red-100",borderColor:"border-red-300",hoverBorder:"hover:border-red-400",textColor:"text-red-800"},{id:"critical-alerts",title:"Alertes Stocks Critiques",subtitle:"Seuil 6 articles • Demandes automatiques",icon:He,gradient:"from-orange-400 to-orange-600",bgGradient:"from-orange-50 to-orange-100",borderColor:"border-orange-300",hoverBorder:"hover:border-orange-400",textColor:"text-orange-800"},{id:"stock-analytics",title:"Analyse des Stocks",subtitle:"Tendances • Prévisions • Optimisation",icon:yr,gradient:"from-indigo-400 to-indigo-600",bgGradient:"from-indigo-50 to-indigo-100",borderColor:"border-indigo-300",hoverBorder:"hover:border-indigo-400",textColor:"text-indigo-800"}];return t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(n=>{const i=n.icon,l=s===n.id;return t.jsxs("button",{onClick:()=>e(n.id),className:`group relative overflow-hidden rounded-2xl p-6 text-left transition-all duration-300 transform hover:scale-105 hover:shadow-xl ${l?`bg-gradient-to-br ${n.bgGradient} border-2 ${n.borderColor} shadow-xl scale-105`:`bg-white border-2 border-gray-200 ${n.hoverBorder} shadow-lg`}`,children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.bgGradient} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:`inline-flex p-3 rounded-xl bg-gradient-to-r ${n.gradient} shadow-lg mb-4 group-hover:shadow-xl transition-shadow`,children:t.jsx(i,{size:28,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:`text-lg font-bold text-gray-900 mb-1 group-hover:${n.textColor} transition-colors`,children:n.title}),t.jsx("p",{className:`text-sm font-medium ${n.textColor.replace("text-","text-").replace("-800","-600")}`,children:n.subtitle})]})]}),t.jsx("div",{className:`absolute -bottom-6 -right-6 w-24 h-24 bg-gradient-to-r ${n.gradient} opacity-10 rounded-full transform translate-x-8 translate-y-8 group-hover:scale-150 transition-transform duration-300`})]},n.id)})})},tx=({onSelectService:e,selectedService:s})=>{const r=[{id:"new-request",title:"Nouvelle Demande",subtitle:"Anonyme et sécurisée",icon:Pe,gradient:"from-orange-400 to-orange-600",bgGradient:"from-orange-50 to-orange-100",borderColor:"border-orange-300",hoverBorder:"hover:border-orange-400",textColor:"text-orange-800"},{id:"history",title:"Historique Complet",subtitle:"Suivi transparent",icon:We,gradient:"from-orange-400 to-orange-600",bgGradient:"from-orange-50 to-orange-100",borderColor:"border-orange-300",hoverBorder:"hover:border-orange-400",textColor:"text-orange-800"},{id:"qr-codes",title:"QR Codes 72h",subtitle:"Retrait sécurisé",icon:ve,gradient:"from-orange-400 to-orange-600",bgGradient:"from-orange-50 to-orange-100",borderColor:"border-orange-300",hoverBorder:"hover:border-orange-400",textColor:"text-orange-800"},{id:"profile",title:"Profil Validé",subtitle:"Code unique PDS-2024-156",icon:yt,gradient:"from-orange-400 to-orange-600",bgGradient:"from-orange-50 to-orange-100",borderColor:"border-orange-300",hoverBorder:"hover:border-orange-400",textColor:"text-orange-800"},{id:"documents",title:"Mes Documents",subtitle:"Gestion sécurisée",icon:Ce,gradient:"from-orange-400 to-orange-600",bgGradient:"from-orange-50 to-orange-100",borderColor:"border-orange-300",hoverBorder:"hover:border-orange-400",textColor:"text-orange-800"},{id:"communication",title:"Communication",subtitle:"Accompagnement",icon:cu,gradient:"from-orange-400 to-orange-600",bgGradient:"from-orange-50 to-orange-100",borderColor:"border-orange-300",hoverBorder:"hover:border-orange-400",textColor:"text-orange-800"},{id:"rights",title:"Mes Droits",subtitle:"Protection RGPD",icon:ne,gradient:"from-orange-400 to-orange-600",bgGradient:"from-orange-50 to-orange-100",borderColor:"border-orange-300",hoverBorder:"hover:border-orange-400",textColor:"text-orange-800"},{id:"alerts",title:"Mes Alertes",subtitle:"Notifications importantes",icon:He,gradient:"from-orange-400 to-orange-600",bgGradient:"from-orange-50 to-orange-100",borderColor:"border-orange-300",hoverBorder:"hover:border-orange-400",textColor:"text-orange-800"}];return t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(n=>{const i=n.icon,l=s===n.id;return t.jsxs("button",{onClick:()=>e(n.id),className:`group relative overflow-hidden rounded-2xl p-6 text-left transition-all duration-300 transform hover:scale-105 hover:shadow-xl ${l?`bg-gradient-to-br ${n.bgGradient} border-2 ${n.borderColor} shadow-xl scale-105`:`bg-white border-2 border-gray-200 ${n.hoverBorder} shadow-lg`}`,children:[t.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.bgGradient} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:`inline-flex p-3 rounded-xl bg-gradient-to-r ${n.gradient} shadow-lg mb-4 group-hover:shadow-xl transition-shadow`,children:t.jsx(i,{size:28,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:`text-lg font-bold text-gray-900 mb-1 group-hover:${n.textColor} transition-colors`,children:n.title}),t.jsx("p",{className:"text-sm font-medium text-orange-600",children:n.subtitle})]})]}),t.jsx("div",{className:`absolute -bottom-6 -right-6 w-24 h-24 bg-gradient-to-r ${n.gradient} opacity-10 rounded-full transform translate-x-8 translate-y-8 group-hover:scale-150 transition-transform duration-300`})]},n.id)})})},er=[{id:"prod_001",name:"Pommes Golden",brand:"Carrefour Bio",category:"fruits-legumes",barcode:"3560070123456",image:"🍎",nutriScore:"A",ecoScore:"A",allergens:[],description:"Pommes Golden biologiques, origine France"},{id:"prod_002",name:"Bananes",brand:"Chiquita",category:"fruits-legumes",barcode:"3560070123457",image:"🍌",nutriScore:"A",ecoScore:"B",allergens:[],description:"Bananes équitables, origine Équateur"},{id:"prod_003",name:"Tomates cerises",brand:"Prince de Bretagne",category:"fruits-legumes",barcode:"3560070123458",image:"🍅",nutriScore:"A",ecoScore:"A",allergens:[],description:"Tomates cerises françaises, cultivées en Bretagne"},{id:"prod_004",name:"Carottes",brand:"Carrefour",category:"fruits-legumes",barcode:"3560070123459",image:"🥕",nutriScore:"A",ecoScore:"A",allergens:[],description:"Carottes fraîches, origine France"},{id:"prod_005",name:"Salade iceberg",brand:"Florette",category:"fruits-legumes",barcode:"3560070123460",image:"🥬",nutriScore:"A",ecoScore:"B",allergens:[],description:"Salade iceberg prête à consommer"},{id:"prod_006",name:"Lait demi-écrémé 1L",brand:"Lactel",category:"produits-laitiers",barcode:"3560070123461",image:"🥛",nutriScore:"B",ecoScore:"C",allergens:["lait"],description:"Lait demi-écrémé UHT, origine France"},{id:"prod_007",name:"Yaourts nature x8",brand:"Danone",category:"produits-laitiers",barcode:"3560070123462",image:"🥛",nutriScore:"A",ecoScore:"C",allergens:["lait"],description:"Yaourts nature au lait entier"},{id:"prod_008",name:"Fromage râpé",brand:"Président",category:"produits-laitiers",barcode:"3560070123463",image:"🧀",nutriScore:"C",ecoScore:"D",allergens:["lait"],description:"Emmental râpé, 200g"},{id:"prod_009",name:"Beurre doux 250g",brand:"Elle & Vire",category:"produits-laitiers",barcode:"3560070123464",image:"🧈",nutriScore:"D",ecoScore:"D",allergens:["lait"],description:"Beurre doux de Normandie"},{id:"prod_010",name:"Riz basmati 1kg",brand:"Uncle Ben's",category:"feculents",barcode:"3560070123465",image:"🍚",nutriScore:"A",ecoScore:"B",allergens:[],description:"Riz basmati long grain"},{id:"prod_011",name:"Pâtes spaghetti",brand:"Barilla",category:"feculents",barcode:"3560070123466",image:"🍝",nutriScore:"A",ecoScore:"B",allergens:["gluten"],description:"Spaghetti n°5, 500g"},{id:"prod_012",name:"Pain de mie complet",brand:"Harry's",category:"feculents",barcode:"3560070123467",image:"🍞",nutriScore:"B",ecoScore:"C",allergens:["gluten"],description:"Pain de mie complet, 14 tranches"},{id:"prod_013",name:"Pommes de terre",brand:"Carrefour",category:"feculents",barcode:"3560070123468",image:"🥔",nutriScore:"A",ecoScore:"A",allergens:[],description:"Pommes de terre Charlotte, 2kg"},{id:"prod_014",name:"Escalopes de poulet",brand:"Le Gaulois",category:"viandes-poissons",barcode:"3560070123469",image:"🍗",nutriScore:"B",ecoScore:"C",allergens:[],description:"Escalopes de poulet fermier, 4 pièces"},{id:"prod_015",name:"Saumon fumé",brand:"Labeyrie",category:"viandes-poissons",barcode:"3560070123470",image:"🐟",nutriScore:"B",ecoScore:"C",allergens:["poisson"],description:"Saumon fumé d'Écosse, 4 tranches"},{id:"prod_016",name:"Jambon blanc",brand:"Fleury Michon",category:"viandes-poissons",barcode:"3560070123471",image:"🥓",nutriScore:"C",ecoScore:"D",allergens:[],description:"Jambon blanc découenné dégraissé, 4 tranches"},{id:"prod_017",name:"Huile d'olive",brand:"Puget",category:"epicerie",barcode:"3560070123472",image:"🫒",nutriScore:"C",ecoScore:"B",allergens:[],description:"Huile d'olive vierge extra, 50cl"},{id:"prod_018",name:"Conserve tomates",brand:"Mutti",category:"epicerie",barcode:"3560070123473",image:"🥫",nutriScore:"A",ecoScore:"B",allergens:[],description:"Tomates pelées entières, 400g"},{id:"prod_019",name:"Céréales",brand:"Kellogg's",category:"epicerie",barcode:"3560070123474",image:"🥣",nutriScore:"C",ecoScore:"C",allergens:["gluten"],description:"Corn Flakes, 375g"},{id:"prod_020",name:"Café moulu",brand:"Carte Noire",category:"epicerie",barcode:"3560070123475",image:"☕",nutriScore:"A",ecoScore:"C",allergens:[],description:"Café moulu arabica, 250g"}],Ho=[{id:"assoc_001",name:"Restos du Cœur Marseille",address:"123 Avenue de la Solidarité, 13001 Marseille",phone:"04 91 XX XX XX",email:"marseille@restosducoeur.org",siret:"12345678901234",coordinates:{lat:43.2965,lng:5.3698},services:["Distribution alimentaire","Aide d'urgence","Accompagnement social"]},{id:"assoc_002",name:"Secours Populaire Marseille",address:"456 Rue de l'Entraide, 13003 Marseille",phone:"04 91 YY YY YY",email:"marseille@secourspopulaire.fr",siret:"23456789012345",coordinates:{lat:43.3047,lng:5.3925},services:["Distribution alimentaire","Vêtements","Aide aux devoirs"]},{id:"assoc_003",name:"Banque Alimentaire PACA",address:"789 Boulevard de la Générosité, 13015 Marseille",phone:"04 91 ZZ ZZ ZZ",email:"contact@ba13.org",siret:"34567890123456",coordinates:{lat:43.3628,lng:5.3714},services:["Collecte alimentaire","Redistribution","Logistique"]},{id:"assoc_004",name:"Croix-Rouge Marseille",address:"321 Place de l'Humanité, 13008 Marseille",phone:"04 91 AA AA AA",email:"marseille@croix-rouge.fr",siret:"45678901234567",coordinates:{lat:43.2733,lng:5.3927},services:["Urgence sociale","Distribution alimentaire","Maraudes"]}],$i=[{id:"store_001",name:"Carrefour Marseille Centre",address:"123 Avenue de la République, 13001 Marseille",coordinates:{lat:43.2965,lng:5.3698},distance:1.2,openingHours:"Lun-Sam: 8h30-21h30, Dim: 9h-19h",phone:"04 91 XX XX XX",services:["Drive","Livraison","Click & Collect"]},{id:"store_002",name:"Leclerc Marseille Est",address:"456 Boulevard National, 13003 Marseille",coordinates:{lat:43.3047,lng:5.3925},distance:2.8,openingHours:"Lun-Sam: 8h30-20h30, Dim: 9h-19h",phone:"04 91 YY YY YY",services:["Drive","Click & Collect"]},{id:"store_003",name:"Auchan Marseille Nord",address:"789 Route de Lyon, 13015 Marseille",coordinates:{lat:43.3628,lng:5.3714},distance:4.5,openingHours:"Lun-Sam: 8h30-22h, Dim: 9h-19h",phone:"04 91 ZZ ZZ ZZ",services:["Drive","Livraison","Click & Collect","Retrait 2h"]},{id:"store_004",name:"Monoprix Marseille Vieux-Port",address:"321 Rue de la République, 13002 Marseille",coordinates:{lat:43.2951,lng:5.3756},distance:.8,openingHours:"Lun-Sam: 9h-20h, Dim: 10h-19h",phone:"04 91 AA AA AA",services:["Livraison","Click & Collect"]},{id:"store_005",name:"Casino Marseille Castellane",address:"654 Avenue du Prado, 13008 Marseille",coordinates:{lat:43.2733,lng:5.3927},distance:3.1,openingHours:"Lun-Sam: 8h-21h, Dim: 9h-19h",phone:"04 91 BB BB BB",services:["Click & Collect"]}],tr={prod_001:[{storeId:"store_001",storeName:"Carrefour",price:2.99,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:2.79,promotion:{type:"percentage",value:10,description:"-10% sur les fruits bio",validUntil:new Date("2024-01-20T23:59:59Z")},availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:3.19,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:3.49,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:2.89,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_002:[{storeId:"store_001",storeName:"Carrefour",price:1.89,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:1.69,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:1.79,promotion:{type:"quantity",value:2,description:"2 kg achetés = 1 kg offert",validUntil:new Date("2024-01-18T23:59:59Z")},availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:2.19,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:1.99,availability:!1,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_003:[{storeId:"store_001",storeName:"Carrefour",price:3.49,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:3.29,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:3.69,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:3.99,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:3.39,promotion:{type:"fixed",value:.3,description:"-30 centimes immédiat",validUntil:new Date("2024-01-17T23:59:59Z")},availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_004:[{storeId:"store_001",storeName:"Carrefour",price:1.99,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:1.79,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:2.09,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:2.29,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:1.89,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_005:[{storeId:"store_001",storeName:"Carrefour",price:1.49,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:1.39,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:1.59,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:1.69,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:1.45,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_006:[{storeId:"store_001",storeName:"Carrefour",price:1.15,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:1.09,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:1.19,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:1.29,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:1.25,promotion:{type:"fixed",value:.2,description:"-20 centimes immédiat",validUntil:new Date("2024-01-17T23:59:59Z")},availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_007:[{storeId:"store_001",storeName:"Carrefour",price:2.89,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:2.69,promotion:{type:"percentage",value:15,description:"-15% sur les yaourts",validUntil:new Date("2024-01-19T23:59:59Z")},availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:2.99,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:3.19,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:2.79,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_008:[{storeId:"store_001",storeName:"Carrefour",price:2.49,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:2.29,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:2.59,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:2.79,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:2.39,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_009:[{storeId:"store_001",storeName:"Carrefour",price:3.29,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:3.09,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:3.39,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:3.59,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:3.19,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_010:[{storeId:"store_001",storeName:"Carrefour",price:3.29,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:2.99,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:3.49,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:3.79,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:3.19,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_011:[{storeId:"store_001",storeName:"Carrefour",price:1.89,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:1.69,promotion:{type:"quantity",value:3,description:"3 paquets achetés = 1 offert",validUntil:new Date("2024-01-20T23:59:59Z")},availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:1.99,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:2.19,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:1.79,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_012:[{storeId:"store_001",storeName:"Carrefour",price:2.19,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:1.99,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:2.29,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:2.49,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:2.09,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_013:[{storeId:"store_001",storeName:"Carrefour",price:2.99,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:2.79,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:3.19,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:3.39,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:2.89,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_014:[{storeId:"store_001",storeName:"Carrefour",price:6.99,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:6.49,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:7.19,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:7.49,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:6.79,promotion:{type:"percentage",value:20,description:"-20% sur les volailles",validUntil:new Date("2024-01-18T23:59:59Z")},availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_015:[{storeId:"store_001",storeName:"Carrefour",price:4.99,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:4.79,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:5.19,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:5.49,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:4.89,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_016:[{storeId:"store_001",storeName:"Carrefour",price:2.99,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:2.79,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:3.19,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:3.39,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:2.89,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_017:[{storeId:"store_001",storeName:"Carrefour",price:4.49,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:4.19,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:4.69,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:4.99,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:4.29,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_018:[{storeId:"store_001",storeName:"Carrefour",price:1.29,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:1.19,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:1.39,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:1.49,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:1.25,promotion:{type:"quantity",value:2,description:"2 boîtes achetées = 1 offerte",validUntil:new Date("2024-01-19T23:59:59Z")},availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_019:[{storeId:"store_001",storeName:"Carrefour",price:3.49,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:3.19,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:3.69,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:3.89,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:3.29,availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}],prod_020:[{storeId:"store_001",storeName:"Carrefour",price:4.99,availability:!0,lastUpdated:new Date("2024-01-15T10:00:00Z")},{storeId:"store_002",storeName:"Leclerc",price:4.69,availability:!0,lastUpdated:new Date("2024-01-15T09:30:00Z")},{storeId:"store_003",storeName:"Auchan",price:5.19,availability:!0,lastUpdated:new Date("2024-01-15T08:45:00Z")},{storeId:"store_004",storeName:"Monoprix",price:5.49,availability:!0,lastUpdated:new Date("2024-01-15T11:15:00Z")},{storeId:"store_005",storeName:"Casino",price:4.79,promotion:{type:"fixed",value:.5,description:"-50 centimes immédiat",validUntil:new Date("2024-01-17T23:59:59Z")},availability:!0,lastUpdated:new Date("2024-01-15T10:30:00Z")}]};class U{static getProduct(s){return er.find(r=>r.id===s)}static getProductByBarcode(s){return er.find(r=>r.barcode===s)}static getProductsByCategory(s){return er.filter(r=>r.category===s)}static searchProducts(s){const r=s.toLowerCase();return er.filter(n=>n.name.toLowerCase().includes(r)||n.brand.toLowerCase().includes(r)||n.description.toLowerCase().includes(r))}static getProductWithPrices(s){const r=this.getProduct(s);if(!r)return;const n=tr[s]||[];return{...r,prices:n}}static getAllProductsWithPrices(){return er.map(s=>({...s,prices:tr[s.id]||[]}))}static getStores(){return $i}static getStore(s){return $i.find(r=>r.id===s)}static getAssociations(){return Ho}static getAssociation(s){return Ho.find(r=>r.id===s)}static getBestPriceForProduct(s){const n=(tr[s]||[]).filter(i=>i.availability);if(n.length!==0)return n.reduce((i,l)=>{const a=l.promotion?this.calculatePromotionalPrice(l.price,l.promotion):l.price,o=i.promotion?this.calculatePromotionalPrice(i.price,i.promotion):i.price;return a<o?l:i})}static calculatePromotionalPrice(s,r){if(!r)return s;switch(r.type){case"percentage":return s*(1-r.value/100);case"fixed":return Math.max(0,s-r.value);case"quantity":return s;default:return s}}static calculateBasketTotal(s,r){return s.reduce((n,i)=>{const l=tr[i.productId];if(!l)return n;const a=l.find(c=>c.storeId===r);if(!a||!a.availability)return n;const o=this.calculatePromotionalPrice(a.price,a.promotion);return n+o*i.quantity},0)}static compareBaskets(s){const r=$i.map(i=>{let l=0,a=0,o=0;return s.forEach(c=>{const p=tr[c.productId];if(!p){a++;return}const v=p.find(y=>y.storeId===i.id);if(!v||!v.availability){a++;return}v.promotion&&o++;const N=this.calculatePromotionalPrice(v.price,v.promotion);l+=N*c.quantity}),{store:i,total:l,unavailableItems:a,promotions:o,savings:0}}),n=Math.max(...r.map(i=>i.total));return r.forEach(i=>{i.savings=n-i.total}),r.sort((i,l)=>i.total-l.total)}static saveShoppingList(s){const n=this.getShoppingLists().filter(i=>i.id!==s.id);n.push(s),localStorage.setItem("shoppingLists",JSON.stringify(n))}static getShoppingLists(){const s=localStorage.getItem("shoppingLists");return s?JSON.parse(s):[]}static getShoppingList(s){return this.getShoppingLists().find(n=>n.id===s)}static deleteShoppingList(s){const n=this.getShoppingLists().filter(i=>i.id!==s);localStorage.setItem("shoppingLists",JSON.stringify(n))}static getValidatedList(){return this.getShoppingLists().find(r=>r.status==="validated"||r.status==="in_progress")}static saveDonationPackage(s){const n=this.getDonationPackages().filter(i=>i.id!==s.id);n.push(s),localStorage.setItem("donationPackages",JSON.stringify(n))}static getDonationPackages(){const s=localStorage.getItem("donationPackages");return s?JSON.parse(s,(r,n)=>r.includes("At")||r==="createdAt"?n?new Date(n):void 0:n):[]}static getDonationPackage(s){return this.getDonationPackages().find(n=>n.id===s)}static getDonationPackagesByHousehold(s){return this.getDonationPackages().filter(n=>n.householdId===s)}static getDonationPackagesByAssociation(s){return this.getDonationPackages().filter(n=>n.associationId===s)}static getPendingDonationsForAssociation(s){return this.getDonationPackages().filter(n=>n.associationId===s&&n.status==="pending")}static updateDonationStatus(s,r,n){const l=this.getDonationPackages().map(a=>{if(a.id===s){const o={...a,status:r,...n};switch(r){case"received":o.receivedAt=new Date;break;case"validated":o.validatedAt=new Date;break;case"receipt_available":o.receiptGeneratedAt=new Date,o.receiptNumber=`REC-${Date.now()}`;break}return o}return a});localStorage.setItem("donationPackages",JSON.stringify(l))}static createDonationFromScannedItems(s,r,n,i,l,a){const o=this.getAssociation(n);if(!o)throw new Error("Association non trouvée");const c=i.map(y=>({id:`item_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,productId:y.productId,quantity:y.quantity,unitPrice:y.unitPrice,totalValue:y.unitPrice*y.quantity})),p=c.reduce((y,P)=>y+P.totalValue,0),v=p*.66,N={id:`donation_${Date.now()}`,householdId:s,householdName:r,associationId:n,associationName:o.name,items:c,totalValue:p,taxDeduction:v,status:"pending",createdAt:new Date,storeName:l,storeAddress:a};return this.saveDonationPackage(N),this.sendNotificationToAssociation(n,N),N}static sendNotificationToAssociation(s,r){console.log(`📧 Notification envoyée à l'association ${r.associationName}:`),console.log(`Nouveau don reçu de ${r.householdName}`),console.log(`Valeur: ${r.totalValue.toFixed(2)}€`),console.log(`Articles: ${r.items.length}`),console.log(`Magasin: ${r.storeName}`)}static scanItemForAssociation(s,r,n){const l=this.getDonationPackages().map(o=>{if(o.id===s){const c=o.items.map(p=>p.id===r?{...p,scannedAt:new Date,scannedBy:n}:p);return{...o,items:c}}return o});localStorage.setItem("donationPackages",JSON.stringify(l));const a=l.find(o=>o.id===s);a&&a.items.every(o=>o.scannedAt)&&this.updateDonationStatus(s,"received")}static validateDonationAfter24h(s){this.updateDonationStatus(s,"validated"),setTimeout(()=>{this.updateDonationStatus(s,"receipt_available")},24*60*60*1e3)}static generateReceiptForDonation(s){var n,i;const r=this.getDonationPackage(s);if(!r)throw new Error("Don non trouvé");return`
REÇU FISCAL POUR DON AUX ŒUVRES
Article 200 du Code Général des Impôts

Numéro de reçu: ${r.receiptNumber}
Date du don: ${r.createdAt.toLocaleDateString("fr-FR")}
Association bénéficiaire: ${r.associationName}

DÉTAIL DU DON:
${r.items.map(l=>{const a=this.getProduct(l.productId);return`- ${(a==null?void 0:a.name)||"Produit inconnu"} (x${l.quantity}): ${l.totalValue.toFixed(2)}€`}).join(`
`)}

Montant total du don: ${r.totalValue.toFixed(2)}€
Déduction fiscale (66%): ${r.taxDeduction.toFixed(2)}€

Le donateur peut déduire de ses impôts 66% du montant de ce don,
dans la limite de 20% de son revenu imposable.

Validé le: ${(n=r.validatedAt)==null?void 0:n.toLocaleDateString("fr-FR")}
Reçu généré le: ${(i=r.receiptGeneratedAt)==null?void 0:i.toLocaleDateString("fr-FR")}

Magasin d'achat: ${r.storeName}
Adresse: ${r.storeAddress}
    `.trim()}}const sx=({onListValidated:e,existingList:s})=>{const[r,n]=T.useState([]),[i,l]=T.useState(""),[a,o]=T.useState("fruits-legumes"),[c,p]=T.useState("Ma liste de courses"),[v,N]=T.useState(!1),[y,P]=T.useState("draft"),_=[{id:"fruits-legumes",name:"Fruits et Légumes",icon:"🥕",color:"green"},{id:"produits-laitiers",name:"Produits laitiers",icon:"🥛",color:"blue"},{id:"feculents",name:"Féculents",icon:"🍞",color:"yellow"},{id:"viandes-poissons",name:"Viandes et Poissons",icon:"🍗",color:"red"},{id:"epicerie",name:"Épicerie",icon:"🥫",color:"purple"}];T.useEffect(()=>{if(s)n(s.items),p(s.name),P("draft");else{const d=U.getShoppingLists().find(b=>b.status==="draft");d&&(n(d.items),p(d.name),P("draft"))}},[s]),T.useEffect(()=>{if(r.length>0){const d={id:(s==null?void 0:s.id)||Date.now().toString(),name:c,items:r,status:"draft",createdAt:(s==null?void 0:s.createdAt)||new Date,totalEstimated:0};U.saveShoppingList(d)}},[r,c,s]);const A=d=>{if(r.find(C=>C.productId===d.id))n(r.map(C=>C.productId===d.id?{...C,quantity:C.quantity+1}:C));else{const C={id:Date.now().toString(),productId:d.id,quantity:1,priority:"medium",addedAt:new Date};n([...r,C])}},Q=d=>{n(r.filter(b=>b.id!==d))},m=(d,b)=>{if(b<=0){Q(d);return}n(r.map(C=>C.id===d?{...C,quantity:b}:C))},x=()=>{if(r.length===0){P("error");return}const d=r.reduce((C,I)=>{const G=U.getBestPriceForProduct(I.productId),S=G?U.calculatePromotionalPrice(G.price,G.promotion):0;return C+S*I.quantity},0),b={id:(s==null?void 0:s.id)||Date.now().toString(),name:c,items:r,status:"validated",createdAt:(s==null?void 0:s.createdAt)||new Date,validatedAt:new Date,totalEstimated:d};U.saveShoppingList(b),P("validated"),e(b)},u=d=>{switch(d){case"A":return"text-green-600 bg-green-100";case"B":return"text-lime-600 bg-lime-100";case"C":return"text-yellow-600 bg-yellow-100";case"D":return"text-orange-600 bg-orange-100";case"E":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},h=d=>{switch(d){case"high":return"text-red-600 bg-red-100 border-red-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"low":return"text-green-600 bg-green-100 border-green-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},j=(d,b)=>{const C=_.find(I=>I.id===d);if(!C)return"";if(b)switch(C.color){case"green":return"bg-green-600 text-white border-green-600";case"blue":return"bg-blue-600 text-white border-blue-600";case"yellow":return"bg-yellow-600 text-white border-yellow-600";case"red":return"bg-red-600 text-white border-red-600";case"purple":return"bg-purple-600 text-white border-purple-600";default:return"bg-gray-600 text-white border-gray-600"}else switch(C.color){case"green":return"bg-green-50 text-green-700 border-green-200 hover:bg-green-100";case"blue":return"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100";case"yellow":return"bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-yellow-100";case"red":return"bg-red-50 text-red-700 border-red-200 hover:bg-red-100";case"purple":return"bg-purple-50 text-purple-700 border-purple-200 hover:bg-purple-100";default:return"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}},f=i?U.searchProducts(i).filter(d=>d.category===a):U.getProductsByCategory(a);return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white p-4 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ds,{className:"mr-3",size:28}),v?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"text",value:c,onChange:d=>p(d.target.value),className:"text-xl font-semibold bg-white/20 border-b-2 border-white focus:outline-none text-white placeholder-white/70 px-2 py-1 rounded",onBlur:()=>N(!1),onKeyPress:d=>d.key==="Enter"&&N(!1),autoFocus:!0}),t.jsx("button",{onClick:()=>N(!1),className:"text-white hover:text-emerald-200",children:t.jsx(Hm,{size:20})})]}):t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h1",{className:"text-xl font-bold",children:c}),t.jsx("button",{onClick:()=>N(!0),className:"text-white/80 hover:text-white",children:t.jsx(vr,{size:20})})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[s&&t.jsxs("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm flex items-center",children:[t.jsx(vr,{className:"mr-1",size:16}),"Mode rectification"]}),y==="validated"&&t.jsxs("span",{className:"px-3 py-1 bg-green-500 rounded-full text-sm flex items-center",children:[t.jsx(ne,{className:"mr-1",size:16}),"Liste validée"]}),y==="error"&&t.jsxs("span",{className:"px-3 py-1 bg-red-500 rounded-full text-sm flex items-center",children:[t.jsx(ci,{className:"mr-1",size:16}),"Erreur: Liste vide"]}),t.jsx("div",{className:"flex items-center space-x-1",children:t.jsxs("span",{className:"px-2 py-1 bg-white/20 rounded-full text-xs",children:[r.length," articles"]})})]})]})}),s&&t.jsxs("div",{className:"bg-blue-50 border-b border-blue-200 p-4",children:[t.jsxs("div",{className:"flex items-center text-blue-800",children:[t.jsx(vr,{className:"mr-2",size:16}),t.jsx("span",{className:"font-medium",children:"Mode rectification activé"})]}),t.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Vous pouvez modifier votre liste existante. Les produits déjà sélectionnés sont conservés."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[t.jsx(le,{className:"mr-2",size:20}),"Catalogue Produits"]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[U.getAllProductsWithPrices().length," produits"]})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"relative",children:[t.jsx(dt,{className:"absolute left-3 top-3 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:i,onChange:d=>l(d.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white"})]})}),t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(d=>{const b=a===d.id,C=U.getProductsByCategory(d.id);return t.jsxs("button",{onClick:()=>o(d.id),className:`flex items-center px-3 py-2 rounded-lg border-2 font-medium transition-all text-sm ${j(d.id,b)}`,children:[t.jsx("span",{className:"text-base mr-1",children:d.icon}),t.jsx("span",{className:"hidden sm:inline",children:d.name}),t.jsx("span",{className:"ml-1 px-1 py-0.5 rounded-full text-xs bg-white/20",children:C.length})]},d.id)})})}),t.jsx("div",{className:"max-h-96 overflow-y-auto",children:f.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(le,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-600 font-medium",children:i?"Aucun produit trouvé":"Aucun produit dans cette catégorie"})]}):t.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(d=>{const b=r.some(C=>C.productId===d.id);return t.jsxs("button",{onClick:()=>A(d),className:`inline-flex items-center px-3 py-2 rounded-full border-2 transition-all text-sm ${b?"bg-emerald-100 border-emerald-300 text-emerald-800 shadow-md":"bg-white border-gray-200 text-gray-800 hover:border-emerald-300 hover:bg-emerald-50"}`,children:[t.jsx("span",{className:"text-base mr-2",children:d.image}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium truncate max-w-24",children:d.name}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:`px-1 py-0.5 rounded text-xs font-medium ${u(d.nutriScore)}`,children:d.nutriScore}),t.jsx("span",{className:`px-1 py-0.5 rounded text-xs font-medium ${u(d.ecoScore)}`,children:d.ecoScore})]}),b&&t.jsx("span",{className:"px-1 py-0.5 bg-emerald-200 text-emerald-700 rounded text-xs font-medium",children:"✓"}),t.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${b?"bg-emerald-600 text-white":"bg-gray-300 text-gray-600"}`,children:t.jsx(vt,{size:10})})]})]},d.id)})})})]})}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-lg font-semibold text-emerald-800 flex items-center",children:[t.jsx(ds,{className:"mr-2",size:20}),"Ma liste de courses"]}),t.jsxs("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-800 rounded-full text-sm font-medium",children:[r.length," articles"]})]}),r.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(le,{className:"mx-auto text-emerald-400 mb-4",size:48}),t.jsx("p",{className:"text-emerald-700 font-medium mb-2",children:"Votre liste est vide"}),t.jsx("p",{className:"text-emerald-600 text-sm",children:"Ajoutez des produits depuis le catalogue"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mb-6 max-h-80 overflow-y-auto",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(d=>{const b=U.getProduct(d.productId);return b?t.jsxs("div",{className:`inline-flex items-center bg-emerald-50 border rounded-full px-3 py-2 text-sm ${h(d.priority)}`,children:[t.jsx("span",{className:"text-base mr-2",children:b.image}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium text-emerald-800 truncate max-w-24",children:b.name}),t.jsxs("div",{className:"flex items-center space-x-1 bg-white rounded-full px-2 py-1",children:[t.jsx("button",{onClick:()=>m(d.id,d.quantity-1),className:"w-4 h-4 flex items-center justify-center text-emerald-600 hover:bg-emerald-100 rounded-full transition-colors",children:t.jsx(cs,{size:8})}),t.jsx("span",{className:"text-xs font-bold text-emerald-800 min-w-[12px] text-center",children:d.quantity}),t.jsx("button",{onClick:()=>m(d.id,d.quantity+1),className:"w-4 h-4 flex items-center justify-center text-emerald-600 hover:bg-emerald-100 rounded-full transition-colors",children:t.jsx(vt,{size:8})})]}),t.jsx("button",{onClick:()=>Q(d.id),className:"w-4 h-4 flex items-center justify-center text-red-500 hover:text-red-700 transition-colors",children:t.jsx(Nt,{size:10})})]})]},d.id):null})})}),t.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Priorités :"}),t.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[t.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 border border-red-200 rounded-full",children:"Urgent"}),t.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-600 border border-yellow-200 rounded-full",children:"Moyen"}),t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-600 border border-green-200 rounded-full",children:"Faible"})]}),t.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Cliquez sur un produit pour modifier sa priorité"})]}),t.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg p-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-medium opacity-90",children:"Articles"}),t.jsx("div",{className:"text-lg font-bold",children:r.length})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-medium opacity-90",children:"Quantité totale"}),t.jsx("div",{className:"text-lg font-bold",children:r.reduce((d,b)=>d+b.quantity,0)})]})]}),t.jsx("button",{onClick:x,disabled:r.length===0,className:`w-full py-3 rounded-lg font-medium transition-all ${r.length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-white text-emerald-600 hover:bg-emerald-50 shadow-lg hover:shadow-xl"}`,children:y==="validated"?t.jsxs("span",{className:"flex items-center justify-center",children:[t.jsx(ne,{className:"mr-2",size:20}),"Liste validée ✓"]}):t.jsxs("span",{className:"flex items-center justify-center",children:[t.jsx(qm,{className:"mr-2",size:20}),s?"Valider les modifications":"Valider ma liste"]})})]})]})]})})]})]})},rx=({validatedList:e,onListUpdated:s,onNavigateToShoppingList:r,onRectifyList:n})=>{const[i,l]=T.useState(!1),[a,o]=T.useState(null),[c,p]=T.useState([]),[v,N]=T.useState(0),[y,P]=T.useState(!1),[_,A]=T.useState(null),[Q,m]=T.useState(null),[x,u]=T.useState(!1),[h,j]=T.useState("assoc_001"),[f,d]=T.useState(null),b=k=>{const $=U.getProductByBarcode(k);if(!$){alert("Produit non reconnu");return}if(c.find(V=>V.productId===$.id))p(c.map(V=>V.productId===$.id?{...V,quantity:V.quantity+1}:V));else{const V={id:Date.now().toString(),productId:$.id,quantity:1,scannedAt:new Date,donated:!1};p([...c,V])}o($)},C=()=>{if(!i)return;u(!0);const k=Math.random()*2e3+1e3;setTimeout(()=>{const $=U.getAllProductsWithPrices(),F=$[Math.floor(Math.random()*$.length)];F&&b(F.barcode),u(!1),l(!1)},k)},I=()=>{i?(l(!1),u(!1)):(l(!0),setTimeout(()=>{C()},500))},G=(k,$)=>{if($<=0){p(c.filter(F=>F.productId!==k));return}p(c.map(F=>F.productId===k?{...F,quantity:$}:F))},S=k=>{p(c.map($=>{if($.productId===k){const F=!$.donated;return N(F?V=>V+$.quantity:V=>V-$.quantity),{...$,donated:F}}return $}))},M=()=>c.reduce((k,$)=>{const F=U.getBestPriceForProduct($.productId),V=F?U.calculatePromotionalPrice(F.price,F.promotion):0;return k+V*$.quantity},0),w=()=>c.filter(k=>k.donated).reduce((k,$)=>{const F=U.getBestPriceForProduct($.productId),V=F?U.calculatePromotionalPrice(F.price,F.promotion):0;return k+V*$.quantity},0),z=()=>c.reduce((k,$)=>{const F=U.getProductWithPrices($.productId);if(!F||F.prices.length===0)return k;const V=F.prices.filter(ue=>ue.availability);if(V.length===0)return k;const Z=Math.min(...V.map(ue=>U.calculatePromotionalPrice(ue.price,ue.promotion))),J=Math.max(...V.map(ue=>U.calculatePromotionalPrice(ue.price,ue.promotion)));return k+(J-Z)*$.quantity},0),q=()=>{const k=U.getShoppingLists().find(V=>V.status==="draft");if(!k||k.items.length===0){alert("Aucune liste à valider ou liste vide");return}const $=k.items.reduce((V,Z)=>{const J=U.getBestPriceForProduct(Z.productId),ue=J?U.calculatePromotionalPrice(J.price,J.promotion):0;return V+ue*Z.quantity},0),F={...k,status:"validated",validatedAt:new Date,totalEstimated:$};U.saveShoppingList(F),s(F)},L=()=>{if(c.length===0){alert("Aucun produit scanné");return}const k=c.filter($=>$.donated);if(k.length>0){const $=k.map(F=>{const V=U.getBestPriceForProduct(F.productId),Z=V?U.calculatePromotionalPrice(V.price,V.promotion):0;return{productId:F.productId,quantity:F.quantity,unitPrice:Z}});try{const F=U.createDonationFromScannedItems("household_001","Famille Martin",h,$,"Carrefour Marseille Centre","123 Avenue de la République, 13001 Marseille");d(F),setTimeout(()=>{p([]),N(0),d(null)},3e3)}catch(F){alert("Erreur lors de la création du don: "+F)}}else alert(`Achat finalisé ! Total: ${M().toFixed(2)}€`),p([]),N(0)},D=k=>{const $=U.getProduct(k),F=U.getProductWithPrices(k);if(!$||!F||F.prices.length===0)return null;const V=[...F.prices].filter(Z=>Z.availability).sort((Z,J)=>{const ue=U.calculatePromotionalPrice(Z.price,Z.promotion),Ye=U.calculatePromotionalPrice(J.price,J.promotion);return ue-Ye});return t.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-lg p-3 mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"font-semibold text-blue-800 flex items-center text-sm",children:[t.jsx(jt,{className:"mr-1",size:14}),"Comparatif prix"]}),t.jsx("button",{onClick:()=>A(null),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Nt,{size:14})})]}),t.jsx("div",{className:"space-y-2",children:V.slice(0,3).map((Z,J)=>{const ue=U.calculatePromotionalPrice(Z.price,Z.promotion),Ye=J===0;return t.jsxs("div",{className:`flex items-center justify-between p-2 rounded border text-xs ${Ye?"bg-green-50 border-green-300":"bg-gray-50 border-gray-200"}`,children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(lr,{className:`mr-1 ${Ye?"text-green-600":"text-gray-500"}`,size:12}),t.jsxs("div",{children:[t.jsx("div",{className:`font-medium ${Ye?"text-green-800":"text-gray-800"}`,children:Z.storeName}),Z.promotion&&t.jsx("div",{className:"text-xs text-red-600",children:"PROMO"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:`font-bold ${Ye?"text-green-600":"text-gray-800"}`,children:[ue.toFixed(2),"€"]}),Ye&&t.jsx("div",{className:"text-xs text-green-600",children:"Meilleur"})]})]},Z.storeId)})}),t.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-xs text-blue-700",children:["💡 Économie: ",V[V.length-1]?(U.calculatePromotionalPrice(V[V.length-1].price,V[V.length-1].promotion)-U.calculatePromotionalPrice(V[0].price,V[0].promotion)).toFixed(2):"0.00","€"]})]})},E=k=>{const $=[{date:"15/01",price:2.99,store:"Carrefour"},{date:"10/01",price:3.19,store:"Carrefour"},{date:"05/01",price:2.89,store:"Carrefour"},{date:"01/01",price:3.09,store:"Carrefour"}];return t.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-lg p-3 mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"font-semibold text-purple-800 flex items-center text-sm",children:[t.jsx(Vo,{className:"mr-1",size:14}),"Historique prix"]}),t.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Nt,{size:14})})]}),t.jsx("div",{className:"space-y-1",children:$.map((F,V)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-purple-50 rounded text-xs",children:[t.jsx("span",{className:"text-purple-700",children:F.date}),t.jsxs("span",{className:"font-medium text-purple-800",children:[F.price.toFixed(2),"€"]})]},V))}),t.jsx("div",{className:"mt-2 p-2 bg-purple-50 rounded text-xs text-purple-700",children:"📈 Tendance: Prix stable ce mois"})]})},g=k=>{const $=U.getProduct(k);if(!$)return null;const F=U.getProductsByCategory($.category).filter(V=>V.id!==k).slice(0,2);return t.jsxs("div",{className:"bg-white border-2 border-orange-200 rounded-lg p-3 mt-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h4",{className:"font-semibold text-orange-800 flex items-center text-sm",children:[t.jsx(gr,{className:"mr-1",size:14}),"Alternatives moins chères"]}),t.jsx("button",{onClick:()=>A(null),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Nt,{size:14})})]}),t.jsx("div",{className:"space-y-2",children:F.map(V=>{const Z=U.getBestPriceForProduct(V.id),J=U.getBestPriceForProduct(k);if(!Z||!J)return null;const ue=U.calculatePromotionalPrice(J.price,J.promotion)-U.calculatePromotionalPrice(Z.price,Z.promotion);return t.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange-50 rounded border border-orange-200",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-lg mr-2",children:V.image}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-orange-800 text-xs",children:V.name}),t.jsx("div",{className:"text-xs text-orange-600",children:V.brand})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-bold text-orange-600 text-xs",children:[U.calculatePromotionalPrice(Z.price,Z.promotion).toFixed(2),"€"]}),ue>0&&t.jsxs("div",{className:"text-xs text-green-600",children:["-",ue.toFixed(2),"€"]})]})]},V.id)})})]})},H=()=>{if(!f)return null;const k=U.getAssociation(h);return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-xl p-6 max-w-md mx-4 shadow-2xl",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ne,{className:"text-green-600",size:32})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Don créé avec succès !"}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Lr,{className:"text-green-600 mr-2",size:16}),t.jsx("span",{className:"font-medium text-green-800",children:"Notification envoyée"})]}),t.jsxs("p",{className:"text-sm text-green-700",children:[k==null?void 0:k.name," a été notifiée de votre don"]})]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Valeur du don:"})," ",f.totalValue.toFixed(2),"€"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Déduction fiscale:"})," ",f.taxDeduction.toFixed(2),"€"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Articles donnés:"})," ",f.items.length]})]}),t.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("p",{className:"text-xs text-blue-700",children:[t.jsx("strong",{children:"Statut:"})," En attente de réception par l'association"]}),t.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Vous recevrez votre reçu fiscal après validation (délai: 24-48h)"})]})]})})})};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white p-4 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h1",{className:"text-xl font-bold flex items-center",children:[t.jsx(rs,{className:"mr-2",size:24}),"Scanner Magasin"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[e?t.jsxs("button",{onClick:n,className:"flex items-center px-3 py-1 bg-white/20 rounded-lg hover:bg-white/30 transition-colors text-sm",children:[t.jsx(vr,{className:"mr-1",size:14}),"Rectifier"]}):t.jsxs("button",{onClick:q,className:"flex items-center px-3 py-1 bg-orange-500 rounded-lg hover:bg-orange-600 transition-colors text-sm",children:[t.jsx(Ce,{className:"mr-1",size:14}),"Valider"]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("span",{className:"px-2 py-1 bg-white/20 rounded-full text-xs",children:c.length}),v>0&&t.jsxs("span",{className:"px-2 py-1 bg-pink-500 rounded-full text-xs flex items-center",children:[t.jsx(Pe,{className:"mr-1",size:10}),v]})]})]})]})}),v>0&&t.jsx("div",{className:"bg-emerald-50 border-b border-emerald-200 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Pe,{className:"text-emerald-600 mr-2",size:16}),t.jsx("span",{className:"font-medium text-emerald-800",children:"Association bénéficiaire:"})]}),t.jsx("select",{value:h,onChange:k=>j(k.target.value),className:"px-3 py-1 border border-emerald-300 rounded-lg bg-white text-emerald-800 text-sm",children:U.getAssociations().map(k=>t.jsx("option",{value:k.id,children:k.name},k.id))})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t.jsxs("h2",{className:"text-lg font-semibold text-emerald-800 mb-3 flex items-center",children:[t.jsx(_a,{className:"mr-2",size:20}),"Scanner IA Produits"]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 border-2 border-dashed border-emerald-300 rounded-lg p-4 text-center",children:[t.jsxs("div",{className:"relative",children:[t.jsx(rs,{className:"mx-auto text-emerald-500 mb-3",size:48}),(i||x)&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"})})]}),t.jsx("p",{className:"text-emerald-700 font-medium mb-3 text-sm",children:x?"Scan en cours... Reconnaissance IA":i?"Scanner actif - Pointez vers le code-barres":"Activez le scanner pour commencer"}),a&&!x&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-3",children:[t.jsxs("div",{className:"flex items-center justify-center mb-2",children:[t.jsx(ne,{className:"text-green-500 mr-2",size:16}),t.jsx("span",{className:"font-medium text-green-800 text-sm",children:"Produit scanné !"})]}),t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("span",{className:"text-2xl mr-2",children:a.image}),t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium",children:a.name}),t.jsx("div",{className:"text-gray-600",children:a.brand}),(()=>{const k=U.getBestPriceForProduct(a.id),$=k?U.calculatePromotionalPrice(k.price,k.promotion):0;return $>0&&t.jsxs("div",{className:"text-emerald-600 font-bold",children:[$.toFixed(2),"€"]})})()]})]})]}),t.jsxs("button",{onClick:I,disabled:x,className:`px-4 py-2 rounded-lg font-medium transition-colors text-sm ${x?"bg-gray-400 text-gray-600 cursor-not-allowed":i?"bg-red-500 text-white hover:bg-red-600":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:[t.jsx(rs,{className:"inline mr-2",size:16}),x?"Scan en cours...":i?"Arrêter Scanner":"Activer Scanner"]}),i&&!x&&t.jsx("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700",children:"🤖 IA activée - Reconnaissance automatique des produits"})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h2",{className:"text-lg font-semibold text-emerald-800 flex items-center",children:[t.jsx(Il,{className:"mr-2",size:20}),"Ma Liste de Courses"]}),t.jsx("button",{onClick:()=>P(!y),className:"text-emerald-600 hover:text-emerald-800 transition-colors text-sm",children:y?"Masquer":"Afficher"})]}),y&&e?t.jsxs("div",{className:"bg-emerald-50 rounded-lg p-3 border border-emerald-200",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("div",{className:"text-sm font-medium text-emerald-800",children:e.name}),t.jsxs("div",{className:"text-xs text-emerald-600",children:[e.items.length," articles • ",e.items.reduce((k,$)=>k+$.quantity,0)," unités"]})]}),t.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.items.map(k=>{const $=U.getProduct(k.productId);if(!$)return null;const F=c.some(V=>V.productId===k.productId);return t.jsxs("div",{className:`flex items-center justify-between p-2 rounded border text-sm ${F?"bg-green-50 border-green-300":"bg-white border-gray-200"}`,children:[t.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[t.jsx("span",{className:"text-lg mr-2",children:$.image}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium truncate",children:$.name}),t.jsxs("div",{className:"text-xs text-gray-600",children:["Qté: ",k.quantity]})]})]}),F&&t.jsx(ne,{className:"text-green-500 ml-2",size:16})]},k.id)})})]}):e?t.jsx("div",{className:"text-center text-gray-500 text-sm py-4",children:'Cliquez sur "Afficher" pour voir votre liste'}):t.jsxs("div",{className:"bg-emerald-50 rounded-lg p-4 text-center border border-emerald-200",children:[t.jsx(le,{className:"mx-auto text-emerald-400 mb-2",size:32}),t.jsx("p",{className:"text-emerald-700 text-sm font-medium",children:"Aucune liste validée"}),t.jsx("p",{className:"text-emerald-600 text-xs",children:"Créez une liste de courses d'abord"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h2",{className:"text-lg font-semibold text-emerald-800 flex items-center",children:[t.jsx(ds,{className:"mr-2",size:20}),"Panier (",c.length,")"]}),t.jsxs("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-800 rounded-full text-xs font-medium",children:[c.reduce((k,$)=>k+$.quantity,0)," articles"]})]}),c.length===0?t.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[t.jsx(le,{className:"mx-auto text-gray-400 mb-3",size:40}),t.jsx("p",{className:"text-gray-600 font-medium mb-1 text-sm",children:"Panier vide"}),t.jsx("p",{className:"text-gray-500 text-xs",children:"Scannez des produits pour commencer"})]}):t.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:c.map(k=>{const $=U.getProduct(k.productId);if(!$)return null;const F=U.getBestPriceForProduct(k.productId),V=F?U.calculatePromotionalPrice(F.price,F.promotion):0;return t.jsxs("div",{children:[t.jsxs("div",{className:`p-3 rounded-lg border transition-all ${k.donated?"bg-pink-50 border-pink-200":"bg-gray-50 border-gray-200"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[t.jsx("span",{className:"text-lg mr-2",children:$.image}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:`font-medium text-sm truncate ${k.donated?"text-pink-800":"text-gray-800"}`,children:$.name}),t.jsx("p",{className:`text-xs ${k.donated?"text-pink-600":"text-gray-600"}`,children:$.brand}),V>0&&t.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[t.jsxs("span",{className:"text-xs font-semibold text-emerald-600",children:[(V*k.quantity).toFixed(2),"€"]}),(F==null?void 0:F.promotion)&&t.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-1 rounded",children:"PROMO"})]})]})]}),t.jsx("button",{onClick:()=>p(c.filter(Z=>Z.id!==k.id)),className:"text-red-500 hover:text-red-700 ml-2",children:t.jsx(Wm,{size:14})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{onClick:()=>G(k.productId,k.quantity-1),className:"w-6 h-6 flex items-center justify-center bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300",children:t.jsx(cs,{size:12})}),t.jsx("span",{className:"w-6 text-center font-bold text-sm",children:k.quantity}),t.jsx("button",{onClick:()=>G(k.productId,k.quantity+1),className:"w-6 h-6 flex items-center justify-center bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300",children:t.jsx(vt,{size:12})})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsxs("button",{onClick:()=>A(_===k.productId?null:k.productId),className:"text-xs text-blue-600 hover:text-blue-800 px-2 py-1 bg-blue-50 rounded",children:[t.jsx(jt,{size:12,className:"inline mr-1"}),"Prix"]}),t.jsxs("button",{onClick:()=>S(k.productId),className:`flex items-center px-2 py-1 rounded text-xs font-medium transition-all ${k.donated?"bg-pink-500 text-white":"bg-gray-100 text-gray-600 hover:bg-pink-100 hover:text-pink-600"}`,children:[t.jsx(Pe,{className:`mr-1 ${k.donated?"fill-current":""}`,size:10}),"Don"]})]})]}),k.donated&&t.jsx("div",{className:"mt-2 p-2 bg-pink-100 border border-pink-200 rounded text-xs",children:t.jsxs("div",{className:"flex items-center text-pink-700",children:[t.jsx(di,{className:"mr-1",size:12}),t.jsx("span",{className:"font-medium",children:"Café suspendu activé"})]})})]}),_===k.productId&&D(k.productId),Q===k.productId&&E(k.productId),_===k.productId&&g(k.productId),_===k.productId&&t.jsxs("div",{className:"flex space-x-2 mt-2",children:[t.jsxs("button",{onClick:()=>m(Q===k.productId?null:k.productId),className:"flex-1 text-xs text-purple-600 hover:text-purple-800 px-2 py-1 bg-purple-50 rounded border border-purple-200",children:[t.jsx(Vo,{size:12,className:"inline mr-1"}),"Historique"]}),t.jsxs("button",{onClick:()=>{},className:"flex-1 text-xs text-orange-600 hover:text-orange-800 px-2 py-1 bg-orange-50 rounded border border-orange-200",children:[t.jsx(gr,{size:12,className:"inline mr-1"}),"Alternatives"]})]})]},k.id)})})]}),c.length>0&&t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[t.jsx(ou,{className:"mr-2",size:20}),"Récapitulatif"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"font-medium text-emerald-700 text-sm",children:"Mes achats:"}),t.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:[(M()-w()).toFixed(2),"€"]})]}),t.jsxs("div",{className:"text-xs text-emerald-600",children:[c.filter(k=>!k.donated).reduce((k,$)=>k+$.quantity,0)," articles personnels"]})]}),v>0&&t.jsxs("div",{className:"bg-pink-50 border border-pink-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Pe,{className:"mr-1 text-pink-600 fill-current",size:14}),t.jsx("span",{className:"font-medium text-pink-700 text-sm",children:"Mes dons:"})]}),t.jsxs("span",{className:"text-lg font-bold text-pink-600",children:[w().toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("span",{className:"text-pink-600",children:[v," articles offerts"]}),t.jsxs("span",{className:"text-pink-700 font-medium",children:["Déduction: ",(w()*.66).toFixed(2),"€"]})]})]}),z()>0&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(uu,{className:"mr-1 text-green-600",size:14}),t.jsx("span",{className:"font-medium text-green-700 text-sm",children:"Économies:"})]}),t.jsxs("span",{className:"text-lg font-bold text-green-600",children:["-",z().toFixed(2),"€"]})]}),t.jsx("div",{className:"text-xs text-green-600",children:"Grâce au comparateur de prix"})]}),t.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"font-bold",children:"Total à payer:"}),t.jsxs("span",{className:"text-2xl font-bold",children:[M().toFixed(2),"€"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs opacity-90",children:[t.jsx("div",{className:"text-center",children:t.jsxs("div",{children:["Achats: ",(M()-w()).toFixed(2),"€"]})}),t.jsx("div",{className:"text-center",children:t.jsxs("div",{children:["Dons: ",w().toFixed(2),"€"]})})]})]}),t.jsxs("button",{onClick:L,className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 transition-colors font-medium text-sm flex items-center justify-center",children:[t.jsx(qs,{className:"mr-2",size:16}),"Finaliser mes achats"]})]})]})]})]}),H()]})},nx=({validatedList:e})=>{const[s,r]=T.useState(""),[n,i]=T.useState("fruits-legumes"),[l,a]=T.useState([]),[o,c]=T.useState([]),[p,v]=T.useState("selection"),[N,y]=T.useState([]),[P,_]=T.useState("list"),A=[{id:"fruits-legumes",name:"Fruits et Légumes",icon:"🥕",color:"green"},{id:"produits-laitiers",name:"Produits laitiers",icon:"🥛",color:"blue"},{id:"feculents",name:"Féculents",icon:"🍞",color:"yellow"},{id:"viandes-poissons",name:"Viandes et Poissons",icon:"🍗",color:"red"},{id:"epicerie",name:"Épicerie",icon:"🥫",color:"purple"}];T.useEffect(()=>{if(l.filter(S=>S.selected).length>0){const M=U.getStores().map(w=>{const z=l.filter(D=>D.selected).map(D=>{const E=U.getProductWithPrices(D.product.id),g=E==null?void 0:E.prices.find(k=>k.storeId===w.id),H=g!=null&&g.availability?U.calculatePromotionalPrice(g.price,g.promotion):0;return{productId:D.product.id,productName:D.product.name,productImage:D.product.image,quantity:D.quantity,unitPrice:H,totalPrice:H*D.quantity,available:(g==null?void 0:g.availability)||!1,promotion:g==null?void 0:g.promotion}}),q=z.reduce((D,E)=>D+E.totalPrice,0),L=w.distance*.15*2;return{storeId:w.id,storeName:w.name,distance:w.distance,products:z,subtotal:q,transportCost:L,total:q+L}});c(M.sort((w,z)=>w.total-z.total))}else c([])},[l]);const Q=()=>{const S=[];l.filter(M=>M.selected).forEach(M=>{const w=U.getProductWithPrices(M.product.id);if(!w)return;const z=w.prices.filter(E=>E.availability);if(z.length===0)return;const q=z.reduce((E,g)=>{const H=U.calculatePromotionalPrice(g.price,g.promotion),k=U.calculatePromotionalPrice(E.price,E.promotion);return H<k?g:E}),L=U.calculatePromotionalPrice(q.price,q.promotion),D={productId:M.product.id,productName:M.product.name,productImage:M.product.image,quantity:M.quantity,storeId:q.storeId,storeName:q.storeName,unitPrice:L,totalPrice:L*M.quantity};S.push(D)}),y(S),_("list"),v("optimal")},m=S=>{if(l.find(w=>w.product.id===S.id))a(l.map(w=>w.product.id===S.id?{...w,quantity:w.quantity+1}:w));else{const w={product:S,quantity:1,selected:!0};a([...l,w])}},x=S=>{a(l.filter(M=>M.product.id!==S))},u=(S,M)=>{if(M<=0){x(S);return}a(l.map(w=>w.product.id===S?{...w,quantity:M}:w))},h=(S,M)=>{if(M<=0){y(N.filter(w=>w.productId!==S));return}y(N.map(w=>w.productId===S?{...w,quantity:M,totalPrice:w.unitPrice*M}:w))},j=S=>{a(l.map(M=>M.product.id===S?{...M,selected:!M.selected}:M))},f=()=>{if(l.filter(S=>S.selected).length===0){alert("Veuillez sélectionner au moins un produit");return}v("comparison")},d=(S,M)=>{const w=A.find(z=>z.id===S);if(!w)return"";if(M)switch(w.color){case"green":return"bg-green-600 text-white border-green-600";case"blue":return"bg-blue-600 text-white border-blue-600";case"yellow":return"bg-yellow-600 text-white border-yellow-600";case"red":return"bg-red-600 text-white border-red-600";case"purple":return"bg-purple-600 text-white border-purple-600";default:return"bg-gray-600 text-white border-gray-600"}else switch(w.color){case"green":return"bg-green-50 text-green-700 border-green-200 hover:bg-green-100";case"blue":return"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100";case"yellow":return"bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-yellow-100";case"red":return"bg-red-50 text-red-700 border-red-200 hover:bg-red-100";case"purple":return"bg-purple-50 text-purple-700 border-purple-200 hover:bg-purple-100";default:return"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}},b=s?U.searchProducts(s).filter(S=>S.category===n):U.getProductsByCategory(n),C=o.length>0?o[0]:null,I=o.length>1?o[o.length-1].total-o[0].total:0,G=N.reduce((S,M)=>(S[M.storeId]||(S[M.storeId]={storeName:M.storeName,total:0,items:[]}),S[M.storeId].total+=M.totalPrice,S[M.storeId].items.push(M),S),{});return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h1",{className:"text-xl font-bold flex items-center",children:[t.jsx(jt,{className:"mr-2",size:24}),"Comparateur de Prix Multi-Enseignes"]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"flex bg-white/20 rounded-lg p-1",children:[t.jsxs("button",{onClick:()=>v("selection"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${p==="selection"?"bg-white text-blue-600":"text-white/80 hover:text-white"}`,children:[t.jsx(dt,{className:"inline mr-1",size:16}),"Sélection"]}),t.jsxs("button",{onClick:()=>v("comparison"),disabled:l.filter(S=>S.selected).length===0,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${p==="comparison"?"bg-white text-blue-600":l.filter(S=>S.selected).length===0?"text-white/40 cursor-not-allowed":"text-white/80 hover:text-white"}`,children:[t.jsx(fr,{className:"inline mr-1",size:16}),"Comparaison (",l.filter(S=>S.selected).length,")"]}),t.jsxs("button",{onClick:()=>v("optimal"),disabled:N.length===0,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${p==="optimal"?"bg-white text-blue-600":N.length===0?"text-white/40 cursor-not-allowed":"text-white/80 hover:text-white"}`,children:[t.jsx(gr,{className:"inline mr-1",size:16}),"Optimal"]})]})})]})}),t.jsxs("div",{className:"p-4 space-y-6",children:[p==="selection"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[t.jsx(le,{className:"mr-2 text-blue-600",size:24}),"Catalogue Produits"]}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"relative",children:[t.jsx(dt,{className:"absolute left-3 top-3 text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:s,onChange:S=>r(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),t.jsx("div",{className:"mb-4",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(S=>{const M=n===S.id,w=U.getProductsByCategory(S.id);return t.jsxs("button",{onClick:()=>i(S.id),className:`flex items-center px-3 py-2 rounded-lg border-2 font-medium transition-all text-sm ${d(S.id,M)}`,children:[t.jsx("span",{className:"text-base mr-1",children:S.icon}),t.jsx("span",{className:"hidden sm:inline",children:S.name}),t.jsx("span",{className:"ml-1 px-1 py-0.5 rounded-full text-xs bg-white/20",children:w.length})]},S.id)})})}),t.jsx("div",{className:"max-h-96 overflow-y-auto",children:b.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(le,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-600 font-medium",children:s?"Aucun produit trouvé":"Aucun produit dans cette catégorie"})]}):t.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(S=>{const M=l.some(w=>w.product.id===S.id);return t.jsxs("button",{onClick:()=>m(S),className:`inline-flex items-center px-3 py-2 rounded-full border-2 transition-all text-sm ${M?"bg-blue-100 border-blue-300 text-blue-800 shadow-md":"bg-white border-gray-200 text-gray-800 hover:border-blue-300 hover:bg-blue-50"}`,children:[t.jsx("span",{className:"text-base mr-2",children:S.image}),t.jsx("span",{className:"font-medium truncate max-w-24",children:S.name}),M&&t.jsx("span",{className:"ml-2 px-1 py-0.5 bg-blue-200 text-blue-700 rounded text-xs font-medium",children:"✓"}),t.jsx("div",{className:`ml-2 w-5 h-5 rounded-full flex items-center justify-center ${M?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:t.jsx(vt,{size:10})})]},S.id)})})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-xl font-semibold text-blue-800 flex items-center",children:[t.jsx(ds,{className:"mr-2",size:24}),"Produits à comparer"]}),t.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[l.length," produits"]})]}),l.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(le,{className:"mx-auto text-blue-400 mb-4",size:48}),t.jsx("p",{className:"text-blue-700 font-medium mb-2",children:"Aucun produit sélectionné"}),t.jsx("p",{className:"text-blue-600 text-sm",children:"Ajoutez des produits depuis le catalogue"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"space-y-3 mb-6 max-h-64 overflow-y-auto",children:l.map(S=>t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsx("span",{className:"text-xl mr-3",children:S.product.image}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-blue-800",children:S.product.name}),t.jsx("p",{className:"text-sm text-blue-600",children:S.product.brand})]})]}),t.jsx("button",{onClick:()=>x(S.product.id),className:"text-red-500 hover:text-red-700",children:t.jsx(Nt,{size:16})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>u(S.product.id,S.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-blue-200 text-blue-700 rounded-full hover:bg-blue-300",children:t.jsx(cs,{size:12})}),t.jsx("span",{className:"w-8 text-center font-bold text-blue-800",children:S.quantity}),t.jsx("button",{onClick:()=>u(S.product.id,S.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-blue-200 text-blue-700 rounded-full hover:bg-blue-300",children:t.jsx(vt,{size:12})})]}),t.jsx("button",{onClick:()=>j(S.product.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${S.selected?"bg-green-100 text-green-600":"bg-gray-100 text-gray-600"}`,children:S.selected?"Inclus":"Exclu"})]})]},S.product.id))}),t.jsxs("button",{onClick:f,disabled:l.filter(S=>S.selected).length===0,className:`w-full py-3 rounded-lg font-medium transition-all ${l.filter(S=>S.selected).length===0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 shadow-lg hover:shadow-xl"}`,children:[t.jsx(fr,{className:"inline mr-2",size:20}),"Comparer les prix (",l.filter(S=>S.selected).length," produits)"]})]})]})]}),p==="comparison"&&t.jsx("div",{className:"space-y-6",children:o.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[t.jsx(ci,{className:"mx-auto text-orange-500 mb-4",size:48}),t.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Aucun produit à comparer"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Retournez à la sélection pour ajouter des produits."}),t.jsx("button",{onClick:()=>v("selection"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Retour à la sélection"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"Résumé des économies"}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("button",{onClick:()=>v("selection"),className:"flex items-center px-4 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",children:[t.jsx(vr,{className:"mr-2",size:16}),"Rectifier ma liste"]}),t.jsxs("button",{onClick:Q,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[t.jsx(gr,{className:"mr-2",size:16}),"Sélectionner les produits moins coûteux"]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Meilleur prix total"}),t.jsx(Zm,{className:"text-yellow-500",size:16})]}),t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[C==null?void 0:C.total.toFixed(2),"€"]}),t.jsxs("div",{className:"text-xs text-gray-500",children:[C==null?void 0:C.storeName," (transport inclus)"]})]}),t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Économie maximale"}),t.jsx(uu,{className:"text-blue-500",size:16})]}),t.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[I.toFixed(2),"€"]}),t.jsx("div",{className:"text-xs text-gray-500",children:"vs magasin le plus cher"})]}),t.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Produits comparés"}),t.jsx(le,{className:"text-purple-500",size:16})]}),t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:l.filter(S=>S.selected).length}),t.jsxs("div",{className:"text-xs text-gray-500",children:[l.reduce((S,M)=>S+(M.selected?M.quantity:0),0)," unités total"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Comparaison par enseigne"}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((S,M)=>{const w=M===0,z=S.total-o[0].total;return t.jsxs("div",{className:`border-2 rounded-xl p-6 ${w?"border-green-500 bg-green-50":"border-gray-200 bg-white"}`,children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsxs("div",{className:"flex items-center justify-center mb-2",children:[t.jsx(lr,{className:`mr-2 ${w?"text-green-600":"text-gray-600"}`,size:24}),t.jsx("h3",{className:`text-lg font-bold ${w?"text-green-800":"text-gray-800"}`,children:S.storeName})]}),w&&t.jsx("span",{className:"px-3 py-1 bg-green-200 text-green-800 rounded-full text-sm font-medium",children:"🏆 Meilleur choix"}),t.jsxs("div",{className:"flex items-center justify-center text-gray-600 text-sm mt-2",children:[t.jsx(Us,{className:"mr-1",size:14}),t.jsxs("span",{children:[S.distance," km"]})]})]}),t.jsx("div",{className:"space-y-3 mb-6",children:S.products.map(q=>t.jsx("div",{className:`p-3 rounded-lg border ${q.available?"bg-white border-gray-200":"bg-red-50 border-red-200"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsx("span",{className:"text-lg mr-2",children:q.productImage}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-sm truncate",children:q.productName}),t.jsxs("div",{className:"text-xs text-gray-600",children:["Qté: ",q.quantity]})]})]}),t.jsx("div",{className:"text-right",children:q.available?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"font-bold text-sm",children:[q.totalPrice.toFixed(2),"€"]}),t.jsxs("div",{className:"text-xs text-gray-500",children:[q.unitPrice.toFixed(2),"€/u"]}),q.promotion&&t.jsx("div",{className:"text-xs text-red-600 font-medium",children:"PROMO"})]}):t.jsx("div",{className:"text-xs text-red-600 font-medium",children:"Non dispo"})})]})},q.productId))}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[t.jsx("span",{className:"font-medium text-blue-800",children:"Sous-total produits:"}),t.jsxs("span",{className:"font-bold text-blue-600",children:[S.subtotal.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-orange-800",children:"Frais transport:"}),t.jsxs("div",{className:"text-xs text-orange-600",children:[S.distance," km × 0,15€ × 2 (A/R)"]})]}),t.jsxs("span",{className:"font-bold text-orange-600",children:[S.transportCost.toFixed(2),"€"]})]}),t.jsxs("div",{className:`flex justify-between items-center p-4 rounded-lg ${w?"bg-green-100":"bg-gray-100"}`,children:[t.jsx("span",{className:`text-lg font-bold ${w?"text-green-800":"text-gray-800"}`,children:"TOTAL:"}),t.jsxs("span",{className:`text-xl font-bold ${w?"text-green-600":"text-gray-800"}`,children:[S.total.toFixed(2),"€"]})]}),z>0&&t.jsx("div",{className:"text-center p-2 bg-red-50 rounded-lg",children:t.jsxs("span",{className:"text-sm text-red-600 font-medium",children:["+",z.toFixed(2),"€ vs meilleur prix"]})})]}),t.jsxs("button",{className:`w-full py-3 rounded-lg font-medium transition-colors flex items-center justify-center ${w?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[t.jsx(qs,{className:"mr-2",size:16}),"Choisir ",S.storeName]})]},S.storeId)})})]})]})}),p==="optimal"&&t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[t.jsx(gr,{className:"mr-2 text-yellow-500",size:24}),"Sélection Optimale - Produits les moins coûteux"]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[t.jsxs("button",{onClick:()=>_("list"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${P==="list"?"bg-white text-gray-800 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[t.jsx(Il,{className:"inline mr-1",size:16}),"Liste unique"]}),t.jsxs("button",{onClick:()=>_("stores"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${P==="stores"?"bg-white text-gray-800 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[t.jsx(Bo,{className:"inline mr-1",size:16}),"Par magasin"]})]}),t.jsxs("button",{onClick:()=>v("comparison"),className:"flex items-center px-4 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:[t.jsx(fr,{className:"mr-2",size:16}),"Retour à la comparaison"]})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg p-6 mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"💡 Répartition optimale par enseigne"}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-200",children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Total optimisé"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[N.reduce((S,M)=>S+M.totalPrice,0).toFixed(2),"€"]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Produits uniquement"})]}),t.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-200",children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Magasins à visiter"}),t.jsx("div",{className:"text-2xl font-bold text-green-600",children:Object.keys(G).length}),t.jsx("div",{className:"text-xs text-gray-500",children:"Enseignes différentes"})]}),t.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-200",children:[t.jsx("div",{className:"text-sm text-gray-600",children:"Économie vs pire cas"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[I.toFixed(2),"€"]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Maximum possible"})]})]})]}),P==="list"&&t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-yellow-800 mb-4 flex items-center",children:[t.jsx(Il,{className:"mr-2",size:20}),"Liste optimale avec enseignes"]}),t.jsx("div",{className:"space-y-3",children:N.map(S=>t.jsx("div",{className:"bg-white border border-yellow-300 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsx("span",{className:"text-xl mr-3",children:S.productImage}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-yellow-800",children:S.productName}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsxs("span",{className:"px-2 py-1 bg-yellow-200 text-yellow-800 rounded-full text-xs font-medium flex items-center",children:[t.jsx(lr,{className:"mr-1",size:12}),S.storeName]}),t.jsx("span",{className:"px-2 py-1 bg-green-200 text-green-800 rounded-full text-xs font-medium",children:"💰 OPTIMAL"})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>h(S.productId,S.quantity-1),className:"w-8 h-8 flex items-center justify-center bg-yellow-200 text-yellow-700 rounded-full hover:bg-yellow-300",children:t.jsx(cs,{size:12})}),t.jsx("span",{className:"w-8 text-center font-bold text-yellow-800",children:S.quantity}),t.jsx("button",{onClick:()=>h(S.productId,S.quantity+1),className:"w-8 h-8 flex items-center justify-center bg-yellow-200 text-yellow-700 rounded-full hover:bg-yellow-300",children:t.jsx(vt,{size:12})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-bold text-yellow-700",children:[S.totalPrice.toFixed(2),"€"]}),t.jsxs("div",{className:"text-xs text-gray-500",children:[S.unitPrice.toFixed(2),"€/u"]})]})]})]})},S.productId))}),t.jsxs("div",{className:"mt-6 bg-white border border-yellow-300 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"font-semibold text-yellow-800",children:"Récapitulatif par enseigne"}),t.jsxs("button",{onClick:()=>_("stores"),className:"flex items-center px-3 py-1 bg-yellow-200 text-yellow-800 rounded-lg hover:bg-yellow-300 transition-colors text-sm",children:[t.jsx(Bo,{className:"mr-1",size:14}),"Liste par magasin"]})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(G).map(([S,M])=>{const w=U.getStore(S),z=w?w.distance*.15*2:0;return t.jsxs("div",{className:"bg-yellow-100 p-3 rounded-lg border border-yellow-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(lr,{className:"mr-1 text-yellow-600",size:16}),t.jsx("span",{className:"font-medium text-yellow-800",children:M.storeName})]}),t.jsxs("span",{className:"text-xs text-gray-600",children:[M.items.length," produits"]})]}),t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Produits:"}),t.jsxs("span",{className:"font-medium",children:[M.total.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Transport:"}),t.jsxs("span",{className:"font-medium",children:[z.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between border-t border-yellow-300 pt-1 font-bold",children:[t.jsx("span",{children:"Total:"}),t.jsxs("span",{children:[(M.total+z).toFixed(2),"€"]})]})]})]},S)})})]})]}),P==="stores"&&t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(G).map(([S,M])=>{const w=U.getStore(S),z=w?w.distance*.15*2:0,q=M.total+z;return t.jsxs("div",{className:"border-2 border-yellow-300 bg-yellow-50 rounded-xl p-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsxs("div",{className:"flex items-center justify-center mb-2",children:[t.jsx(lr,{className:"mr-2 text-yellow-600",size:24}),t.jsx("h3",{className:"text-lg font-bold text-yellow-800",children:M.storeName})]}),t.jsx("span",{className:"px-3 py-1 bg-yellow-200 text-yellow-800 rounded-full text-sm font-medium",children:"⭐ Meilleur prix pour ces produits"}),w&&t.jsxs("div",{className:"flex items-center justify-center text-gray-600 text-sm mt-2",children:[t.jsx(Us,{className:"mr-1",size:14}),t.jsxs("span",{children:[w.distance," km"]})]})]}),t.jsx("div",{className:"space-y-3 mb-6",children:M.items.map(L=>t.jsx("div",{className:"p-3 bg-white rounded-lg border border-yellow-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center flex-1",children:[t.jsx("span",{className:"text-lg mr-2",children:L.productImage}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium text-sm truncate",children:L.productName}),t.jsxs("div",{className:"text-xs text-gray-600",children:["Qté: ",L.quantity]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-bold text-sm text-yellow-700",children:[L.totalPrice.toFixed(2),"€"]}),t.jsxs("div",{className:"text-xs text-gray-500",children:[L.unitPrice.toFixed(2),"€/u"]}),t.jsx("div",{className:"text-xs text-green-600 font-medium",children:"💰 OPTIMAL"})]})]})},L.productId))}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded-lg border border-yellow-200",children:[t.jsx("span",{className:"font-medium text-yellow-800",children:"Sous-total produits:"}),t.jsxs("span",{className:"font-bold text-yellow-600",children:[M.total.toFixed(2),"€"]})]}),w&&t.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-orange-800",children:"Frais transport:"}),t.jsxs("div",{className:"text-xs text-orange-600",children:[w.distance," km × 0,15€ × 2 (A/R)"]})]}),t.jsxs("span",{className:"font-bold text-orange-600",children:[z.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between items-center p-4 bg-yellow-100 rounded-lg border border-yellow-300",children:[t.jsx("span",{className:"text-lg font-bold text-yellow-800",children:"TOTAL:"}),t.jsxs("span",{className:"text-xl font-bold text-yellow-600",children:[q.toFixed(2),"€"]})]})]}),t.jsxs("button",{className:"w-full py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors flex items-center justify-center font-medium",children:[t.jsx(qs,{className:"mr-2",size:16}),"Aller chez ",M.storeName]})]},S)})}),t.jsxs("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"🚗 Recommandations de parcours"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Optimisation transport"}),t.jsxs("p",{className:"text-sm text-blue-700",children:["Planifiez votre parcours pour visiter les ",Object.keys(G).length," magasins dans l'ordre le plus efficace selon leur proximité."]})]}),t.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Alternative"}),t.jsxs("p",{className:"text-sm text-blue-700",children:["Si vous préférez un seul magasin, ",t.jsx("strong",{children:C==null?void 0:C.storeName})," reste le meilleur compromis avec seulement ",t.jsxs("strong",{children:["+",(C?C.total-N.reduce((S,M)=>S+M.totalPrice,0):0).toFixed(2),"€"]})," de différence."]})]})]})]})]})})]})]})},ix=()=>{const[e,s]=T.useState([]),[r,n]=T.useState(new Date().getFullYear()),[i,l]=T.useState("all"),[a,o]=T.useState(""),[c,p]=T.useState(!0);T.useEffect(()=>{const u=U.getDonationPackagesByHousehold("household_001");s(u)},[]),T.useEffect(()=>{if(U.getDonationPackages().length===0){const h=[{id:"donation_demo_001",householdId:"household_001",householdName:"Famille Martin",associationId:"assoc_001",associationName:"Restos du Cœur Marseille",items:[{id:"item_001",productId:"prod_010",quantity:3,unitPrice:3.29,totalValue:9.87},{id:"item_002",productId:"prod_018",quantity:5,unitPrice:1.29,totalValue:6.45}],totalValue:16.32,taxDeduction:10.77,status:"receipt_available",createdAt:new Date("2024-01-15T14:30:00"),receivedAt:new Date("2024-01-16T09:15:00"),validatedAt:new Date("2024-01-17T10:00:00"),receiptGeneratedAt:new Date("2024-01-18T08:00:00"),receiptNumber:"RDC-2024-001",storeName:"Carrefour Marseille Centre",storeAddress:"123 Avenue de la République, 13001 Marseille"},{id:"donation_demo_002",householdId:"household_001",householdName:"Famille Martin",associationId:"assoc_002",associationName:"Secours Populaire Marseille",items:[{id:"item_003",productId:"prod_006",quantity:6,unitPrice:1.09,totalValue:6.54},{id:"item_004",productId:"prod_019",quantity:3,unitPrice:3.19,totalValue:9.57}],totalValue:16.11,taxDeduction:10.63,status:"validated",createdAt:new Date("2024-01-10T16:45:00"),receivedAt:new Date("2024-01-12T11:30:00"),validatedAt:new Date("2024-01-13T14:20:00"),storeName:"Leclerc Marseille Est",storeAddress:"456 Boulevard National, 13003 Marseille"},{id:"donation_demo_003",householdId:"household_001",householdName:"Famille Martin",associationId:"assoc_003",associationName:"Banque Alimentaire PACA",items:[{id:"item_005",productId:"prod_013",quantity:2,unitPrice:3.19,totalValue:6.38},{id:"item_006",productId:"prod_016",quantity:3,unitPrice:3.19,totalValue:9.57}],totalValue:15.95,taxDeduction:10.53,status:"pending",createdAt:new Date("2024-01-08T10:20:00"),storeName:"Auchan Marseille Nord",storeAddress:"789 Route de Lyon, 13015 Marseille"}];h.forEach(j=>{U.saveDonationPackage(j)}),s(h)}},[]);const v=u=>{const h=e.filter(b=>b.createdAt.getFullYear()===u),j=h.reduce((b,C)=>b+C.totalValue,0),f=h.reduce((b,C)=>b+C.taxDeduction,0),d=h.length;return{year:u,totalDonations:j,totalDeductions:f,numberOfPackages:d}},N=e.filter(u=>{const h=u.createdAt.getFullYear()===r,j=i==="all"||u.status===i,f=a===""||u.storeName.toLowerCase().includes(a.toLowerCase())||u.associationName.toLowerCase().includes(a.toLowerCase())||u.items.some(d=>{const b=U.getProduct(d.productId);return b==null?void 0:b.name.toLowerCase().includes(a.toLowerCase())});return h&&j&&f}),y=v(r),P=u=>{switch(u){case"pending":return"text-orange-600 bg-orange-100 border-orange-200";case"received":return"text-blue-600 bg-blue-100 border-blue-200";case"validated":return"text-emerald-600 bg-emerald-100 border-emerald-200";case"receipt_available":return"text-teal-600 bg-teal-100 border-teal-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}},_=u=>{switch(u){case"pending":return"En attente de réception";case"received":return"Reçu par l'association";case"validated":return"Validé - Reçu en génération";case"receipt_available":return"Reçu fiscal disponible";default:return"Statut inconnu"}},A=u=>{switch(u){case"pending":return t.jsx(We,{size:14});case"received":return t.jsx(le,{size:14});case"validated":return t.jsx(ne,{size:14});case"receipt_available":return t.jsx(Ce,{size:14});default:return t.jsx(ci,{size:14})}},Q=u=>{if(u.status!=="receipt_available"){alert("Le reçu fiscal n'est pas encore disponible");return}try{const h=U.generateReceiptForDonation(u.id),j=new Blob([h],{type:"text/plain"}),f=URL.createObjectURL(j),d=document.createElement("a");d.href=f,d.download=`recu-fiscal-${u.receiptNumber||u.id}.txt`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(f)}catch(h){alert("Erreur lors du téléchargement du reçu: "+h)}},m=()=>{const u=N.filter(b=>b.status==="receipt_available");if(u.length===0){alert("Aucun reçu fiscal disponible pour cette année");return}const h=`
MES REÇUS FISCAUX ANNUELS - ${r}

RÉSUMÉ:
- Nombre de colis donnés: ${y.numberOfPackages}
- Montant total des dons: ${y.totalDonations.toFixed(2)}€
- Déductions fiscales totales: ${y.totalDeductions.toFixed(2)}€

REÇUS FISCAUX INCLUS:
${u.map(b=>`
═══════════════════════════════════════════════════════════════
${U.generateReceiptForDonation(b.id)}
═══════════════════════════════════════════════════════════════
`).join(`
`)}

INFORMATIONS IMPORTANTES:
- Conservez ces reçus pendant 4 ans minimum
- Joignez-les à votre déclaration d'impôts si contrôle
- Déduction maximale: 66% du montant des dons
- Plafond: 20% du revenu imposable
    `.trim(),j=new Blob([h],{type:"text/plain"}),f=URL.createObjectURL(j),d=document.createElement("a");d.href=f,d.download=`mes-recus-fiscaux-${r}.txt`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(f)},x=u=>{const h=u.items.map(j=>{const f=U.getProduct(j.productId);return`- ${(f==null?void 0:f.name)||"Produit inconnu"} (x${j.quantity}): ${j.totalValue.toFixed(2)}€`}).join(`
`);alert(`
DÉTAILS DU DON

Association: ${u.associationName}
Date: ${u.createdAt.toLocaleDateString("fr-FR")}
Magasin: ${u.storeName}

Articles donnés:
${h}

Valeur totale: ${u.totalValue.toFixed(2)}€
Déduction fiscale: ${u.taxDeduction.toFixed(2)}€

Statut: ${_(u.status)}
${u.receiptNumber?`Numéro de reçu: ${u.receiptNumber}`:""}
    `)};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl p-6 shadow-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Pe,{className:"mr-3 fill-current",size:32}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Mes Dons Solidaires & Reçus Fiscaux"}),t.jsx("p",{className:"text-emerald-100",children:"Historique complet et déductions fiscales"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-3xl font-bold",children:[y.totalDonations.toFixed(2),"€"]}),t.jsxs("div",{className:"text-emerald-100",children:["Total dons ",r]})]})]}),c&&t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mt-6",children:[t.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(le,{className:"mr-2",size:20}),t.jsx("span",{className:"font-medium",children:"Nombre de colis donnés"})]}),t.jsx("div",{className:"text-2xl font-bold",children:y.numberOfPackages})]}),t.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ou,{className:"mr-2",size:20}),t.jsx("span",{className:"font-medium",children:"Déductions fiscales"})]}),t.jsxs("div",{className:"text-2xl font-bold",children:[y.totalDeductions.toFixed(2),"€"]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Année"}),t.jsxs("select",{value:r,onChange:u=>n(parseInt(u.target.value)),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[t.jsx("option",{value:2024,children:"2024"}),t.jsx("option",{value:2023,children:"2023"}),t.jsx("option",{value:2022,children:"2022"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),t.jsxs("select",{value:i,onChange:u=>l(u.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[t.jsx("option",{value:"all",children:"Tous les statuts"}),t.jsx("option",{value:"pending",children:"En attente"}),t.jsx("option",{value:"received",children:"Reçu"}),t.jsx("option",{value:"validated",children:"Validé"}),t.jsx("option",{value:"receipt_available",children:"Reçu disponible"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recherche"}),t.jsxs("div",{className:"relative",children:[t.jsx(dt,{className:"absolute left-3 top-3 text-gray-400",size:16}),t.jsx("input",{type:"text",placeholder:"Magasin, association, produit...",value:a,onChange:u=>o(u.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]})]}),t.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[t.jsx($s,{className:"mr-2",size:16}),"Mes reçus annuels ",r]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[t.jsx(Qs,{className:"mr-2",size:20}),"Historique des dons (",N.length,")"]}),N.length===0?t.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[t.jsx(Pe,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-600 font-medium",children:"Aucun don trouvé"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Modifiez vos filtres ou effectuez des dons"})]}):t.jsx("div",{className:"space-y-4",children:N.map(u=>t.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-emerald-300 transition-colors",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"bg-emerald-100 p-3 rounded-lg mr-4",children:t.jsx(Rl,{className:"text-emerald-600",size:24})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:u.createdAt.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),t.jsxs("div",{className:"flex items-center text-gray-600 text-sm mt-1",children:[t.jsx(Fr,{className:"mr-1",size:14}),t.jsx("span",{className:"mr-4",children:u.storeName}),t.jsx(Ct,{className:"mr-1",size:14}),t.jsx("span",{children:u.associationName})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:[u.totalValue.toFixed(2),"€"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Valeur du don"})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Pe,{className:"text-emerald-600 mr-2 fill-current",size:16}),t.jsx("span",{className:"font-medium text-emerald-800",children:"Valeur du don"})]}),t.jsxs("div",{className:"text-xl font-bold text-emerald-600",children:[u.totalValue.toFixed(2),"€"]}),t.jsxs("div",{className:"text-xs text-emerald-600",children:[u.items.length," articles donnés"]})]}),t.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(jt,{className:"text-teal-600 mr-2",size:16}),t.jsx("span",{className:"font-medium text-teal-800",children:"Déduction fiscale"})]}),t.jsxs("div",{className:"text-xl font-bold text-teal-600",children:["-",u.taxDeduction.toFixed(2),"€"]}),t.jsx("div",{className:"text-xs text-teal-600",children:"66% du don"})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("h5",{className:"font-medium text-gray-700 mb-3 flex items-center",children:[t.jsx(di,{className:"mr-2",size:16}),"Articles donnés (",u.items.length,")"]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:u.items.map(h=>{const j=U.getProduct(h.productId);return t.jsxs("div",{className:"flex items-center justify-between bg-emerald-50 border border-emerald-200 rounded-lg p-3",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-emerald-800",children:(j==null?void 0:j.name)||"Produit inconnu"}),t.jsxs("span",{className:"text-emerald-600 text-sm ml-2",children:["(x",h.quantity,")"]})]}),t.jsxs("span",{className:"font-bold text-emerald-600",children:[h.totalValue.toFixed(2),"€"]})]},h.id)})})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium border flex items-center ${P(u.status)}`,children:[A(u.status),t.jsx("span",{className:"ml-1",children:_(u.status)})]}),u.validatedAt&&t.jsxs("span",{className:"text-sm text-gray-600",children:["Validé le ",u.validatedAt.toLocaleDateString("fr-FR")]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{onClick:()=>x(u),className:"flex items-center px-3 py-2 text-emerald-600 border border-emerald-600 rounded-lg hover:bg-emerald-50 transition-colors text-sm",children:[t.jsx(Ht,{className:"mr-1",size:14}),"Détails"]}),u.status==="receipt_available"&&t.jsxs("button",{onClick:()=>Q(u),className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-sm",children:[t.jsx($s,{className:"mr-2",size:16}),"Télécharger le reçu fiscal"]}),u.status==="pending"&&t.jsxs("div",{className:"flex items-center text-orange-600 text-sm",children:[t.jsx(Lr,{className:"mr-1",size:14}),"Notification envoyée à l'association"]}),u.status==="validated"&&t.jsxs("div",{className:"flex items-center text-emerald-600 text-sm",children:[t.jsx(We,{className:"mr-1",size:14}),"Reçu en cours de génération (24h)"]})]})]})]},u.id))})]})]}),t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-emerald-800 mb-4 flex items-center",children:[t.jsx(Ce,{className:"mr-2",size:20}),"Informations fiscales importantes"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-sm text-emerald-700",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Déduction fiscale"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:"• 66% du montant des dons est déductible"}),t.jsx("li",{children:"• Plafond: 20% du revenu imposable"}),t.jsx("li",{children:"• Report possible sur 5 ans si dépassement"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-2",children:"Conservation des reçus"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsx("li",{children:"• Conserver les reçus pendant 4 ans"}),t.jsx("li",{children:"• Joindre à la déclaration si contrôle"}),t.jsx("li",{children:"• Téléchargement automatique disponible"})]})]})]})]})]})},lx=({serviceId:e,onBack:s})=>{const[r,n]=T.useState(null),[i,l]=T.useState(e),[a,o]=T.useState(null),[c,p]=T.useState(null),[v,N]=T.useState(0),[y,P]=T.useState("standard"),[_,A]=T.useState(!1),[Q,m]=T.useState(null),[x,u]=T.useState(""),[h,j]=T.useState("");T.useEffect(()=>{const g=U.getValidatedList();g&&n(g)},[]),T.useEffect(()=>{c&&!Q&&f()},[c]);const f=()=>{navigator.geolocation?(A(!0),navigator.geolocation.getCurrentPosition(g=>{const H={lat:g.coords.latitude,lng:g.coords.longitude};m(H),A(!1),h&&d(H,h)},g=>{console.error("Erreur de géolocalisation:",g),A(!1),N(10),alert("Impossible d'obtenir votre position. Distance par défaut utilisée: 10km")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})):(alert("La géolocalisation n'est pas supportée par votre navigateur"),N(10))},d=(g,H)=>{const $=U.getStores().find(F=>F.id===H);if($&&g){const V=($.coordinates.lat-g.lat)*Math.PI/180,Z=($.coordinates.lng-g.lng)*Math.PI/180,J=Math.sin(V/2)*Math.sin(V/2)+Math.cos(g.lat*Math.PI/180)*Math.cos($.coordinates.lat*Math.PI/180)*Math.sin(Z/2)*Math.sin(Z/2),Ye=6371*(2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J)));N(Math.round(Ye*10)/10)}},b=async g=>{!Q||!g.trim()||(A(!0),setTimeout(()=>{const H=Math.random()*20+2;N(Math.round(H*10)/10),A(!1)},1500))},C=g=>{n(g),o(null),l("scanner")},I=g=>{n(g),U.saveShoppingList(g)},G=()=>{o(null),l("shopping-list")},S=()=>{r&&(o(r),l("shopping-list"))},M=g=>{const F=15+g*.6,V=F*.15,Z=F+V;return{basePrice:15,kmPrice:g*.6,subtotal:F,commissionAmount:V,total:Z}},w=(g,H)=>{const Z={standard:0,utilitaire:10,camionnette:20,camion:35,refrigere:25}[H]||0,J=15+g*.6+Z,ue=J*.15,Ye=J+ue;return{basePrice:15,kmPrice:g*.6,vehicleSupplement:Z,subtotal:J,commissionAmount:ue,total:Ye}},z=[{id:"standard",name:"Véhicule Standard",description:"Voiture personnelle (coffre standard)",capacity:"Jusqu'à 5 sacs de courses",supplement:0,icon:"🚗"},{id:"utilitaire",name:"Utilitaire Léger",description:"Véhicule utilitaire compact",capacity:"Jusqu'à 15 sacs ou produits volumineux",supplement:10,icon:"🚐"},{id:"camionnette",name:"Camionnette",description:"Pour gros volumes ou électroménager",capacity:"Jusqu'à 30 sacs ou gros électroménager",supplement:20,icon:"🚚"},{id:"camion",name:"Camion",description:"Pour très gros volumes ou mobilier",capacity:"Mobilier, gros électroménager",supplement:35,icon:"🚛"},{id:"refrigere",name:"Véhicule Réfrigéré",description:"Pour produits frais et surgelés",capacity:"Produits frais, surgelés, température contrôlée",supplement:25,icon:"🧊"}],q=()=>t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[t.jsx(ut,{className:"mr-2",size:20}),"Calcul automatique du trajet"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("select",{value:h,onChange:g=>{j(g.target.value),g.target.value&&Q&&d(Q,g.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Sélectionner un magasin"}),U.getStores().map(g=>t.jsxs("option",{value:g.id,children:[g.name," - ",g.address]},g.id))]}),t.jsx("div",{className:"text-center text-gray-500 text-sm",children:"ou"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("input",{type:"text",placeholder:"Adresse personnalisée...",value:x,onChange:g=>u(g.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("button",{onClick:()=>b(x),disabled:!x.trim()||_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition-colors",children:_?t.jsx(Qo,{className:"animate-spin",size:16}):"Calculer"})]})]})]}),t.jsxs("div",{className:"bg-white border border-blue-300 rounded-lg p-4",children:[t.jsxs("h4",{className:"font-medium text-blue-800 mb-3 flex items-center",children:[t.jsx(Us,{className:"mr-2",size:16}),"Résultat du calcul"]}),_?t.jsxs("div",{className:"flex items-center justify-center py-4",children:[t.jsx(Qo,{className:"animate-spin mr-2 text-blue-600",size:20}),t.jsx("span",{className:"text-blue-600",children:"Calcul en cours..."})]}):Q?t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center text-green-600",children:[t.jsx(ut,{className:"mr-2",size:14}),t.jsx("span",{children:"Position détectée"})]}),v>0?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Distance calculée:"}),t.jsxs("span",{className:"font-bold text-blue-600",children:[v," km"]})]}),t.jsx("div",{className:"text-xs text-gray-600",children:"Calcul basé sur votre position GPS actuelle"})]}):t.jsx("div",{className:"text-gray-600",children:"Sélectionnez une destination pour calculer la distance"})]}):t.jsx("div",{className:"text-center py-4",children:t.jsxs("button",{onClick:f,className:"flex items-center justify-center w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(ut,{className:"mr-2",size:16}),"Activer la géolocalisation"]})})]})]})]}),L=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white p-4 rounded-xl shadow-lg",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center",children:[t.jsxs("button",{onClick:()=>p(null),className:"flex items-center text-white/80 hover:text-white mr-4 transition-colors",children:[t.jsx(lu,{className:"mr-2",size:20}),"Retour"]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(au,{className:"mr-3",size:28}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold",children:"Services de Transport"}),t.jsx("p",{className:"text-emerald-100 text-sm",children:"Covoiturage et livraison avec géolocalisation automatique"})]})]})]})})}),c?t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[q(),c==="covoiturage"?t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[t.jsx(Bt,{className:"mr-3 text-emerald-600",size:28}),"Service de Covoiturage"]}),t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-emerald-800 mb-4 flex items-center",children:[t.jsx(Oo,{className:"mr-2",size:20}),"Calculateur de Prix Automatique"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsx("div",{children:t.jsxs("div",{className:"bg-white border border-emerald-300 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-emerald-800 mb-3",children:"Distance calculée"}),t.jsx("div",{className:"flex items-center justify-center",children:v>0?t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-emerald-600",children:[v," km"]}),t.jsx("div",{className:"text-sm text-emerald-600",children:"Trajet GPS"})]}):t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(ut,{className:"mx-auto mb-2",size:32}),t.jsx("div",{className:"text-sm",children:"Sélectionnez une destination"})]})})]})}),t.jsxs("div",{className:"bg-white border border-emerald-300 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-emerald-800 mb-3",children:"Détail du calcul"}),(()=>{const g=M(v);return t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Tarif de base:"}),t.jsxs("span",{children:[g.basePrice.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{children:["Distance (",v,"km × 0.60€):"]}),t.jsxs("span",{children:[g.kmPrice.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between border-t border-emerald-200 pt-2",children:[t.jsx("span",{children:"Sous-total:"}),t.jsxs("span",{children:[g.subtotal.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Commission app (15%):"}),t.jsxs("span",{children:[g.commissionAmount.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between border-t border-emerald-300 pt-2 font-bold text-emerald-600",children:[t.jsx("span",{children:"Total à payer:"}),t.jsxs("span",{children:[g.total.toFixed(2),"€"]})]})]})})()]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Avantages"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsxs("li",{className:"flex items-center",children:[t.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Économique et écologique"]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Rencontres et convivialité"]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Assurance incluse"]}),t.jsxs("li",{className:"flex items-center",children:[t.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Conducteurs vérifiés"]})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Informations"}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ut,{className:"mr-2 text-gray-500",size:16}),t.jsx("span",{children:"Géolocalisation automatique"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(We,{className:"mr-2 text-gray-500",size:16}),t.jsx("span",{children:"Réservation jusqu'à 2h avant"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(le,{className:"mr-2 text-gray-500",size:16}),t.jsx("span",{children:"Espace coffre partagé"})]})]})]})]}),t.jsxs("button",{disabled:v===0,className:`w-full py-3 rounded-lg font-medium text-lg flex items-center justify-center transition-colors ${v>0?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[t.jsx(Bt,{className:"mr-2",size:20}),v>0?`Réserver un covoiturage pour ${M(v).total.toFixed(2)}€`:"Sélectionnez une destination pour continuer"]})]}):t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[t.jsx(Fi,{className:"mr-3 text-teal-600",size:28}),"Service de Livraison"]}),t.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-6 mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-teal-800 mb-4 flex items-center",children:[t.jsx(Oo,{className:"mr-2",size:20}),"Calculateur de Prix Automatique"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[t.jsx("div",{children:t.jsxs("div",{className:"bg-white border border-teal-300 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-teal-800 mb-3",children:"Distance calculée"}),t.jsx("div",{className:"flex items-center justify-center",children:v>0?t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-teal-600",children:[v," km"]}),t.jsx("div",{className:"text-sm text-teal-600",children:"Trajet GPS"})]}):t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(ut,{className:"mx-auto mb-2",size:32}),t.jsx("div",{className:"text-sm",children:"Sélectionnez une destination"})]})})]})}),t.jsxs("div",{className:"bg-white border border-teal-300 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-teal-800 mb-3",children:"Détail du calcul"}),(()=>{const g=w(v,y);return t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Tarif de base:"}),t.jsxs("span",{children:[g.basePrice.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{children:["Distance (",v,"km × 0.60€):"]}),t.jsxs("span",{children:[g.kmPrice.toFixed(2),"€"]})]}),g.vehicleSupplement>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Supplément véhicule:"}),t.jsxs("span",{children:[g.vehicleSupplement.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between border-t border-teal-200 pt-2",children:[t.jsx("span",{children:"Sous-total:"}),t.jsxs("span",{children:[g.subtotal.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Commission app (15%):"}),t.jsxs("span",{children:[g.commissionAmount.toFixed(2),"€"]})]}),t.jsxs("div",{className:"flex justify-between border-t border-teal-300 pt-2 font-bold text-teal-600",children:[t.jsx("span",{children:"Total à payer:"}),t.jsxs("span",{children:[g.total.toFixed(2),"€"]})]})]})})()]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-teal-800 mb-3",children:"Choix du véhicule"}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:z.map(g=>t.jsxs("button",{onClick:()=>P(g.id),className:`p-4 rounded-lg border-2 text-left transition-all ${y===g.id?"border-teal-500 bg-teal-100":"border-gray-200 bg-white hover:border-teal-300"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-2xl",children:g.icon}),g.supplement>0&&t.jsxs("span",{className:"text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded-full",children:["+",g.supplement,"€"]})]}),t.jsx("h5",{className:"font-medium text-gray-800 text-sm mb-1",children:g.name}),t.jsx("p",{className:"text-xs text-gray-600 mb-1",children:g.description}),t.jsx("p",{className:"text-xs text-teal-600 font-medium",children:g.capacity})]},g.id))})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-4",children:"Options disponibles"}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Livraison standard:"}),t.jsx("span",{className:"font-semibold",children:"2-4h"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Livraison express:"}),t.jsx("span",{className:"font-semibold",children:"1h (+10€)"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Créneau choisi:"}),t.jsx("span",{className:"font-semibold",children:"+5€"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Produits frais:"}),t.jsx("span",{className:"font-semibold",children:"Inclus"})]})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Informations"}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ut,{className:"mr-2 text-gray-500",size:16}),t.jsx("span",{children:"Livraison à l'adresse exacte"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(We,{className:"mr-2 text-gray-500",size:16}),t.jsx("span",{children:"Suivi en temps réel"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(le,{className:"mr-2 text-gray-500",size:16}),t.jsx("span",{children:"Assurance marchandises"})]})]})]})]}),t.jsxs("button",{disabled:v===0,className:`w-full py-3 rounded-lg font-medium text-lg flex items-center justify-center transition-colors ${v>0?"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[t.jsx(Fi,{className:"mr-2",size:20}),v>0?`Commander une livraison pour ${w(v,y).total.toFixed(2)}€`:"Sélectionnez une destination pour continuer"]})]})]}):t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("button",{onClick:()=>p("covoiturage"),className:"group relative overflow-hidden rounded-2xl p-8 text-left transition-all duration-300 transform hover:scale-105 hover:shadow-xl bg-white border-2 border-emerald-200 hover:border-emerald-400 shadow-lg",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50 to-emerald-100 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"inline-flex p-4 rounded-xl bg-gradient-to-r from-emerald-400 to-emerald-600 shadow-lg mb-6 group-hover:shadow-xl transition-shadow",children:t.jsx(Bt,{size:32,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-emerald-800 transition-colors",children:"Covoiturage"}),t.jsx("p",{className:"text-emerald-600 font-medium mb-4",children:"Partagez vos trajets courses"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Tarif de base:"}),t.jsx("span",{className:"font-semibold text-emerald-600",children:"15€"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Par kilomètre:"}),t.jsx("span",{className:"font-semibold text-emerald-600",children:"0.60€"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Commission app:"}),t.jsx("span",{className:"font-semibold text-emerald-600",children:"15%"})]}),t.jsxs("div",{className:"flex items-center mt-3 text-blue-600",children:[t.jsx(ut,{className:"mr-1",size:14}),t.jsx("span",{className:"text-xs",children:"Calcul GPS automatique"})]})]})]})]}),t.jsx("div",{className:"absolute -bottom-6 -right-6 w-24 h-24 bg-gradient-to-r from-emerald-400 to-emerald-600 opacity-10 rounded-full transform translate-x-8 translate-y-8 group-hover:scale-150 transition-transform duration-300"})]}),t.jsxs("button",{onClick:()=>p("livraison"),className:"group relative overflow-hidden rounded-2xl p-8 text-left transition-all duration-300 transform hover:scale-105 hover:shadow-xl bg-white border-2 border-teal-200 hover:border-teal-400 shadow-lg",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-50 to-teal-100 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"inline-flex p-4 rounded-xl bg-gradient-to-r from-teal-400 to-teal-600 shadow-lg mb-6 group-hover:shadow-xl transition-shadow",children:t.jsx(Fi,{size:32,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3 group-hover:text-teal-800 transition-colors",children:"Livraison"}),t.jsx("p",{className:"text-teal-600 font-medium mb-4",children:"Livraison avec choix du véhicule"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Tarif de base:"}),t.jsx("span",{className:"font-semibold text-teal-600",children:"15€"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Par kilomètre:"}),t.jsx("span",{className:"font-semibold text-teal-600",children:"0.60€"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Commission app:"}),t.jsx("span",{className:"font-semibold text-teal-600",children:"15%"})]}),t.jsxs("div",{className:"flex items-center mt-3 text-blue-600",children:[t.jsx(ut,{className:"mr-1",size:14}),t.jsx("span",{className:"text-xs",children:"Calcul GPS automatique"})]})]})]})]}),t.jsx("div",{className:"absolute -bottom-6 -right-6 w-24 h-24 bg-gradient-to-r from-teal-400 to-teal-600 opacity-10 rounded-full transform translate-x-8 translate-y-8 group-hover:scale-150 transition-transform duration-300"})]})]})]}),D=()=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[t.jsx(di,{className:"mr-3 text-emerald-600",size:28}),"Catalogue des promotions par magasin"]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-dashed border-blue-300 rounded-xl p-8 text-center mb-8",children:[t.jsxs("div",{className:"flex items-center justify-center mb-4",children:[t.jsx(Gm,{className:"text-blue-500 mr-3",size:48}),t.jsx(Ce,{className:"text-blue-500",size:48})]}),t.jsx("h3",{className:"text-xl font-semibold text-blue-800 mb-3",children:"Intégration en cours"}),t.jsx("p",{className:"text-blue-700 mb-4 max-w-2xl mx-auto",children:"Cette section est en attente de l'intégration des catalogues publicitaires des enseignes par le webmaster. Les catalogues promotionnels seront bientôt disponibles directement dans l'application."}),t.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-blue-600",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Qs,{className:"mr-1",size:16}),t.jsx("span",{children:"Intégration prévue"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx($s,{className:"mr-1",size:16}),t.jsx("span",{children:"Catalogues PDF"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ht,{className:"mr-1",size:16}),t.jsx("span",{children:"Visualisation interactive"})]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-emerald-800 mb-4 flex items-center",children:[t.jsx(Ce,{className:"mr-2",size:20}),"Catalogues PDF"]}),t.jsxs("ul",{className:"space-y-2 text-sm text-emerald-700",children:[t.jsx("li",{children:"• Téléchargement direct des catalogues"}),t.jsx("li",{children:"• Mise à jour automatique hebdomadaire"}),t.jsx("li",{children:"• Archivage des promotions passées"}),t.jsx("li",{children:"• Recherche par produit ou catégorie"})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[t.jsx(Ht,{className:"mr-2",size:20}),"Visualisation Interactive"]}),t.jsxs("ul",{className:"space-y-2 text-sm text-blue-700",children:[t.jsx("li",{children:"• Feuilletage numérique des catalogues"}),t.jsx("li",{children:"• Zoom sur les promotions"}),t.jsx("li",{children:"• Ajout direct à la liste de courses"}),t.jsx("li",{children:"• Comparaison des prix promotionnels"})]})]}),t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:[t.jsx(jt,{className:"mr-2",size:20}),"Alertes Personnalisées"]}),t.jsxs("ul",{className:"space-y-2 text-sm text-purple-700",children:[t.jsx("li",{children:"• Notifications pour vos produits favoris"}),t.jsx("li",{children:"• Alertes prix et promotions"}),t.jsx("li",{children:"• Rappels de fin de promotion"}),t.jsx("li",{children:"• Suggestions basées sur vos achats"})]})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Enseignes partenaires prévues"}),t.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:["Carrefour","Leclerc","Auchan","Monoprix","Casino","Intermarché","Super U","Cora"].map(g=>t.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full mx-auto mb-3 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:"🏪"})}),t.jsx("h4",{className:"font-medium text-gray-800 text-sm",children:g}),t.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Catalogue à venir"})]},g))})]}),t.jsx("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start",children:[t.jsx(ci,{className:"text-yellow-600 mr-3 mt-0.5",size:20}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"Information technique"}),t.jsx("p",{className:"text-sm text-yellow-700",children:"Cette fonctionnalité nécessite l'intégration des API des enseignes partenaires et la mise en place d'un système de synchronisation automatique des catalogues promotionnels. Le webmaster procédera à cette intégration dans les prochaines semaines."})]})]})})]}),E=()=>{switch(i){case"shopping-list":return t.jsx(sx,{onListValidated:C,existingList:a});case"scanner":return t.jsx(rx,{validatedList:r,onListUpdated:I,onNavigateToShoppingList:G,onRectifyList:S});case"price-comparison":return t.jsx(nx,{validatedList:r});case"donations":return t.jsx(ix,{});case"transport-services":return L();case"promotions":return D();default:return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"Service en développement"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Ce service sera bientôt disponible."}),t.jsx("button",{onClick:s,className:"bg-emerald-600 text-white px-6 py-3 rounded-lg hover:bg-emerald-700 transition-colors",children:"Retour aux services"})]})}};return t.jsx("div",{className:"min-h-screen",children:E()})},ax=()=>{const[e]=T.useState([{id:"ben_001",firstName:"Marie",lastName:"Dubois",code:"PDS-2024-001",familySize:3,address:"123 Rue de la Paix, 13001 Marseille",phone:"06 12 34 56 78",email:"marie.dubois@email.com",socialWorkerId:"sw_001",verified:!0,registrationDate:new Date("2024-01-10"),lastActivity:new Date("2024-01-16T14:30:00")},{id:"ben_002",firstName:"Ahmed",lastName:"Hassan",code:"PDS-2024-002",familySize:5,address:"456 Avenue des Fleurs, 13003 Marseille",phone:"06 98 76 54 32",email:"ahmed.hassan@email.com",socialWorkerId:"sw_001",verified:!0,registrationDate:new Date("2024-01-12"),lastActivity:new Date("2024-01-15T09:15:00")},{id:"ben_003",firstName:"Sophie",lastName:"Martin",code:"PDS-2024-003",familySize:2,address:"789 Boulevard du Soleil, 13008 Marseille",phone:"06 55 44 33 22",email:"sophie.martin@email.com",socialWorkerId:"sw_001",verified:!1,registrationDate:new Date("2024-01-14"),lastActivity:new Date("2024-01-16T16:45:00")}]),[s,r]=T.useState([{id:"req_001",beneficiaryId:"ben_001",beneficiaryName:"Marie Dubois",items:[{id:"item_001",productName:"Lait demi-écrémé 1L",category:"produits-laitiers",quantity:4,priority:"high",validated:!0,associationId:"assoc_001",associationName:"Restos du Cœur",availableInStock:!0,stockInfo:[{associationId:"assoc_001",associationName:"Restos du Cœur",quantity:15,location:"Entrepôt A - Réfrigérateur 2"},{associationId:"assoc_002",associationName:"Secours Populaire",quantity:8,location:"Local B - Frigo principal"}]},{id:"item_002",productName:"Riz basmati 1kg",category:"feculents",quantity:2,priority:"medium",validated:!0,associationId:"assoc_001",associationName:"Restos du Cœur",availableInStock:!0,stockInfo:[{associationId:"assoc_001",associationName:"Restos du Cœur",quantity:8,location:"Entrepôt A - Étagère 3"},{associationId:"assoc_003",associationName:"Banque Alimentaire",quantity:25,location:"Entrepôt Central - Zone C"}]},{id:"item_003",productName:"Pommes Golden",category:"fruits-legumes",quantity:3,priority:"low",validated:!1,availableInStock:!1,stockInfo:[]}],status:"validated",createdAt:new Date("2024-01-15T10:30:00"),validatedAt:new Date("2024-01-15T14:20:00"),socialWorkerId:"sw_001",urgency:"high",notes:"Famille avec enfants en bas âge"},{id:"req_002",beneficiaryId:"ben_002",beneficiaryName:"Ahmed Hassan",items:[{id:"item_004",productName:"Pâtes spaghetti",category:"feculents",quantity:5,priority:"high",validated:!1,availableInStock:!0,stockInfo:[{associationId:"assoc_001",associationName:"Restos du Cœur",quantity:12,location:"Entrepôt A - Étagère 1"},{associationId:"assoc_002",associationName:"Secours Populaire",quantity:7,location:"Local B - Réserve"}]},{id:"item_005",productName:"Conserve tomates",category:"epicerie",quantity:3,priority:"medium",validated:!1,availableInStock:!0,stockInfo:[{associationId:"assoc_003",associationName:"Banque Alimentaire",quantity:18,location:"Entrepôt Central - Zone A"}]},{id:"item_006",productName:"Yaourts nature x8",category:"produits-laitiers",quantity:2,priority:"low",validated:!1,availableInStock:!1,stockInfo:[]},{id:"item_007",productName:"Huile d'olive",category:"epicerie",quantity:1,priority:"medium",validated:!1,availableInStock:!1,stockInfo:[]}],status:"pending",createdAt:new Date("2024-01-16T09:15:00"),socialWorkerId:"sw_001",urgency:"medium",notes:"Famille nombreuse, situation temporaire"},{id:"req_003",beneficiaryId:"ben_003",beneficiaryName:"Sophie Martin",items:[{id:"item_008",productName:"Pain de mie complet",category:"feculents",quantity:2,priority:"medium",validated:!1,availableInStock:!0,stockInfo:[{associationId:"assoc_002",associationName:"Secours Populaire",quantity:4,location:"Local B - Boulangerie"}]},{id:"item_009",productName:"Jambon blanc",category:"viandes-poissons",quantity:1,priority:"low",validated:!1,availableInStock:!1,stockInfo:[]}],status:"pending",createdAt:new Date("2024-01-16T16:45:00"),socialWorkerId:"sw_001",urgency:"low",notes:"Première demande, vérification en cours"}]),[n,i]=T.useState(null),[l,a]=T.useState("all"),[o,c]=T.useState("all"),[p,v]=T.useState(""),[N,y]=T.useState(null),[P,_]=T.useState([]),A=[{id:"assoc_001",name:"Restos du Cœur"},{id:"assoc_002",name:"Secours Populaire"},{id:"assoc_003",name:"Banque Alimentaire"},{id:"assoc_004",name:"Croix-Rouge"}],Q=s.filter(w=>{const z=l==="all"||w.status===l,q=o==="all"||w.beneficiaryId===o,L=p===""||w.beneficiaryName.toLowerCase().includes(p.toLowerCase())||w.items.some(D=>D.productName.toLowerCase().includes(p.toLowerCase()));return z&&q&&L}),m=w=>{switch(w){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"validated":return"bg-blue-100 text-blue-800 border-blue-300";case"qr_generated":return"bg-green-100 text-green-800 border-green-300";case"fulfilled":return"bg-purple-100 text-purple-800 border-purple-300";case"collected":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},x=w=>{switch(w){case"pending":return"En attente";case"validated":return"Validée";case"qr_generated":return"QR généré";case"fulfilled":return"Préparée";case"collected":return"Récupérée";default:return"Inconnu"}},u=w=>{switch(w){case"pending":return t.jsx(We,{size:14});case"validated":return t.jsx(ne,{size:14});case"qr_generated":return t.jsx(ve,{size:14});case"fulfilled":return t.jsx(le,{size:14});case"collected":return t.jsx(pt,{size:14});default:return t.jsx(Ce,{size:14})}},h=w=>{switch(w){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},j=w=>{switch(w){case"high":return"border-l-red-500 bg-red-50";case"medium":return"border-l-yellow-500 bg-yellow-50";case"low":return"border-l-green-500 bg-green-50";default:return"border-l-gray-500 bg-gray-50"}},f=(w,z,q)=>{const L=A.find(D=>D.id===q);L&&r(s.map(D=>{if(D.id===w){const E=D.items.map(F=>F.id===z?{...F,validated:!0,associationId:q,associationName:L.name}:F),g=E.filter(F=>F.availableInStock),H=g.length>0&&g.every(F=>F.validated),k=H?"validated":"pending",$=H&&!D.validatedAt?new Date:D.validatedAt;return{...D,items:E,status:k,validatedAt:$}}return D}))},d=(w,z)=>{r(s.map(q=>{if(q.id===w){const L=q.items.map(D=>D.id===z?{...D,validated:!1,associationId:void 0,associationName:void 0}:D);return{...q,items:L,status:"pending"}}return q}))},b=(w,z,q)=>{q<=0||r(s.map(L=>{if(L.id===w){const D=L.items.map(E=>E.id===z?{...E,quantity:q}:E);return{...L,items:D}}return L}))},C=(w,z)=>{const q=s.find(E=>E.id===w),L=q==null?void 0:q.items.find(E=>E.id===z);if(!L)return;const D={id:`anon_${Date.now()}`,productName:L.productName,category:L.category,quantity:L.quantity,priority:L.priority,requestedAt:new Date,status:"sent"};_(E=>[...E,D]),console.log("📢 DEMANDE ANONYME ENVOYÉE AUX MÉNAGES:"),console.log(`Produit demandé: ${L.productName}`),console.log(`Quantité: ${L.quantity}`),console.log(`Priorité: ${L.priority}`),console.log("Envoyé à tous les utilisateurs du profil ménage"),alert(`Demande anonyme envoyée aux ménages pour: ${L.productName} (x${L.quantity})`)},I=w=>{const z=s.find(H=>H.id===w);if(!z)return;const q=z.items.filter(H=>H.validated&&H.availableInStock);if(q.length===0){alert("Aucun article en stock validé pour générer le QR code");return}const L=e.find(H=>H.id===z.beneficiaryId);if(!L)return;const D=q.map(H=>({productId:`prod_${H.id}`,productName:H.productName,quantity:H.quantity,associationId:H.associationId,associationName:H.associationName,validated:!0})),E={id:`qr_${Date.now()}`,code:`QR-2024-${z.beneficiaryId.split("_")[1]}-${String(Date.now()).slice(-3)}`,beneficiaryId:z.beneficiaryId,items:D,generatedAt:new Date,validUntil:new Date(Date.now()+72*60*60*1e3),status:"active",associationNotified:!1,beneficiaryNotified:!1,sourceRequestId:w},g=JSON.parse(localStorage.getItem("generatedQRCodes")||"{}");g[z.beneficiaryId]||(g[z.beneficiaryId]=[]),g[z.beneficiaryId].push(E),localStorage.setItem("generatedQRCodes",JSON.stringify(g)),G(E,L),S(E,L),E.associationNotified=!0,E.beneficiaryNotified=!0,r(s.map(H=>H.id===w?{...H,status:"qr_generated",qrGeneratedAt:new Date}:H)),y(E),setTimeout(()=>{y(null)},5e3)},G=(w,z)=>{[...new Set(w.items.map(L=>L.associationName))].forEach(L=>{const D=w.items.filter(E=>E.associationName===L);console.log(`📧 NOTIFICATION ASSOCIATION - ${L}:`),console.log(`QR Code généré: ${w.code}`),console.log(`Bénéficiaire: ${z.firstName} ${z.lastName} (${z.code})`),console.log("Articles à préparer:"),D.forEach(E=>{console.log(`  - ${E.productName} (x${E.quantity})`)}),console.log(`Validité: jusqu'au ${w.validUntil.toLocaleDateString("fr-FR")} à ${w.validUntil.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}`),console.log(`Contact bénéficiaire: ${z.phone}`),console.log("---")})},S=(w,z)=>{console.log(`📱 NOTIFICATION BÉNÉFICIAIRE - ${z.firstName} ${z.lastName}:`),console.log(`Votre QR code ${w.code} a été généré.`),console.log("IMPORTANT: Attendre que l'association vous transmette une notification pour récupérer le colis."),console.log(`Articles inclus: ${w.items.length} produits`),console.log(`Validité: jusqu'au ${w.validUntil.toLocaleDateString("fr-FR")}`),console.log("Ne vous présentez pas avant d'avoir reçu la confirmation de l'association.")},M=()=>{if(!N)return null;const w=e.find(z=>z.id===N.beneficiaryId);return t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-xl p-6 max-w-md mx-4 shadow-2xl",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ne,{className:"text-green-600",size:32})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"QR Code généré avec succès !"}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ve,{className:"text-blue-600 mr-2",size:16}),t.jsxs("span",{className:"font-medium text-blue-800",children:["Code: ",N.code]})]}),t.jsxs("p",{className:"text-sm text-blue-700",children:["Valide jusqu'au ",N.validUntil.toLocaleDateString("fr-FR")]})]}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[t.jsx(Ea,{className:"mr-2",size:14}),t.jsx("span",{children:"Notification envoyée aux associations"})]}),t.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[t.jsx(Lr,{className:"mr-2",size:14}),t.jsx("span",{children:"Notification envoyée au bénéficiaire"})]}),t.jsxs("div",{className:"flex items-center text-blue-600 text-sm",children:[t.jsx(pt,{className:"mr-2",size:14}),t.jsx("span",{children:'QR code archivé dans la pastille "QR Codes 72h"'})]})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Articles inclus:"})," ",N.items.length]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Bénéficiaire:"})," ",w==null?void 0:w.firstName," ",w==null?void 0:w.lastName]})]})]})})})};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Tl,{className:"mr-3",size:28}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold",children:"Gestion des Demandes"}),t.jsx("p",{className:"text-blue-100 text-sm",children:"Validation • Attribution • Génération QR"})]})]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"text-right text-sm",children:[t.jsxs("div",{className:"font-medium",children:[s.length," demandes"]}),t.jsxs("div",{className:"text-blue-200",children:[s.filter(w=>w.status==="pending").length," en attente"]})]})})]})}),t.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Qr,{className:"text-gray-400",size:16}),t.jsxs("select",{value:l,onChange:w=>a(w.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"Tous les statuts"}),t.jsx("option",{value:"pending",children:"En attente"}),t.jsx("option",{value:"validated",children:"Validées"}),t.jsx("option",{value:"qr_generated",children:"QR générés"}),t.jsx("option",{value:"fulfilled",children:"Préparées"}),t.jsx("option",{value:"collected",children:"Récupérées"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ct,{className:"text-gray-400",size:16}),t.jsxs("select",{value:o,onChange:w=>c(w.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"Tous les bénéficiaires"}),e.map(w=>t.jsxs("option",{value:w.id,children:[w.firstName," ",w.lastName]},w.id))]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(dt,{className:"text-gray-400",size:16}),t.jsx("input",{type:"text",placeholder:"Rechercher une demande...",value:p,onChange:w=>v(w.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})}),t.jsx("div",{className:"p-4",children:Q.length===0?t.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[t.jsx(Tl,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-600 font-medium",children:"Aucune demande trouvée"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Modifiez vos filtres de recherche"})]}):t.jsx("div",{className:"space-y-4",children:Q.map(w=>{const z=e.find(g=>g.id===w.beneficiaryId),q=n===w.id,L=w.items.filter(g=>g.availableInStock&&!g.validated),D=w.items.filter(g=>!g.availableInStock),E=w.items.filter(g=>g.validated);return t.jsxs("div",{className:`bg-white rounded-lg shadow-md border-l-4 ${j(w.urgency)} overflow-hidden`,children:[t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ct,{className:"mr-3 text-blue-600",size:24}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:w.beneficiaryName}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Code: ",z==null?void 0:z.code," • Foyer: ",z==null?void 0:z.familySize," personne",z!=null&&z.familySize&&z.familySize>1?"s":""]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Demande créée le ",w.createdAt.toLocaleDateString("fr-FR")," à ",w.createdAt.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center ${m(w.status)}`,children:[u(w.status),t.jsx("span",{className:"ml-1",children:x(w.status)})]}),t.jsx("button",{onClick:()=>i(q?null:w.id),className:"text-blue-600 hover:text-blue-800 transition-colors",children:q?t.jsx(Nt,{size:20}):t.jsx(Ht,{size:20})})]})]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(le,{className:"mr-1 text-gray-500",size:14}),t.jsxs("span",{children:[w.items.length," articles demandés"]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Hn,{className:"mr-1 text-green-500",size:14}),t.jsxs("span",{children:[L.length," en stock"]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(ne,{className:"mr-1 text-blue-500",size:14}),t.jsxs("span",{children:[E.length," validés"]})]}),w.notes&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ce,{className:"mr-1 text-blue-500",size:14}),t.jsx("span",{className:"italic text-blue-600",children:w.notes})]})]})})]}),q&&t.jsxs("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:[t.jsxs("h4",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[t.jsx(ds,{className:"mr-2",size:18}),"Articles demandés"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[t.jsxs("h5",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[t.jsx(Hn,{className:"mr-2",size:16}),"Produits disponibles en stock (",L.length,")"]}),L.length===0?t.jsxs("div",{className:"text-center py-4 text-green-600",children:[t.jsx(ne,{className:"mx-auto mb-2",size:32}),t.jsx("p",{className:"text-sm",children:"Tous les produits en stock sont validés"})]}):t.jsx("div",{className:"space-y-3",children:L.map(g=>{var H;return t.jsxs("div",{className:"p-3 rounded-lg border-2 bg-white border-green-200",children:[t.jsx("div",{className:"flex items-center justify-between mb-2",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("h6",{className:"font-medium text-gray-800",children:g.productName}),t.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${h(g.priority)}`,children:g.priority==="high"?"Urgent":g.priority==="medium"?"Moyen":"Faible"})]})}),g.stockInfo&&g.stockInfo.length>0&&t.jsxs("div",{className:"mb-3 bg-green-100 border border-green-300 rounded p-2",children:[t.jsx("h6",{className:"text-xs font-medium text-green-800 mb-2",children:"Disponibilité par association:"}),t.jsx("div",{className:"space-y-1",children:g.stockInfo.map((k,$)=>t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Fr,{className:"mr-1 text-green-600",size:10}),t.jsx("span",{className:"font-medium text-green-700",children:k.associationName})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-bold text-green-600",children:["Stock: ",k.quantity]}),t.jsx("div",{className:"text-green-500",children:k.location})]})]},$))})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{onClick:()=>b(w.id,g.id,g.quantity-1),className:"w-6 h-6 flex items-center justify-center bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300",children:t.jsx(cs,{size:12})}),t.jsx("span",{className:"w-8 text-center font-bold text-sm",children:g.quantity}),t.jsx("button",{onClick:()=>b(w.id,g.id,g.quantity+1),className:"w-6 h-6 flex items-center justify-center bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300",children:t.jsx(vt,{size:12})})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("select",{id:`association-${g.id}`,className:"px-2 py-1 border border-gray-300 rounded text-xs",defaultValue:"",children:[t.jsx("option",{value:"",children:"Choisir association"}),(H=g.stockInfo)==null?void 0:H.map(k=>t.jsxs("option",{value:k.associationId,children:[k.associationName," (",k.quantity," dispo)"]},k.associationId))]}),t.jsx("button",{onClick:()=>{const k=document.getElementById(`association-${g.id}`);k!=null&&k.value&&f(w.id,g.id,k.value)},className:"px-3 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors",children:"Valider"})]})]})]},g.id)})})]}),t.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[t.jsxs("h5",{className:"font-semibold text-orange-800 mb-3 flex items-center",children:[t.jsx($r,{className:"mr-2",size:16}),"Produits non disponibles (",D.length,")"]}),D.length===0?t.jsxs("div",{className:"text-center py-4 text-orange-600",children:[t.jsx(ne,{className:"mx-auto mb-2",size:32}),t.jsx("p",{className:"text-sm",children:"Tous les produits sont disponibles en stock"})]}):t.jsxs("div",{className:"space-y-3",children:[D.map(g=>t.jsxs("div",{className:"p-3 rounded-lg border-2 bg-white border-orange-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("h6",{className:"font-medium text-gray-800",children:g.productName}),t.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${h(g.priority)}`,children:g.priority==="high"?"Urgent":g.priority==="medium"?"Moyen":"Faible"})]}),t.jsx("div",{className:"text-xs text-red-600 font-medium",children:"Stock: 0"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{onClick:()=>b(w.id,g.id,g.quantity-1),className:"w-6 h-6 flex items-center justify-center bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300",children:t.jsx(cs,{size:12})}),t.jsx("span",{className:"w-8 text-center font-bold text-sm",children:g.quantity}),t.jsx("button",{onClick:()=>b(w.id,g.id,g.quantity+1),className:"w-6 h-6 flex items-center justify-center bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300",children:t.jsx(vt,{size:12})})]}),t.jsxs("button",{onClick:()=>C(w.id,g.id),className:"flex items-center px-3 py-1 bg-orange-600 text-white rounded text-xs hover:bg-orange-700 transition-colors",children:[t.jsx(Pe,{className:"mr-1",size:12}),"Demande anonyme"]})]})]},g.id)),t.jsx("div",{className:"mt-4 p-3 bg-orange-100 border border-orange-300 rounded-lg",children:t.jsxs("p",{className:"text-xs text-orange-700",children:[t.jsx("strong",{children:"Demande anonyme:"})," Envoie une notification à tous les utilisateurs du profil ménage pour demander ces produits via le système de dons solidaires."]})})]})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsxs("h5",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[t.jsx(ne,{className:"mr-2",size:16}),"Produits validés (",E.length,")"]}),E.length===0?t.jsxs("div",{className:"text-center py-8 text-blue-600",children:[t.jsx(ve,{className:"mx-auto mb-3",size:48}),t.jsx("p",{className:"text-sm font-medium mb-2",children:"Aucun produit validé"}),t.jsx("p",{className:"text-xs",children:"Validez des produits en stock pour générer un QR code"})]}):t.jsxs("div",{className:"space-y-3",children:[E.map(g=>t.jsxs("div",{className:"p-3 rounded-lg border-2 bg-blue-100 border-blue-300",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("h6",{className:"font-medium text-blue-800",children:g.productName}),t.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${h(g.priority)}`,children:g.priority==="high"?"Urgent":g.priority==="medium"?"Moyen":"Faible"})]}),t.jsxs("div",{className:"text-xs text-blue-600 font-medium",children:["Qté: ",g.quantity]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center text-blue-600 text-sm",children:[t.jsx(Fr,{className:"mr-1",size:12}),t.jsx("span",{children:g.associationName})]}),t.jsx("button",{onClick:()=>d(w.id,g.id),className:"text-red-600 hover:text-red-800 text-xs px-2 py-1 border border-red-300 rounded",children:"Annuler"})]})]},g.id)),t.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg",children:[t.jsxs("div",{className:"text-center mb-4",children:[t.jsxs("h3",{className:"font-bold text-lg flex items-center justify-center",children:[t.jsx(ve,{className:"mr-2",size:20}),"Génération QR Code"]}),t.jsxs("p",{className:"text-blue-100 text-sm",children:[E.length," article",E.length>1?"s":""," validé",E.length>1?"s":""," pour ",w.beneficiaryName]})]}),t.jsxs("button",{onClick:()=>I(w.id),className:"w-full bg-white text-blue-600 py-3 rounded-lg hover:bg-blue-50 transition-colors font-medium flex items-center justify-center",children:[t.jsx(ve,{className:"mr-2",size:20}),"Générer QR Code (72h)",t.jsx(Al,{className:"ml-2",size:16})]}),t.jsx("div",{className:"mt-3 text-xs text-blue-100 text-center",children:'⚡ Renvoi direct vers la pastille "QR Codes 72h"'})]})]})]})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-gray-300 flex items-center justify-between",children:t.jsxs("div",{className:"text-sm text-gray-600",children:[w.validatedAt&&t.jsxs("span",{children:["Validée le ",w.validatedAt.toLocaleDateString("fr-FR")," à ",w.validatedAt.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]}),w.qrGeneratedAt&&t.jsxs("span",{className:"ml-4",children:["QR généré le ",w.qrGeneratedAt.toLocaleDateString("fr-FR")," à ",w.qrGeneratedAt.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})})]})]},w.id)})})}),M()]})},ox=()=>{const[e]=T.useState([{id:"ben_001",firstName:"Marie",lastName:"Dubois",code:"PDS-2024-001",familySize:3,address:"123 Rue de la Paix, 13001 Marseille",phone:"06 12 34 56 78",email:"marie.dubois@email.com",socialWorkerId:"sw_001",verified:!0,registrationDate:new Date("2024-01-10"),lastActivity:new Date("2024-01-16T14:30:00")},{id:"ben_002",firstName:"Ahmed",lastName:"Hassan",code:"PDS-2024-002",familySize:5,address:"456 Avenue des Fleurs, 13003 Marseille",phone:"06 98 76 54 32",email:"ahmed.hassan@email.com",socialWorkerId:"sw_001",verified:!0,registrationDate:new Date("2024-01-12"),lastActivity:new Date("2024-01-15T09:15:00")},{id:"ben_003",firstName:"Sophie",lastName:"Martin",code:"PDS-2024-003",familySize:2,address:"789 Boulevard du Soleil, 13008 Marseille",phone:"06 55 44 33 22",email:"sophie.martin@email.com",socialWorkerId:"sw_001",verified:!1,registrationDate:new Date("2024-01-14"),lastActivity:new Date("2024-01-16T16:45:00")}]);T.useState([]);const[s,r]=T.useState({}),[n,i]=T.useState("ben_001"),[l,a]=T.useState(!0),[o,c]=T.useState("all"),[p,v]=T.useState(""),[N,y]=T.useState(null);T.useEffect(()=>{const h=()=>{try{const d=localStorage.getItem("generatedQRCodes");if(d){const b=JSON.parse(d),C={};Object.keys(b).forEach(I=>{C[I]=b[I].map(G=>({...G,generatedAt:new Date(G.generatedAt),validUntil:new Date(G.validUntil)}))}),r(C)}else{const b={ben_001:[{id:"qr_001",code:"QR-2024-001-001",beneficiaryId:"ben_001",items:[{productId:"prod_007",productName:"Yaourts nature x8",quantity:2,associationId:"assoc_001",associationName:"Restos du Cœur",validated:!0},{productId:"prod_012",productName:"Pain de mie complet",quantity:1,associationId:"assoc_001",associationName:"Restos du Cœur",validated:!0}],generatedAt:new Date("2024-01-14T10:30:00"),validUntil:new Date("2024-01-17T10:30:00"),status:"used",associationNotified:!0,beneficiaryNotified:!0,notes:"Récupéré le 15/01/2024"},{id:"qr_002",code:"QR-2024-001-002",beneficiaryId:"ben_001",items:[{productId:"prod_018",productName:"Conserve tomates",quantity:3,associationId:"assoc_003",associationName:"Banque Alimentaire",validated:!0}],generatedAt:new Date("2024-01-16T14:15:00"),validUntil:new Date("2024-01-19T14:15:00"),status:"active",associationNotified:!0,beneficiaryNotified:!0}],ben_002:[{id:"qr_003",code:"QR-2024-002-001",beneficiaryId:"ben_002",items:[{productId:"prod_011",productName:"Pâtes spaghetti",quantity:3,associationId:"assoc_001",associationName:"Restos du Cœur",validated:!0},{productId:"prod_014",productName:"Escalopes de poulet",quantity:2,associationId:"assoc_002",associationName:"Secours Populaire",validated:!0}],generatedAt:new Date("2024-01-13T09:45:00"),validUntil:new Date("2024-01-16T09:45:00"),status:"expired",associationNotified:!0,beneficiaryNotified:!0,notes:"Non récupéré - expiré"}]};r(b),localStorage.setItem("generatedQRCodes",JSON.stringify(b))}}catch(d){console.error("Erreur lors du chargement des QR codes:",d)}};h();const j=d=>{d.key==="generatedQRCodes"&&h()};window.addEventListener("storage",j);const f=setInterval(h,1e3);return()=>{window.removeEventListener("storage",j),clearInterval(f)}},[]);const P=e.find(h=>h.id===n),_=s[n]||[],A=_.filter(h=>{const j=o==="all"||h.status===o,f=p===""||h.code.toLowerCase().includes(p.toLowerCase())||h.items.some(d=>d.productName.toLowerCase().includes(p.toLowerCase()));return j&&f}),Q=h=>{switch(h){case"active":return"bg-green-100 text-green-800 border-green-300";case"expired":return"bg-red-100 text-red-800 border-red-300";case"used":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},m=h=>{switch(h){case"active":return"Actif";case"expired":return"Expiré";case"used":return"Utilisé";default:return"Inconnu"}},x=h=>{switch(h){case"active":return t.jsx(ne,{size:14});case"expired":return t.jsx(He,{size:14});case"used":return t.jsx(pt,{size:14});default:return t.jsx(We,{size:14})}},u=()=>N?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-xl p-6 max-w-md mx-4 shadow-2xl",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(ne,{className:"text-green-600",size:32})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"QR Code généré avec succès !"}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(ve,{className:"text-blue-600 mr-2",size:16}),t.jsxs("span",{className:"font-medium text-blue-800",children:["Code: ",N.code]})]}),t.jsxs("p",{className:"text-sm text-blue-700",children:["Valide jusqu'au ",N.validUntil.toLocaleDateString("fr-FR")]})]}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[t.jsx(Ea,{className:"mr-2",size:14}),t.jsx("span",{children:"Notification envoyée aux associations"})]}),t.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[t.jsx(Lr,{className:"mr-2",size:14}),t.jsx("span",{children:"Notification envoyée au bénéficiaire"})]}),t.jsxs("div",{className:"flex items-center text-blue-600 text-sm",children:[t.jsx(pt,{className:"mr-2",size:14}),t.jsx("span",{children:"QR code archivé automatiquement"})]})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Articles inclus:"})," ",N.items.length]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Bénéficiaire:"})," ",P==null?void 0:P.firstName," ",P==null?void 0:P.lastName]})]})]})})}):null;return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white p-4 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ve,{className:"mr-3",size:28}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold",children:"QR Codes 72h - Géolocalisation Sécurisée"}),t.jsx("p",{className:"text-green-100 text-sm",children:"Génération • Archivage • Suivi par bénéficiaire"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:()=>a(!l),className:`flex items-center px-3 py-2 rounded-lg transition-colors ${l?"bg-white/20 text-white":"bg-white/10 text-green-100 hover:bg-white/20 hover:text-white"}`,children:[t.jsx(pt,{className:"mr-2",size:16}),l?"Génération QR":"Historique QR"]}),t.jsxs("div",{className:"text-right text-sm",children:[t.jsxs("div",{className:"font-medium",children:[e.length," bénéficiaires"]}),t.jsxs("div",{className:"text-green-200",children:[Object.values(s).flat().length," QR archivés"]})]})]})]})}),l?t.jsx("div",{className:"p-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h2",{className:"text-2xl font-semibold text-green-800 flex items-center",children:[t.jsx(pt,{className:"mr-3",size:28}),"Historique QR Codes par Bénéficiaire"]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(dt,{className:"text-gray-400",size:20}),t.jsx("input",{type:"text",placeholder:"Rechercher un QR code...",value:p,onChange:h=>v(h.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),t.jsxs("select",{value:o,onChange:h=>c(h.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[t.jsx("option",{value:"all",children:"Tous les statuts"}),t.jsx("option",{value:"active",children:"Actifs"}),t.jsx("option",{value:"expired",children:"Expirés"}),t.jsx("option",{value:"used",children:"Utilisés"})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Sélectionner un bénéficiaire"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(h=>t.jsxs("button",{onClick:()=>i(h.id),className:`px-4 py-2 rounded-lg border-2 transition-all ${n===h.id?"border-green-500 bg-green-50 text-green-800":"border-gray-200 text-gray-700 hover:border-green-300 hover:bg-green-50"}`,children:[t.jsxs("div",{className:"text-sm",children:[t.jsxs("div",{className:"font-medium",children:[h.firstName," ",h.lastName]}),t.jsx("div",{className:"text-xs opacity-75",children:h.code})]}),t.jsxs("div",{className:"text-xs mt-1",children:[(s[h.id]||[]).length," QR code",(s[h.id]||[]).length>1?"s":""]})]},h.id))})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Historique QR - ",P==null?void 0:P.firstName," ",P==null?void 0:P.lastName,t.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-600",children:["(",A.length," QR code",A.length>1?"s":"",")"]})]}),A.length===0?t.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[t.jsx(pt,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-600 font-medium",children:"Aucun QR code trouvé"}),t.jsx("p",{className:"text-gray-500 text-sm",children:_.length===0?"Aucun QR code généré pour ce bénéficiaire":"Modifiez vos filtres de recherche"})]}):t.jsx("div",{className:"space-y-4",children:A.map(h=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-green-300 transition-colors",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[t.jsx(ve,{className:"mr-2 text-green-600",size:20}),h.code,h.sourceRequestId&&t.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-600 rounded-full text-xs",children:"Depuis demande"})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Généré le ",h.generatedAt.toLocaleDateString("fr-FR")," à ",h.generatedAt.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Valide jusqu'au ",h.validUntil.toLocaleDateString("fr-FR")," à ",h.validUntil.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center ${Q(h.status)}`,children:[x(h.status),t.jsx("span",{className:"ml-1",children:m(h.status)})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[t.jsxs("h5",{className:"font-medium text-gray-800 mb-2 flex items-center",children:[t.jsx(ds,{className:"mr-1",size:16}),"Articles inclus (",h.items.length,")"]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:h.items.map((j,f)=>t.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 rounded p-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-sm text-gray-800",children:j.productName}),t.jsx("div",{className:"text-xs text-gray-600",children:j.associationName})]}),t.jsxs("span",{className:"text-sm font-bold text-green-600",children:["x",j.quantity]})]},f))})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:`flex items-center ${h.associationNotified?"text-green-600":"text-gray-400"}`,children:[t.jsx(Fr,{className:"mr-1",size:12}),t.jsxs("span",{children:["Association ",h.associationNotified?"notifiée":"non notifiée"]})]}),t.jsxs("div",{className:`flex items-center ${h.beneficiaryNotified?"text-green-600":"text-gray-400"}`,children:[t.jsx(Lr,{className:"mr-1",size:12}),t.jsxs("span",{children:["Bénéficiaire ",h.beneficiaryNotified?"notifié":"non notifié"]})]})]}),h.notes&&t.jsx("div",{className:"text-gray-600 italic",children:h.notes})]})]},h.id))})]})]})}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t.jsxs("h2",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[t.jsx(Bt,{className:"mr-2",size:20}),"Sélection du Bénéficiaire"]}),t.jsx("div",{className:"space-y-2",children:e.map(h=>t.jsx("button",{onClick:()=>i(h.id),className:`w-full text-left p-3 rounded-lg border-2 transition-all ${n===h.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300 hover:bg-green-50"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-gray-900",children:[h.firstName," ",h.lastName]}),t.jsx("p",{className:"text-sm text-green-600 font-mono",children:h.code}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Foyer: ",h.familySize," personne",h.familySize>1?"s":""]})]}),h.verified?t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Vérifié"}):t.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:"Non vérifié"})]})},h.id))})]}),P&&t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t.jsxs("h3",{className:"text-lg font-semibold text-green-800 mb-3 flex items-center",children:[t.jsx(Ct,{className:"mr-2",size:20}),"Informations Bénéficiaire"]}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(du,{className:"mr-2 text-gray-400",size:14}),t.jsx("span",{children:P.phone})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Qm,{className:"mr-2 text-gray-400",size:14}),t.jsx("span",{children:P.email})]}),t.jsxs("div",{className:"flex items-start",children:[t.jsx(Us,{className:"mr-2 mt-0.5 text-gray-400",size:14}),t.jsx("span",{children:P.address})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(Qs,{className:"mr-2 text-gray-400",size:14}),t.jsxs("span",{children:["Inscrit le ",P.registrationDate.toLocaleDateString("fr-FR")]})]})]})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t.jsxs("h2",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:[t.jsx(le,{className:"mr-2",size:20}),"Articles Validés pour QR Code"]}),t.jsxs("div",{className:"text-center py-8 bg-green-50 rounded-lg",children:[t.jsx(le,{className:"mx-auto text-green-400 mb-3",size:48}),t.jsx("p",{className:"text-green-700 font-medium mb-1",children:'Génération depuis la pastille "Demandes"'}),t.jsx("p",{className:"text-green-600 text-sm",children:`Les QR codes sont maintenant générés directement depuis la pastille "Demandes" et apparaissent automatiquement dans l'historique ci-dessous.`}),t.jsxs("button",{onClick:()=>a(!0),className:"mt-4 flex items-center mx-auto px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[t.jsx(pt,{className:"mr-2",size:16}),"Voir l'historique des QR codes"]})]})]})})]}),u()]})},cx=({serviceId:e,onBack:s})=>{const[r,n]=T.useState("all"),[i,l]=T.useState("all"),[a,o]=T.useState(""),c=[{id:"rgpd_001",beneficiaryId:"ben_001",beneficiaryName:"Marie Dubois",documentType:"consent",title:"Consentement traitement des données personnelles",status:"signed",signedAt:new Date("2024-01-10T14:30:00"),validUntil:new Date("2025-01-10T14:30:00"),ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",documentVersion:"v2.1"},{id:"rgpd_002",beneficiaryId:"ben_001",beneficiaryName:"Marie Dubois",documentType:"data_processing",title:"Autorisation traitement données sensibles",status:"signed",signedAt:new Date("2024-01-10T14:35:00"),validUntil:new Date("2025-01-10T14:35:00"),ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",documentVersion:"v1.3"},{id:"rgpd_003",beneficiaryId:"ben_002",beneficiaryName:"Ahmed Hassan",documentType:"consent",title:"Consentement traitement des données personnelles",status:"signed",signedAt:new Date("2024-01-12T09:15:00"),validUntil:new Date("2025-01-12T09:15:00"),ipAddress:"192.168.1.101",userAgent:"Mozilla/5.0 (Android 12; Mobile)",documentVersion:"v2.1"},{id:"rgpd_004",beneficiaryId:"ben_003",beneficiaryName:"Sophie Martin",documentType:"consent",title:"Consentement traitement des données personnelles",status:"pending",ipAddress:"192.168.1.102",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0)",documentVersion:"v2.1"},{id:"rgpd_005",beneficiaryId:"ben_001",beneficiaryName:"Marie Dubois",documentType:"access_request",title:"Demande d'accès aux données personnelles",status:"signed",signedAt:new Date("2024-01-15T16:20:00"),ipAddress:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64)",documentVersion:"v1.0"}],p=[{id:"ben_001",name:"Marie Dubois"},{id:"ben_002",name:"Ahmed Hassan"},{id:"ben_003",name:"Sophie Martin"}],v=m=>{switch(m){case"consent":return"Consentement RGPD";case"data_processing":return"Traitement données";case"right_to_forget":return"Droit à l'oubli";case"data_portability":return"Portabilité données";case"access_request":return"Accès aux données";default:return"Document RGPD"}},N=m=>{switch(m){case"signed":return"bg-green-100 text-green-800 border-green-300";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"expired":return"bg-red-100 text-red-800 border-red-300";case"revoked":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=m=>{switch(m){case"signed":return"Signé";case"pending":return"En attente";case"expired":return"Expiré";case"revoked":return"Révoqué";default:return"Inconnu"}},P=m=>{switch(m){case"signed":return t.jsx(ne,{size:14});case"pending":return t.jsx(We,{size:14});case"expired":return t.jsx(He,{size:14});case"revoked":return t.jsx(pt,{size:14});default:return t.jsx(Ce,{size:14})}},_=c.filter(m=>{const x=r==="all"||m.beneficiaryId===r,u=i==="all"||m.status===i,h=a===""||m.title.toLowerCase().includes(a.toLowerCase())||m.beneficiaryName.toLowerCase().includes(a.toLowerCase());return x&&u&&h}),A=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:[t.jsx(Ce,{className:"mr-2",size:20}),"Documents RGPD par Bénéficiaire"]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ct,{className:"text-gray-400",size:16}),t.jsxs("select",{value:r,onChange:m=>n(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"Tous les bénéficiaires"}),p.map(m=>t.jsx("option",{value:m.id,children:m.name},m.id))]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Qr,{className:"text-gray-400",size:16}),t.jsxs("select",{value:i,onChange:m=>l(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"Tous les statuts"}),t.jsx("option",{value:"signed",children:"Signés"}),t.jsx("option",{value:"pending",children:"En attente"}),t.jsx("option",{value:"expired",children:"Expirés"}),t.jsx("option",{value:"revoked",children:"Révoqués"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(dt,{className:"text-gray-400",size:16}),t.jsx("input",{type:"text",placeholder:"Rechercher un document...",value:a,onChange:m=>o(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-green-800 text-sm",children:"Documents signés"}),t.jsx("p",{className:"text-xl font-bold text-green-600",children:c.filter(m=>m.status==="signed").length})]}),t.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-yellow-800 text-sm",children:"En attente"}),t.jsx("p",{className:"text-xl font-bold text-yellow-600",children:c.filter(m=>m.status==="pending").length})]}),t.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-red-800 text-sm",children:"Expirés"}),t.jsx("p",{className:"text-xl font-bold text-red-600",children:c.filter(m=>m.status==="expired").length})]}),t.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-blue-800 text-sm",children:"Total documents"}),t.jsx("p",{className:"text-xl font-bold text-blue-600",children:c.length})]})]})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:["Documents RGPD (",_.length,")"]}),_.length===0?t.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[t.jsx(Ce,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-600 font-medium",children:"Aucun document trouvé"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Modifiez vos filtres de recherche"})]}):t.jsx("div",{className:"space-y-4",children:_.map(m=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[t.jsx(Ce,{className:"mr-2 text-blue-600",size:18}),m.title]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.jsx("strong",{children:"Bénéficiaire:"})," ",m.beneficiaryName]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[t.jsx("strong",{children:"Type:"})," ",v(m.documentType)]})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center ${N(m.status)}`,children:[P(m.status),t.jsx("span",{className:"ml-1",children:y(m.status)})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:[t.jsx("h5",{className:"font-medium text-gray-800 mb-2 text-sm",children:"Détails techniques"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-xs text-gray-600",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Version document:"})," ",m.documentVersion]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Adresse IP:"})," ",m.ipAddress]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("strong",{children:"User Agent:"})," ",m.userAgent]})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"space-y-1",children:[m.signedAt&&t.jsxs("div",{className:"flex items-center text-green-600",children:[t.jsx(Qs,{className:"mr-1",size:12}),t.jsxs("span",{children:["Signé le ",m.signedAt.toLocaleDateString("fr-FR")," à ",m.signedAt.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}),m.validUntil&&t.jsxs("div",{className:"flex items-center text-blue-600",children:[t.jsx(We,{className:"mr-1",size:12}),t.jsxs("span",{children:["Valide jusqu'au ",m.validUntil.toLocaleDateString("fr-FR")]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{className:"flex items-center px-3 py-1 text-blue-600 border border-blue-600 rounded hover:bg-blue-50 transition-colors text-xs",children:[t.jsx(Ht,{className:"mr-1",size:12}),"Consulter"]}),t.jsxs("button",{className:"flex items-center px-3 py-1 text-green-600 border border-green-600 rounded hover:bg-green-50 transition-colors text-xs",children:[t.jsx($s,{className:"mr-1",size:12}),"Télécharger"]})]})]})]},m.id))})]})]}),Q=()=>{switch(e){case"beneficiary-info":return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[t.jsx(ui,{className:"mr-3 text-blue-600",size:28}),"Informations Bénéficiaires"]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Bénéficiaires actifs"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"127"}),t.jsx("p",{className:"text-sm text-blue-600",children:"+12 ce mois"})]}),t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Validations effectuées"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:"89"}),t.jsx("p",{className:"text-sm text-green-600",children:"Délai moyen: 24h"})]}),t.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"En attente de validation"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"8"}),t.jsx("p",{className:"text-sm text-yellow-600",children:"À traiter"})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Processus de validation"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:"1"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:"Vérification des documents"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Contrôle automatique par IA (96% de précision)"})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:"2"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:"Validation CAF"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Intégration API officielle en temps réel"})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:"3"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:"Attribution du code unique"}),t.jsx("p",{className:"text-sm text-blue-700",children:"Génération automatique du code PDS-YYYY-XXX"})]})]})]})]})]});case"requests":return t.jsx(ax,{});case"qr-codes":return t.jsx(ox,{});case"security":return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[t.jsx(yt,{className:"mr-3 text-blue-600",size:28}),"Sécurité & Conformité RGPD"]}),t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Vm,{className:"mr-2 text-blue-600",size:20}),t.jsx("h3",{className:"font-semibold text-blue-800",children:"Chiffrement AES-256"})]}),t.jsx("p",{className:"text-sm text-blue-700",children:"Toutes les données sensibles sont chiffrées"})]}),t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx($r,{className:"mr-2 text-green-600",size:20}),t.jsx("h3",{className:"font-semibold text-green-800",children:"Conformité RGPD"})]}),t.jsx("p",{className:"text-sm text-green-700",children:"Respect total de la réglementation"})]}),t.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Bm,{className:"mr-2 text-purple-600",size:20}),t.jsx("h3",{className:"font-semibold text-purple-800",children:"Authentification 2FA"})]}),t.jsx("p",{className:"text-sm text-purple-700",children:"Double authentification obligatoire"})]}),t.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Om,{className:"mr-2 text-orange-600",size:20}),t.jsx("h3",{className:"font-semibold text-orange-800",children:"Audit de sécurité"})]}),t.jsx("p",{className:"text-sm text-orange-700",children:"Contrôles réguliers et logs détaillés"})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Mesures de protection"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),t.jsx("span",{className:"text-blue-700 text-sm",children:"Anonymisation automatique des données sensibles"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),t.jsx("span",{className:"text-blue-700 text-sm",children:"Géolocalisation sécurisée avec validation GPS"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),t.jsx("span",{className:"text-blue-700 text-sm",children:"QR codes temporaires avec expiration automatique"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),t.jsx("span",{className:"text-blue-700 text-sm",children:"Validation croisée des identités bénéficiaires"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),t.jsx("span",{className:"text-blue-700 text-sm",children:"Consentements RGPD horodatés et signés"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),t.jsx("span",{className:"text-blue-700 text-sm",children:"Traçabilité complète des accès aux données"})]})]})]})]})]}),A()]});default:return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"Service en développement"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Ce service sera bientôt disponible."}),t.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Retour aux services"})]})}};return t.jsx("div",{className:"min-h-screen",children:Q()})},dx=()=>{const[e,s]=T.useState([{id:"batch_001",productName:"Lait demi-écrémé 1L",category:"produits-laitiers",quantity:8,entryDate:new Date("2024-01-10T08:00:00"),expirationDate:new Date("2024-01-25T23:59:59"),supplier:"Don Famille Martin",batchNumber:"LOT-2024-001",location:"Réfrigérateur A - Étagère 2",fifoPosition:1,daysUntilExpiration:8,isExpiringSoon:!0,isExpired:!1},{id:"batch_002",productName:"Lait demi-écrémé 1L",category:"produits-laitiers",quantity:6,entryDate:new Date("2024-01-14T14:30:00"),expirationDate:new Date("2024-01-28T23:59:59"),supplier:"Don Famille Dubois",batchNumber:"LOT-2024-007",location:"Réfrigérateur A - Étagère 2",fifoPosition:2,daysUntilExpiration:11,isExpiringSoon:!1,isExpired:!1},{id:"batch_003",productName:"Riz basmati 1kg",category:"feculents",quantity:12,entryDate:new Date("2024-01-12T14:30:00"),supplier:"Don Famille Hassan",batchNumber:"LOT-2024-002",location:"Entrepôt A - Étagère 3",fifoPosition:1,isExpiringSoon:!1,isExpired:!1},{id:"batch_004",productName:"Conserve tomates 400g",category:"epicerie",quantity:3,entryDate:new Date("2024-01-14T10:15:00"),expirationDate:new Date("2025-01-14T23:59:59"),supplier:"Don Famille Sophie",batchNumber:"LOT-2024-003",location:"Entrepôt B - Zone Conserves",fifoPosition:1,daysUntilExpiration:365,isExpiringSoon:!1,isExpired:!1},{id:"batch_005",productName:"Pâtes spaghetti 500g",category:"feculents",quantity:2,entryDate:new Date("2024-01-15T16:20:00"),supplier:"Don Famille Ahmed",batchNumber:"LOT-2024-004",location:"Entrepôt A - Étagère 1",fifoPosition:1,isExpiringSoon:!1,isExpired:!1},{id:"batch_006",productName:"Yaourts nature x8",category:"produits-laitiers",quantity:1,entryDate:new Date("2024-01-16T09:45:00"),expirationDate:new Date("2024-01-28T23:59:59"),supplier:"Don Famille Claire",batchNumber:"LOT-2024-005",location:"Réfrigérateur B - Étagère 1",fifoPosition:1,daysUntilExpiration:11,isExpiringSoon:!1,isExpired:!1},{id:"batch_007",productName:"Pain de mie complet",category:"feculents",quantity:4,entryDate:new Date("2024-01-11T11:30:00"),expirationDate:new Date("2024-01-20T23:59:59"),supplier:"Don Famille Pierre",batchNumber:"LOT-2024-006",location:"Réserve Pain",fifoPosition:1,daysUntilExpiration:3,isExpiringSoon:!0,isExpired:!1}]),[r,n]=T.useState([]),[i,l]=T.useState([]),[a,o]=T.useState("all"),[c,p]=T.useState(""),[v,N]=T.useState(!1),[y,P]=T.useState("fifo"),_=[{id:"all",name:"Toutes catégories"},{id:"produits-laitiers",name:"Produits laitiers"},{id:"feculents",name:"Féculents"},{id:"epicerie",name:"Épicerie"},{id:"fruits-legumes",name:"Fruits et légumes"},{id:"viandes-poissons",name:"Viandes et poissons"}];T.useEffect(()=>{const d=e.reduce((C,I)=>(C[I.productName]||(C[I.productName]=[]),C[I.productName].push(I),C),{}),b=[];Object.entries(d).forEach(([C,I])=>{const G=I.reduce((M,w)=>M+w.quantity,0),S=6;if(G<=S){const M=S-G+4,w=new Date(Math.max(...I.map(z=>z.entryDate.getTime())));b.push({id:`alert_${C.replace(/\s+/g,"_")}`,productName:C,category:I[0].category,currentStock:G,criticalThreshold:S,shortage:M,lastMovement:w,requestSentToHouseholds:!1,householdResponseCount:0})}}),n(b)},[e]),T.useEffect(()=>{const d=e.map(b=>{if(b.expirationDate){const C=new Date,I=b.expirationDate.getTime()-C.getTime(),G=Math.ceil(I/(1e3*60*60*24));return{...b,daysUntilExpiration:G,isExpiringSoon:G<=7&&G>0,isExpired:G<=0}}return b});JSON.stringify(d)!==JSON.stringify(e)&&s(d)},[]);const A=d=>{const b={id:`req_${Date.now()}`,productName:d.productName,quantity:d.shortage,requestedAt:new Date,status:"sent",householdCount:127,responseCount:0};l(C=>[...C,b]),n(C=>C.map(I=>I.id===d.id?{...I,requestSentToHouseholds:!0}:I)),console.log("📢 DEMANDE PEPS ENVOYÉE AUX MÉNAGES:"),console.log(`Produit: ${d.productName}`),console.log(`Quantité demandée: ${d.shortage}`),console.log(`Stock actuel: ${d.currentStock}`),console.log(`Seuil critique: ${d.criticalThreshold}`),console.log("Envoyé à: 127 ménages"),console.log(`Message: "URGENT - Stock critique détecté par le système PEPS. L'association a besoin de ${d.shortage} ${d.productName}. Vos dons sont essentiels !"`),d(`Demande PEPS envoyée à 127 ménages pour: ${d.shortage} ${d.productName}`)},Q=d=>d.isExpired?"text-red-600 bg-red-100 border-red-300":d.isExpiringSoon?"text-orange-600 bg-orange-100 border-orange-300":d.daysUntilExpiration&&d.daysUntilExpiration<=14?"text-yellow-600 bg-yellow-100 border-yellow-300":"text-green-600 bg-green-100 border-green-300",m=d=>d===1?"text-red-600 bg-red-100 border-red-300":d===2?"text-orange-600 bg-orange-100 border-orange-300":"text-blue-600 bg-blue-100 border-blue-300",u=[...e.filter(d=>{const b=a==="all"||d.category===a,C=c===""||d.productName.toLowerCase().includes(c.toLowerCase())||d.supplier.toLowerCase().includes(c.toLowerCase())||d.location.toLowerCase().includes(c.toLowerCase()),I=!v||r.some(G=>G.productName===d.productName);return b&&C&&I})].sort((d,b)=>{switch(y){case"fifo":return d.productName!==b.productName?d.productName.localeCompare(b.productName):d.fifoPosition-b.fifoPosition;case"expiration":return!d.expirationDate&&!b.expirationDate?0:d.expirationDate?b.expirationDate?d.expirationDate.getTime()-b.expirationDate.getTime():-1:1;case"quantity":return d.quantity-b.quantity;default:return 0}}),h=e.reduce((d,b)=>d+b.quantity,0),j=e.filter(d=>d.isExpiringSoon).length,f=e.filter(d=>d.isExpired).length;return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white p-4 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(le,{className:"mr-3",size:28}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold",children:"Gestion Intelligente des Stocks - Méthode PEPS"}),t.jsx("p",{className:"text-purple-100 text-sm",children:"Premier Entré, Premier Sorti • Alertes critiques • Demandes automatiques"})]})]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"text-right text-sm",children:[t.jsxs("div",{className:"font-medium",children:[h," articles en stock"]}),t.jsxs("div",{className:"text-purple-200",children:[r.length," stocks critiques"]})]})})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 p-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-purple-800 mb-4 flex items-center",children:[t.jsx(Hn,{className:"mr-2",size:24}),"Articles Référencés (PEPS)"]}),t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(dt,{className:"text-gray-400",size:16}),t.jsx("input",{type:"text",placeholder:"Rechercher un article...",value:c,onChange:d=>p(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Qr,{className:"text-gray-400",size:16}),t.jsx("select",{value:a,onChange:d=>o(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:_.map(d=>t.jsx("option",{value:d.id,children:d.name},d.id))})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Um,{className:"text-gray-400",size:16}),t.jsxs("select",{value:y,onChange:d=>P(d.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[t.jsx("option",{value:"fifo",children:"Tri PEPS (Premier Entré, Premier Sorti)"}),t.jsx("option",{value:"expiration",children:"Tri par expiration"}),t.jsx("option",{value:"quantity",children:"Tri par quantité"})]})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:v,onChange:d=>N(d.target.checked),className:"mr-2 text-red-600"}),t.jsx("span",{className:"text-sm",children:"Afficher uniquement les stocks critiques"})]})]}),t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6",children:[t.jsxs("h3",{className:"font-semibold text-purple-800 mb-3 flex items-center",children:[t.jsx(lt,{className:"mr-2",size:16}),"Méthode PEPS - Priorités de sortie"]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded mr-2"}),t.jsx("span",{className:"text-red-700",children:"Position 1 - À sortir en PRIORITÉ"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"w-4 h-4 bg-orange-100 border border-orange-300 rounded mr-2"}),t.jsx("span",{className:"text-orange-700",children:"Position 2 - Deuxième priorité"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"w-4 h-4 bg-blue-100 border border-blue-300 rounded mr-2"}),t.jsx("span",{className:"text-blue-700",children:"Position 3+ - Réserve"})]})]})]}),t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:u.map((d,b)=>{const C=b===0||u[b-1].productName!==d.productName;return t.jsxs("div",{children:[C&&y==="fifo"&&t.jsx("div",{className:"text-sm font-semibold text-purple-700 mb-2 border-b border-purple-200 pb-1",children:d.productName}),t.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${r.some(I=>I.productName===d.productName)?"border-red-300 bg-red-50":"border-gray-200 bg-gray-50"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex-1",children:[y!=="fifo"&&t.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:d.productName}),t.jsx("p",{className:"text-sm text-gray-600",children:d.location}),t.jsxs("p",{className:"text-xs text-gray-500",children:["Lot: ",d.batchNumber]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:`text-lg font-bold ${r.some(I=>I.productName===d.productName)?"text-red-600":"text-green-600"}`,children:d.quantity}),t.jsx("div",{className:"text-xs text-gray-500",children:"unités"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[t.jsx("div",{className:`px-2 py-1 rounded text-xs border ${m(d.fifoPosition)}`,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(lt,{className:"mr-1",size:10}),t.jsxs("span",{className:"font-medium",children:["PEPS #",d.fifoPosition]})]})}),d.expirationDate&&t.jsx("div",{className:`px-2 py-1 rounded text-xs border ${Q(d)}`,children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Qs,{className:"mr-1",size:10}),t.jsx("span",{className:"font-medium",children:d.isExpired?"EXPIRÉ":d.daysUntilExpiration!==void 0?`${d.daysUntilExpiration}j`:"N/A"})]})})]}),t.jsx("div",{className:"bg-white border border-gray-200 rounded p-2 mb-2",children:t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(We,{className:"mr-1 text-blue-500",size:12}),t.jsxs("span",{className:"text-blue-600",children:["Entré le ",d.entryDate.toLocaleDateString("fr-FR")]})]}),d.expirationDate&&t.jsxs("div",{className:"text-gray-600",children:["Expire le ",d.expirationDate.toLocaleDateString("fr-FR")]})]})}),t.jsx("div",{className:"text-xs text-gray-600",children:t.jsxs("div",{children:["Fournisseur: ",d.supplier]})}),d.fifoPosition===1&&t.jsxs("div",{className:"mt-2 flex items-center text-red-600 text-xs",children:[t.jsx(qs,{className:"mr-1",size:12}),t.jsx("span",{className:"font-medium",children:"PRIORITÉ PEPS - À distribuer en premier"})]}),d.isExpiringSoon&&t.jsxs("div",{className:"mt-2 flex items-center text-orange-600 text-xs",children:[t.jsx(He,{className:"mr-1",size:12}),t.jsx("span",{className:"font-medium",children:"Expire bientôt - Distribution urgente"})]}),d.isExpired&&t.jsxs("div",{className:"mt-2 flex items-center text-red-600 text-xs",children:[t.jsx(He,{className:"mr-1",size:12}),t.jsx("span",{className:"font-medium",children:"EXPIRÉ - Retirer du stock"})]})]})]},d.id)})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-orange-800 mb-4 flex items-center",children:[t.jsx(fr,{className:"mr-2",size:24}),"État des Stocks"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Total articles"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:h}),t.jsxs("p",{className:"text-sm text-green-600",children:[e.length," lots PEPS"]})]}),t.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Stocks critiques"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.length}),t.jsx("p",{className:"text-sm text-red-600",children:"Seuil: ≤6 articles"})]}),t.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"Expire bientôt"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:j}),t.jsx("p",{className:"text-sm text-orange-600",children:"≤7 jours"})]}),t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Expirés"}),t.jsx("p",{className:"text-2xl font-bold text-gray-600",children:f}),t.jsx("p",{className:"text-sm text-gray-600",children:"À retirer"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Répartition par catégorie (PEPS)"}),t.jsx("div",{className:"space-y-2",children:_.filter(d=>d.id!=="all").map(d=>{const b=e.filter(S=>S.category===d.id),C=b.reduce((S,M)=>S+M.quantity,0),I=b.filter(S=>S.fifoPosition===1).length,G=r.filter(S=>S.category===d.id).length;return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-800",children:d.name}),t.jsxs("div",{className:"text-sm text-gray-600",children:[b.length," lots • ",I," prioritaires"]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-bold text-gray-800",children:C}),G>0&&t.jsxs("div",{className:"text-xs text-red-600",children:[G," critique",G>1?"s":""]})]})]},d.id)})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Alertes d'expiration (Ordre PEPS)"}),t.jsx("div",{className:"space-y-2",children:e.filter(d=>d.expirationDate&&d.fifoPosition<=2).sort((d,b)=>{if(d.fifoPosition!==b.fifoPosition)return d.fifoPosition-b.fifoPosition;const C=d.daysUntilExpiration||999,I=b.daysUntilExpiration||999;return C-I}).slice(0,5).map(d=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-yellow-50 rounded",children:[t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium",children:d.productName}),t.jsxs("div",{className:"text-xs text-gray-600",children:["PEPS #",d.fifoPosition," • ",d.quantity," unités"]})]}),t.jsx("div",{className:`text-sm ${Q(d).split(" ")[0]}`,children:d.isExpired?"EXPIRÉ":d.daysUntilExpiration!==void 0?`${d.daysUntilExpiration}j`:"N/A"})]},d.id))})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-red-800 mb-4 flex items-center",children:[t.jsx(He,{className:"mr-2",size:24}),"Alertes Actives (PEPS)"]}),t.jsxs("div",{className:"space-y-4",children:[r.map(d=>{const b=i.find(C=>C.productName===d.productName&&C.status==="sent");return t.jsxs("div",{className:"border-2 border-red-300 bg-red-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-red-800",children:d.productName}),t.jsxs("p",{className:"text-sm text-red-600",children:["Stock: ",d.currentStock," / Seuil: ",d.criticalThreshold]}),t.jsxs("p",{className:"text-xs text-gray-600",children:["Catégorie: ",d.category]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-lg font-bold text-red-600",children:["-",d.shortage]}),t.jsx("div",{className:"text-xs text-red-600",children:"manquant"})]})]}),t.jsxs("div",{className:"bg-white border border-red-200 rounded p-3 mb-3",children:[t.jsx("h5",{className:"font-medium text-red-800 mb-2 text-sm",children:"Analyse PEPS:"}),e.filter(C=>C.productName===d.productName).sort((C,I)=>C.fifoPosition-I.fifoPosition).map(C=>t.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(lt,{className:"mr-1 text-red-500",size:10}),t.jsxs("span",{children:["Lot ",C.batchNumber," (PEPS #",C.fifoPosition,")"]})]}),t.jsxs("div",{className:"font-bold text-red-600",children:[C.quantity," unités"]})]},C.id))]}),b?t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center text-blue-700",children:[t.jsx(Ea,{className:"mr-1",size:14}),t.jsx("span",{className:"font-medium text-sm",children:"Demande PEPS envoyée"})]}),t.jsxs("div",{className:"text-xs text-blue-600",children:[b.requestedAt.toLocaleDateString("fr-FR")," à ",b.requestedAt.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-bold text-blue-600",children:b.householdCount}),t.jsx("div",{className:"text-blue-600",children:"ménages contactés"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-bold text-green-600",children:b.responseCount}),t.jsx("div",{className:"text-green-600",children:"réponses positives"})]})]}),t.jsxs("div",{className:"mt-2 text-xs text-blue-700",children:["Quantité demandée: ",b.quantity," unités"]})]}):t.jsxs("button",{onClick:()=>A(d),className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:[t.jsx(Pe,{className:"mr-2",size:16}),"Demande PEPS aux ménages (",d.shortage," unités)"]})]},d.id)}),r.length===0&&t.jsxs("div",{className:"text-center py-8 bg-green-50 rounded-lg",children:[t.jsx(ne,{className:"mx-auto text-green-500 mb-3",size:48}),t.jsx("p",{className:"text-green-700 font-medium",children:"Aucune alerte critique"}),t.jsx("p",{className:"text-green-600 text-sm",children:"Tous les stocks respectent la méthode PEPS"})]})]}),t.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[t.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[t.jsx($r,{className:"mr-2",size:18}),"Demandes PEPS aux ménages (",i.length,")"]}),t.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:i.map(d=>t.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("div",{className:"font-medium text-blue-800 text-sm",children:d.productName}),t.jsx("div",{className:"text-xs text-blue-600",children:d.requestedAt.toLocaleDateString("fr-FR")})]}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsxs("div",{className:"text-blue-700",children:["PEPS: ",d.quantity," • ",d.householdCount," ménages"]}),t.jsxs("div",{className:"text-green-600 font-medium",children:[d.responseCount," réponses"]})]})]},d.id))})]})]})]})]})},ux=()=>{const[e,s]=T.useState(!1),[r,n]=T.useState("entry"),[i,l]=T.useState(!1),[a,o]=T.useState(null),[c]=T.useState("Marie Dubois"),[p,v]=T.useState("Entrepôt A - Étagère 1"),[N,y]=T.useState(1),[P,_]=T.useState(null),[A,Q]=T.useState([]),[m,x]=T.useState([{id:"fifo_001",productName:"Lait demi-écrémé 1L",quantity:8,entryDate:new Date("2024-01-10T08:00:00"),expirationDate:new Date("2024-01-25T23:59:59"),batchNumber:"LOT-2024-001",location:"Réfrigérateur A - Étagère 2",fifoPosition:1,remainingQuantity:8},{id:"fifo_002",productName:"Lait demi-écrémé 1L",quantity:6,entryDate:new Date("2024-01-14T14:30:00"),expirationDate:new Date("2024-01-28T23:59:59"),batchNumber:"LOT-2024-007",location:"Réfrigérateur A - Étagère 2",fifoPosition:2,remainingQuantity:6},{id:"fifo_003",productName:"Riz basmati 1kg",quantity:12,entryDate:new Date("2024-01-12T14:30:00"),batchNumber:"LOT-2024-002",location:"Entrepôt A - Étagère 3",fifoPosition:1,remainingQuantity:12}]),[u,h]=T.useState([{id:"mov_001",type:"entry",productName:"Lait demi-écrémé 1L",quantity:6,operatorName:"Marie Dubois",timestamp:new Date("2024-01-17T09:30:00"),location:"Réfrigérateur A - Étagère 2",batchNumber:"LOT-2024-007",donationId:"donation_demo_001",receiptGenerated:!0,fifoPosition:2},{id:"mov_002",type:"exit",productName:"Riz basmati 1kg",quantity:2,operatorName:"Pierre Martin",timestamp:new Date("2024-01-17T14:15:00"),location:"Entrepôt A - Étagère 3",beneficiaryName:"Ahmed Hassan",qrCode:"QR-2024-002-001",fifoUsed:!0},{id:"mov_003",type:"entry",productName:"Conserve tomates 400g",quantity:8,operatorName:"Sophie Laurent",timestamp:new Date("2024-01-17T16:45:00"),location:"Entrepôt B - Zone Conserves",batchNumber:"LOT-2024-008",donationId:"donation_demo_002",receiptGenerated:!0,fifoPosition:1}]),j=["Entrepôt A - Étagère 1","Entrepôt A - Étagère 2","Entrepôt A - Étagère 3","Entrepôt B - Zone Conserves","Réfrigérateur A - Étagère 1","Réfrigérateur A - Étagère 2","Réfrigérateur B - Étagère 1","Zone Surgelés","Réserve Produits Frais"],f=()=>{e?(s(!1),l(!1)):(s(!0),setTimeout(()=>{d()},500))},d=()=>{if(!e)return;l(!0);const z=Math.random()*2e3+1e3;setTimeout(()=>{const q=U.getAllProductsWithPrices(),L=q[Math.floor(Math.random()*q.length)];if(L&&(o(L),r==="exit")){const D=m.filter(E=>E.productName===L.name&&E.remainingQuantity>0).sort((E,g)=>E.fifoPosition-g.fifoPosition);D.length>0&&Q(D)}l(!1),s(!1)},z)},b=()=>{a&&(r==="entry"?C():I())},C=()=>{if(!a)return;const q=m.filter(g=>g.productName===a.name).length+1,L={id:`fifo_${Date.now()}`,productName:a.name,quantity:N,entryDate:new Date,batchNumber:`LOT-${Date.now()}`,location:p,fifoPosition:q,remainingQuantity:N};x(g=>[...g,L]);const D={id:`mov_${Date.now()}`,type:"entry",productName:a.name,quantity:N,operatorName:c,timestamp:new Date,location:p,batchNumber:L.batchNumber,fifoPosition:q},E={id:`donation_${Date.now()}`,householdId:"household_demo",householdName:"Don Anonyme",associationId:"assoc_001",associationName:"Restos du Cœur Marseille",items:[{id:`item_${Date.now()}`,productId:a.id,quantity:N,unitPrice:2.5,totalValue:2.5*N}],totalValue:2.5*N,taxDeduction:2.5*N*.66,status:"receipt_available",createdAt:new Date,receivedAt:new Date,validatedAt:new Date,receiptGeneratedAt:new Date,receiptNumber:`REC-${Date.now()}`,storeName:"Don Direct Association",storeAddress:"Dépôt Association"};D.donationId=E.id,D.receiptGenerated=!0,_(E),h(g=>[D,...g]),o(null),y(1),setTimeout(()=>{_(null)},3e3)},I=()=>{if(!a||A.length===0)return;const z=A[0];let q=Math.min(N,z.remainingQuantity);x(D=>D.map(E=>E.id===z.id?{...E,remainingQuantity:E.remainingQuantity-q}:E));const L={id:`mov_${Date.now()}`,type:"exit",productName:a.name,quantity:q,operatorName:c,timestamp:new Date,location:z.location,beneficiaryName:"Bénéficiaire Simulé",qrCode:`QR-${Date.now()}`,fifoUsed:!0};if(h(D=>[L,...D]),o(null),y(1),Q([]),N>q){const D=N-q;console.log(`Quantité restante à traiter: ${D}`)}},G=z=>{if(!z)return null;const q=new Date,L=z.getTime()-q.getTime();return Math.ceil(L/(1e3*60*60*24))},S=z=>z===null?"text-gray-500":z<=3?"text-red-600 font-bold":z<=7?"text-orange-600 font-medium":z<=14?"text-yellow-600":"text-green-600",M=()=>{var z,q;return A.length===0?null:t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl mx-4 shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[t.jsx(lt,{className:"mr-2 text-emerald-600",size:24}),"Sélection PEPS - ",a==null?void 0:a.name]}),t.jsx("button",{onClick:()=>Q([]),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Nt,{size:24})})]}),t.jsxs("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 mb-6",children:[t.jsx("h4",{className:"font-semibold text-emerald-800 mb-2",children:"Méthode PEPS (Premier Entré, Premier Sorti)"}),t.jsx("p",{className:"text-emerald-700 text-sm",children:"Les lots sont automatiquement triés par ordre d'entrée. Le système sélectionnera automatiquement le lot le plus ancien pour respecter la méthode PEPS."})]}),t.jsx("div",{className:"space-y-3 mb-6",children:A.map((L,D)=>{const E=G(L.expirationDate),g=D===0;return t.jsxs("div",{className:`p-4 rounded-lg border-2 ${g?"border-emerald-500 bg-emerald-50":"border-gray-200 bg-gray-50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold mr-3 ${g?"bg-emerald-600":"bg-gray-400"}`,children:L.fifoPosition}),t.jsxs("div",{children:[t.jsxs("h5",{className:"font-semibold text-gray-900",children:["Lot ",L.batchNumber]}),t.jsx("p",{className:"text-sm text-gray-600",children:L.location})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"font-bold text-emerald-600",children:[L.remainingQuantity," disponibles"]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["sur ",L.quantity," initiaux"]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Entré le:"}),t.jsx("div",{className:"font-medium",children:L.entryDate.toLocaleDateString("fr-FR")})]}),L.expirationDate&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Expiration:"}),t.jsx("div",{className:`font-medium ${S(E)}`,children:E!==null&&E<=0?"EXPIRÉ":E!==null?`${E} jour${E>1?"s":""}`:"N/A"})]})]}),g&&t.jsxs("div",{className:"mt-3 p-2 bg-emerald-100 border border-emerald-300 rounded flex items-center",children:[t.jsx(qs,{className:"text-emerald-600 mr-2",size:16}),t.jsx("span",{className:"text-emerald-700 font-medium text-sm",children:"Lot sélectionné automatiquement (PEPS)"})]})]},L.id)})}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Quantité à prélever"}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{children:["Demandé: ",t.jsx("strong",{children:N})]}),t.jsx(Al,{className:"text-gray-400",size:16}),t.jsxs("span",{children:["Disponible dans le lot #1: ",t.jsx("strong",{children:(z=A[0])==null?void 0:z.remainingQuantity})]}),t.jsx(Al,{className:"text-gray-400",size:16}),t.jsxs("span",{className:"text-emerald-600 font-bold",children:["Prélevé: ",Math.min(N,((q=A[0])==null?void 0:q.remainingQuantity)||0)]})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("button",{onClick:I,className:"flex-1 bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 transition-colors font-medium flex items-center justify-center",children:[t.jsx(lt,{className:"mr-2",size:20}),"Confirmer Sortie PEPS"]}),t.jsx("button",{onClick:()=>Q([]),className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuler"})]})]})})},w=()=>P?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white rounded-xl p-6 max-w-md mx-4 shadow-2xl",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Rl,{className:"text-green-600",size:32})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Reçu Fiscal Généré !"}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(Ce,{className:"text-green-600 mr-2",size:16}),t.jsxs("span",{className:"font-medium text-green-800",children:["N° ",P.receiptNumber]})]}),t.jsxs("p",{className:"text-sm text-green-700",children:["Valeur: ",P.totalValue.toFixed(2),"€"]}),t.jsxs("p",{className:"text-sm text-green-700",children:["Déduction: ",P.taxDeduction.toFixed(2),"€"]})]}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[t.jsx(ne,{className:"mr-2",size:14}),t.jsx("span",{children:"Produit ajouté au stock PEPS"})]}),t.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[t.jsx(Pe,{className:"mr-2",size:14}),t.jsx("span",{children:"Reçu fiscal généré automatiquement"})]}),t.jsxs("div",{className:"flex items-center text-blue-600 text-sm",children:[t.jsx(lt,{className:"mr-2",size:14}),t.jsx("span",{children:"Position PEPS attribuée"})]})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Opérateur:"})," ",c]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Emplacement:"})," ",p]})]})]})})}):null;return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white p-4 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(_a,{className:"mr-3",size:28}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold",children:"Gestion du Stock - Méthode PEPS"}),t.jsx("p",{className:"text-emerald-100 text-sm",children:"Scanner entrées/sorties • PEPS automatique • Reçus fiscaux"})]})]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"text-right text-sm",children:[t.jsxs("div",{className:"font-medium",children:["Opérateur: ",c]}),t.jsxs("div",{className:"text-emerald-200",children:[u.length," mouvements PEPS"]})]})})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6",children:[t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-emerald-800 mb-4 flex items-center",children:[t.jsx(rs,{className:"mr-2",size:24}),"Scanner de Stock PEPS"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-medium text-gray-700 mb-3",children:"Mode de scan"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>n("entry"),className:`p-4 rounded-lg border-2 transition-all ${r==="entry"?"border-green-500 bg-green-50 text-green-800":"border-gray-200 bg-white text-gray-700 hover:border-green-300"}`,children:[t.jsx(jt,{className:"mx-auto mb-2",size:24}),t.jsx("div",{className:"font-medium",children:"Entrée Stock"}),t.jsx("div",{className:"text-sm opacity-75",children:"Dons reçus + Position PEPS"})]}),t.jsxs("button",{onClick:()=>n("exit"),className:`p-4 rounded-lg border-2 transition-all ${r==="exit"?"border-red-500 bg-red-50 text-red-800":"border-gray-200 bg-white text-gray-700 hover:border-red-300"}`,children:[t.jsx(yr,{className:"mx-auto mb-2",size:24}),t.jsx("div",{className:"font-medium",children:"Sortie Stock"}),t.jsx("div",{className:"text-sm opacity-75",children:"Distribution PEPS"})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 border-2 border-dashed border-emerald-300 rounded-lg p-6 text-center mb-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx(rs,{className:"mx-auto text-emerald-500 mb-3",size:48}),(e||i)&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"w-16 h-16 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"})})]}),t.jsx("p",{className:"text-emerald-700 font-medium mb-3 text-sm",children:i?"Scan en cours... Reconnaissance IA":e?"Scanner actif - Pointez vers le code-barres":`Scanner ${r==="entry"?"entrée":"sortie"} PEPS`}),a&&!i&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-3",children:[t.jsxs("div",{className:"flex items-center justify-center mb-2",children:[t.jsx(ne,{className:"text-green-500 mr-2",size:16}),t.jsx("span",{className:"font-medium text-green-800 text-sm",children:"Produit scanné !"})]}),t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("span",{className:"text-2xl mr-2",children:a.image}),t.jsxs("div",{className:"text-sm",children:[t.jsx("div",{className:"font-medium",children:a.name}),t.jsx("div",{className:"text-gray-600",children:a.brand})]})]})]}),t.jsxs("button",{onClick:f,disabled:i,className:`px-4 py-2 rounded-lg font-medium transition-colors text-sm ${i?"bg-gray-400 text-gray-600 cursor-not-allowed":e?"bg-red-500 text-white hover:bg-red-600":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:[t.jsx(rs,{className:"inline mr-2",size:16}),i?"Scan en cours...":e?"Arrêter Scanner":"Activer Scanner"]})]}),a&&A.length===0&&t.jsxs("div",{className:"bg-white border-2 border-emerald-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-medium text-emerald-800 mb-3",children:"Confirmer le mouvement PEPS"}),t.jsxs("div",{className:"space-y-4",children:[r==="entry"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emplacement"}),t.jsx("select",{value:p,onChange:z=>v(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:j.map(z=>t.jsx("option",{value:z,children:z},z))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>y(Math.max(1,N-1)),className:"w-8 h-8 flex items-center justify-center bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300",children:t.jsx(cs,{size:14})}),t.jsx("span",{className:"w-12 text-center font-bold",children:N}),t.jsx("button",{onClick:()=>y(N+1),className:"w-8 h-8 flex items-center justify-center bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300",children:t.jsx(vt,{size:14})})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:b,className:`flex-1 py-2 rounded-lg font-medium transition-colors ${r==="entry"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:r==="entry"?t.jsxs(t.Fragment,{children:[t.jsx(jt,{className:"inline mr-2",size:16}),"Confirmer Entrée PEPS"]}):t.jsxs(t.Fragment,{children:[t.jsx(yr,{className:"inline mr-2",size:16}),"Confirmer Sortie PEPS"]})}),t.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:t.jsx(Nt,{size:16})})]})]}),r==="entry"&&t.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center text-green-700 text-sm",children:[t.jsx(lt,{className:"mr-2",size:14}),t.jsx("span",{className:"font-medium",children:"Position PEPS attribuée automatiquement"})]}),t.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Le système calcule automatiquement la position dans la file PEPS"})]}),r==="exit"&&t.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center text-red-700 text-sm",children:[t.jsx(lt,{className:"mr-2",size:14}),t.jsx("span",{className:"font-medium",children:"Sortie selon méthode PEPS"})]}),t.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Le lot le plus ancien sera automatiquement sélectionné"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[t.jsx(Hn,{className:"mr-2",size:24}),"Mouvements de Stock PEPS"]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Entrées PEPS"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:u.filter(z=>z.type==="entry").length}),t.jsx("p",{className:"text-sm text-green-600",children:"Aujourd'hui"})]}),t.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Sorties PEPS"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:u.filter(z=>z.type==="exit").length}),t.jsx("p",{className:"text-sm text-red-600",children:"Aujourd'hui"})]})]}),t.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:u.map(z=>t.jsxs("div",{className:`p-4 rounded-lg border-2 ${z.type==="entry"?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center",children:[z.type==="entry"?t.jsx(jt,{className:"text-green-600 mr-2",size:20}):t.jsx(yr,{className:"text-red-600 mr-2",size:20}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:z.productName}),t.jsx("p",{className:"text-sm text-gray-600",children:z.location})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:`text-lg font-bold ${z.type==="entry"?"text-green-600":"text-red-600"}`,children:[z.type==="entry"?"+":"-",z.quantity]}),t.jsx("div",{className:"text-xs text-gray-500",children:z.timestamp.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]})]}),t.jsx("div",{className:"bg-white border border-gray-200 rounded p-2 mb-2",children:t.jsx("div",{className:"flex items-center justify-between text-xs",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(lt,{className:"mr-1 text-blue-500",size:12}),t.jsx("span",{className:"text-blue-600",children:z.type==="entry"?`Position PEPS: #${z.fifoPosition}`:z.fifoUsed?"Sortie PEPS respectée":"Sortie manuelle"})]})})}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center text-gray-600",children:[t.jsx(Ct,{className:"mr-1",size:12}),t.jsx("span",{children:z.operatorName})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[z.batchNumber&&t.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 rounded text-xs",children:z.batchNumber}),z.receiptGenerated&&t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-600 rounded text-xs flex items-center",children:[t.jsx(Rl,{className:"mr-1",size:10}),"Reçu généré"]}),z.qrCode&&t.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-600 rounded text-xs",children:z.qrCode}),z.fifoUsed&&t.jsxs("span",{className:"px-2 py-1 bg-emerald-100 text-emerald-600 rounded text-xs flex items-center",children:[t.jsx(lt,{className:"mr-1",size:10}),"PEPS"]})]})]}),z.beneficiaryName&&t.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[t.jsx("strong",{children:"Bénéficiaire:"})," ",z.beneficiaryName]})]},z.id))})]})]}),M(),w()]})},mx=()=>{const[e,s]=T.useState([{id:"dist_001",qrCode:"QR-2024-001-001",beneficiaryId:"ben_001",beneficiaryName:"Marie Dubois",beneficiaryPhone:"06 12 34 56 78",beneficiaryAddress:"123 Rue de la Paix, 13001 Marseille",distributionDate:new Date("2024-01-17T14:30:00"),operatorName:"Sophie Laurent",operatorId:"op_001",items:[{productName:"Lait demi-écrémé 1L",quantity:4,location:"Réfrigérateur A"},{productName:"Riz basmati 1kg",quantity:2,location:"Entrepôt A"},{productName:"Conserve tomates",quantity:3,location:"Entrepôt B"}],totalItems:9,gpsCoordinates:{lat:43.2965,lng:5.3698},verificationStatus:"verified",notes:"Distribution normale, bénéficiaire satisfait"},{id:"dist_002",qrCode:"QR-2024-002-001",beneficiaryId:"ben_002",beneficiaryName:"Ahmed Hassan",beneficiaryPhone:"06 98 76 54 32",beneficiaryAddress:"456 Avenue des Fleurs, 13003 Marseille",distributionDate:new Date("2024-01-17T15:45:00"),operatorName:"Pierre Martin",operatorId:"op_002",items:[{productName:"Pâtes spaghetti",quantity:5,location:"Entrepôt A"},{productName:"Yaourts nature x8",quantity:2,location:"Réfrigérateur B"}],totalItems:7,gpsCoordinates:{lat:43.3047,lng:5.3925},verificationStatus:"verified"},{id:"dist_003",qrCode:"QR-2024-003-001",beneficiaryId:"ben_003",beneficiaryName:"Sophie Martin",beneficiaryPhone:"06 55 44 33 22",beneficiaryAddress:"789 Boulevard du Soleil, 13008 Marseille",distributionDate:new Date("2024-01-17T16:20:00"),operatorName:"Marie Dubois",operatorId:"op_003",items:[{productName:"Pain de mie complet",quantity:2,location:"Réserve"},{productName:"Huile d'olive",quantity:1,location:"Entrepôt A"}],totalItems:3,gpsCoordinates:{lat:43.2733,lng:5.3927},verificationStatus:"pending",notes:"Vérification GPS en cours"},{id:"dist_004",qrCode:"QR-2024-001-002",beneficiaryId:"ben_001",beneficiaryName:"Marie Dubois",beneficiaryPhone:"06 12 34 56 78",beneficiaryAddress:"123 Rue de la Paix, 13001 Marseille",distributionDate:new Date("2024-01-16T10:15:00"),operatorName:"Sophie Laurent",operatorId:"op_001",items:[{productName:"Lait demi-écrémé 1L",quantity:2,location:"Réfrigérateur A"},{productName:"Céréales",quantity:1,location:"Entrepôt A"}],totalItems:3,gpsCoordinates:{lat:43.2965,lng:5.3698},verificationStatus:"verified"}]),[r,n]=T.useState("all"),[i,l]=T.useState("all"),[a,o]=T.useState("all"),[c,p]=T.useState(""),[v,N]=T.useState(null),[y,P]=T.useState("all"),_=Array.from(new Set(e.map(j=>j.beneficiaryName))).map(j=>{const f=e.find(d=>d.beneficiaryName===j);return{id:(f==null?void 0:f.beneficiaryId)||"",name:j}}),A=Array.from(new Set(e.map(j=>j.operatorName))).map(j=>{const f=e.find(d=>d.operatorName===j);return{id:(f==null?void 0:f.operatorId)||"",name:j}}),Q=e.filter(j=>{const f=r==="all"||j.beneficiaryId===r,d=i==="all"||j.operatorId===i,b=a==="all"||j.verificationStatus===a,C=c===""||j.beneficiaryName.toLowerCase().includes(c.toLowerCase())||j.qrCode.toLowerCase().includes(c.toLowerCase())||j.items.some(G=>G.productName.toLowerCase().includes(c.toLowerCase()));let I=!0;if(y!=="all"){const G=new Date,S=j.distributionDate;switch(y){case"today":I=S.toDateString()===G.toDateString();break;case"week":const M=new Date(G.getTime()-7*24*60*60*1e3);I=S>=M;break;case"month":const w=new Date(G.getTime()-30*24*60*60*1e3);I=S>=w;break}}return f&&d&&b&&C&&I}),m=j=>{switch(j){case"verified":return"bg-green-100 text-green-800 border-green-300";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"failed":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},x=j=>{switch(j){case"verified":return"Vérifié";case"pending":return"En cours";case"failed":return"Échec";default:return"Inconnu"}},u=j=>{switch(j){case"verified":return t.jsx(ne,{size:14});case"pending":return t.jsx(We,{size:14});case"failed":return t.jsx(He,{size:14});default:return t.jsx(Ce,{size:14})}},h=()=>{const j=["Date,QR Code,Bénéficiaire,Téléphone,Opérateur,Articles,Statut,Notes",...Q.map(C=>[C.distributionDate.toLocaleDateString("fr-FR"),C.qrCode,C.beneficiaryName,C.beneficiaryPhone,C.operatorName,C.totalItems,x(C.verificationStatus),C.notes||""].join(","))].join(`
`),f=new Blob([j],{type:"text/csv"}),d=URL.createObjectURL(f),b=document.createElement("a");b.href=d,b.download=`distributions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(d)};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ve,{className:"mr-3",size:28}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold",children:"Distribution QR Géolocalisée"}),t.jsx("p",{className:"text-blue-100 text-sm",children:"Traçabilité complète • Historique détaillé • Vérification GPS"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:[t.jsx($s,{className:"mr-2",size:16}),"Exporter CSV"]}),t.jsxs("div",{className:"text-right text-sm",children:[t.jsxs("div",{className:"font-medium",children:[e.length," distributions"]}),t.jsxs("div",{className:"text-blue-200",children:[e.filter(j=>j.verificationStatus==="verified").length," vérifiées"]})]})]})]})}),t.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Total distributions"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600",children:e.length})]}),t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Vérifiées GPS"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.filter(j=>j.verificationStatus==="verified").length})]}),t.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"En cours"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.filter(j=>j.verificationStatus==="pending").length})]}),t.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"Articles distribués"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.reduce((j,f)=>j+f.totalItems,0)})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(dt,{className:"text-gray-400",size:16}),t.jsx("input",{type:"text",placeholder:"Rechercher...",value:c,onChange:j=>p(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ct,{className:"text-gray-400",size:16}),t.jsxs("select",{value:r,onChange:j=>n(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"Tous les bénéficiaires"}),_.map(j=>t.jsx("option",{value:j.id,children:j.name},j.id))]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Bt,{className:"text-gray-400",size:16}),t.jsxs("select",{value:i,onChange:j=>l(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"Tous les opérateurs"}),A.map(j=>t.jsx("option",{value:j.id,children:j.name},j.id))]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Qr,{className:"text-gray-400",size:16}),t.jsxs("select",{value:a,onChange:j=>o(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"Tous les statuts"}),t.jsx("option",{value:"verified",children:"Vérifiées"}),t.jsx("option",{value:"pending",children:"En cours"}),t.jsx("option",{value:"failed",children:"Échecs"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Qs,{className:"text-gray-400",size:16}),t.jsxs("select",{value:y,onChange:j=>P(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"Toutes les dates"}),t.jsx("option",{value:"today",children:"Aujourd'hui"}),t.jsx("option",{value:"week",children:"Cette semaine"}),t.jsx("option",{value:"month",children:"Ce mois"})]})]})]})]}),t.jsx("div",{className:"p-4",children:Q.length===0?t.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[t.jsx(ve,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-600 font-medium",children:"Aucune distribution trouvée"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Modifiez vos filtres de recherche"})]}):t.jsx("div",{className:"space-y-4",children:Q.map(j=>t.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden hover:border-blue-300 transition-colors",children:t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ve,{className:"mr-3 text-blue-600",size:24}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:j.qrCode}),t.jsxs("p",{className:"text-sm text-gray-600",children:[j.distributionDate.toLocaleDateString("fr-FR")," à ",j.distributionDate.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center ${m(j.verificationStatus)}`,children:[u(j.verificationStatus),t.jsx("span",{className:"ml-1",children:x(j.verificationStatus)})]}),t.jsx("button",{onClick:()=>N(j),className:"text-blue-600 hover:text-blue-800 transition-colors",children:t.jsx(Ht,{size:20})})]})]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[t.jsxs("h4",{className:"font-medium text-blue-800 mb-2 flex items-center",children:[t.jsx(Ct,{className:"mr-1",size:16}),"Bénéficiaire"]}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsx("div",{className:"font-medium text-blue-900",children:j.beneficiaryName}),t.jsxs("div",{className:"flex items-center text-blue-700",children:[t.jsx(du,{className:"mr-1",size:12}),t.jsx("span",{children:j.beneficiaryPhone})]}),t.jsxs("div",{className:"flex items-start text-blue-700",children:[t.jsx(Us,{className:"mr-1 mt-0.5",size:12}),t.jsx("span",{className:"text-xs",children:j.beneficiaryAddress})]})]})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[t.jsxs("h4",{className:"font-medium text-green-800 mb-2 flex items-center",children:[t.jsx(le,{className:"mr-1",size:16}),"Colis (",j.totalItems," articles)"]}),t.jsxs("div",{className:"space-y-1 text-sm",children:[j.items.slice(0,3).map((f,d)=>t.jsxs("div",{className:"flex items-center justify-between text-green-700",children:[t.jsx("span",{className:"truncate",children:f.productName}),t.jsxs("span",{className:"font-medium",children:["x",f.quantity]})]},d)),j.items.length>3&&t.jsxs("div",{className:"text-xs text-green-600 italic",children:["+",j.items.length-3," autres articles"]})]})]}),t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[t.jsxs("h4",{className:"font-medium text-purple-800 mb-2 flex items-center",children:[t.jsx(Fr,{className:"mr-1",size:16}),"Distribution"]}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{className:"flex items-center text-purple-700",children:[t.jsx(Bt,{className:"mr-1",size:12}),t.jsx("span",{className:"font-medium",children:j.operatorName})]}),t.jsxs("div",{className:"flex items-center text-purple-700",children:[t.jsx(Us,{className:"mr-1",size:12}),t.jsxs("span",{className:"text-xs",children:["GPS: ",j.gpsCoordinates.lat.toFixed(4),", ",j.gpsCoordinates.lng.toFixed(4)]})]}),j.notes&&t.jsx("div",{className:"text-xs text-purple-600 italic mt-2",children:j.notes})]})]})]})]})},j.id))})}),v&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl mx-4 shadow-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Détails de la distribution"}),t.jsx("button",{onClick:()=>N(null),className:"text-gray-400 hover:text-gray-600",children:t.jsx(X,{size:24})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ve,{className:"mr-3 text-blue-600",size:32}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:v.qrCode}),t.jsxs("p",{className:"text-sm text-blue-700",children:[v.distributionDate.toLocaleDateString("fr-FR")," à ",v.distributionDate.toLocaleTimeString("fr-FR")]})]})]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-sm border flex items-center ${m(v.verificationStatus)}`,children:[u(v.verificationStatus),t.jsx("span",{className:"ml-1",children:x(v.verificationStatus)})]})]})}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Bénéficiaire"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Nom:"})," ",v.beneficiaryName]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Téléphone:"})," ",v.beneficiaryPhone]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Adresse:"})," ",v.beneficiaryAddress]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Opérateur"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Nom:"})," ",v.operatorName]}),t.jsx("div",{children:t.jsx("strong",{children:"Coordonnées GPS:"})}),t.jsxs("div",{className:"ml-4",children:["Lat: ",v.gpsCoordinates.lat.toFixed(6),t.jsx("br",{}),"Lng: ",v.gpsCoordinates.lng.toFixed(6)]})]})]})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-gray-800 mb-3",children:["Articles distribués (",v.totalItems,")"]}),t.jsx("div",{className:"space-y-2",children:v.items.map((j,f)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:j.productName}),t.jsx("div",{className:"text-sm text-gray-600",children:j.location})]}),t.jsxs("div",{className:"font-bold text-blue-600",children:["x",j.quantity]})]},f))})]}),v.notes&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Notes"}),t.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm",children:v.notes})]})]})]})})]})},xx=()=>{const[e,s]=T.useState([{id:"fraud_001",type:"duplicate_qr",severity:"high",title:"Tentative d'utilisation multiple du QR Code",description:"Le QR code QR-2024-001-003 a été scanné 3 fois en 2 heures par des opérateurs différents",detectedAt:new Date("2024-01-17T14:30:00"),status:"investigating",involvedEntities:{beneficiaryId:"ben_001",beneficiaryName:"Marie Dubois",qrCode:"QR-2024-001-003"},evidence:{duplicateAttempts:3,timeStamp:new Date("2024-01-17T14:30:00")},riskScore:85,investigationNotes:"Vérification en cours avec les opérateurs concernés"},{id:"fraud_002",type:"location_mismatch",severity:"critical",title:"Géolocalisation incohérente",description:"Distribution effectuée à 15km de l'association déclarée",detectedAt:new Date("2024-01-17T16:45:00"),status:"active",involvedEntities:{beneficiaryId:"ben_002",beneficiaryName:"Ahmed Hassan",operatorId:"op_002",operatorName:"Pierre Martin",qrCode:"QR-2024-002-002"},evidence:{gpsCoordinates:{lat:43.1234,lng:5.1234},expectedLocation:"Restos du Cœur Marseille Centre"},riskScore:95},{id:"fraud_003",type:"time_anomaly",severity:"medium",title:"Distribution en dehors des heures d'ouverture",description:"QR code utilisé à 23h45, en dehors des heures d'ouverture de l'association",detectedAt:new Date("2024-01-16T23:45:00"),status:"resolved",involvedEntities:{beneficiaryId:"ben_003",beneficiaryName:"Sophie Martin",operatorId:"op_001",operatorName:"Sophie Laurent"},evidence:{timeStamp:new Date("2024-01-16T23:45:00")},riskScore:65,resolvedBy:"Admin Sécurité",resolvedAt:new Date("2024-01-17T09:00:00"),investigationNotes:"Distribution d'urgence autorisée par le responsable"},{id:"fraud_004",type:"quantity_suspicious",severity:"medium",title:"Quantité anormalement élevée",description:"Distribution de 50 articles pour un foyer de 2 personnes",detectedAt:new Date("2024-01-17T11:20:00"),status:"investigating",involvedEntities:{beneficiaryId:"ben_001",beneficiaryName:"Marie Dubois"},evidence:{suspiciousPattern:"Quantité 5x supérieure à la moyenne"},riskScore:70},{id:"fraud_005",type:"identity_fraud",severity:"critical",title:"Suspicion d'usurpation d'identité",description:"Même numéro de téléphone utilisé pour 3 bénéficiaires différents",detectedAt:new Date("2024-01-17T13:15:00"),status:"active",involvedEntities:{beneficiaryName:"Multiples identités suspectes"},evidence:{suspiciousPattern:"Téléphone: 06 XX XX XX XX utilisé par 3 profils"},riskScore:90}]),[r,n]=T.useState(null),[i,l]=T.useState("all"),[a,o]=T.useState("all"),[c,p]=T.useState("all"),[v,N]=T.useState(""),y={totalAlerts:e.length,activeAlerts:e.filter(f=>f.status==="active").length,resolvedAlerts:e.filter(f=>f.status==="resolved").length,falsePositives:e.filter(f=>f.status==="false_positive").length,criticalAlerts:e.filter(f=>f.severity==="critical").length,averageResolutionTime:4.2,fraudPrevented:12,systemReliability:94.7},P=e.filter(f=>{var G,S;const d=i==="all"||f.severity===i,b=a==="all"||f.status===a,C=c==="all"||f.type===c,I=v===""||f.title.toLowerCase().includes(v.toLowerCase())||f.description.toLowerCase().includes(v.toLowerCase())||((G=f.involvedEntities.beneficiaryName)==null?void 0:G.toLowerCase().includes(v.toLowerCase()))||((S=f.involvedEntities.qrCode)==null?void 0:S.toLowerCase().includes(v.toLowerCase()));return d&&b&&C&&I}),_=f=>{switch(f){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},A=f=>{switch(f){case"active":return"bg-red-100 text-red-800 border-red-300";case"investigating":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"resolved":return"bg-green-100 text-green-800 border-green-300";case"false_positive":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},Q=f=>{switch(f){case"duplicate_qr":return"QR Dupliqué";case"location_mismatch":return"Géolocalisation";case"time_anomaly":return"Horaire Suspect";case"quantity_suspicious":return"Quantité Anormale";case"identity_fraud":return"Usurpation";case"pattern_anomaly":return"Comportement Suspect";default:return"Autre"}},m=f=>{switch(f){case"active":return"Actif";case"investigating":return"En cours";case"resolved":return"Résolu";case"false_positive":return"Faux positif";default:return"Inconnu"}},x=f=>{switch(f){case"active":return t.jsx(He,{size:14});case"investigating":return t.jsx(Ht,{size:14});case"resolved":return t.jsx(ne,{size:14});case"false_positive":return t.jsx(Ym,{size:14});default:return t.jsx(Ce,{size:14})}},u=f=>f>=90?"text-red-600 bg-red-100":f>=70?"text-orange-600 bg-orange-100":f>=50?"text-yellow-600 bg-yellow-100":"text-green-600 bg-green-100",h=(f,d)=>{s(b=>b.map(C=>C.id===f?{...C,status:d,resolvedAt:d==="resolved"?new Date:void 0,resolvedBy:d==="resolved"?"Opérateur Sécurité":void 0}:C))},j=()=>{const f=["RAPPORT DE SÉCURITÉ - DÉTECTION DE FRAUDES",`Généré le: ${new Date().toLocaleDateString("fr-FR")} à ${new Date().toLocaleTimeString("fr-FR")}`,"","MÉTRIQUES GLOBALES:",`- Total alertes: ${y.totalAlerts}`,`- Alertes actives: ${y.activeAlerts}`,`- Alertes critiques: ${y.criticalAlerts}`,`- Fraudes évitées: ${y.fraudPrevented}`,`- Fiabilité système: ${y.systemReliability}%`,"","DÉTAIL DES ALERTES:",...P.map(I=>[`ID: ${I.id}`,`Type: ${Q(I.type)}`,`Sévérité: ${I.severity.toUpperCase()}`,`Statut: ${m(I.status)}`,`Score de risque: ${I.riskScore}/100`,`Détecté le: ${I.detectedAt.toLocaleDateString("fr-FR")}`,`Titre: ${I.title}`,`Description: ${I.description}`,I.involvedEntities.beneficiaryName?`Bénéficiaire: ${I.involvedEntities.beneficiaryName}`:"",I.involvedEntities.qrCode?`QR Code: ${I.involvedEntities.qrCode}`:"",I.investigationNotes?`Notes: ${I.investigationNotes}`:"","---"].filter(Boolean).join(`
`))].join(`
`),d=new Blob([f],{type:"text/plain"}),b=URL.createObjectURL(d),C=document.createElement("a");C.href=b,C.download=`rapport-securite-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(b)};return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-800 text-white p-4 shadow-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(yt,{className:"mr-3",size:28}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold",children:"Sécurité Avancée - Détection de Fraudes"}),t.jsx("p",{className:"text-red-100 text-sm",children:"Surveillance IA • Détection d'anomalies • Protection système"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:j,className:"flex items-center px-4 py-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:[t.jsx($s,{className:"mr-2",size:16}),"Rapport"]}),t.jsxs("div",{className:"text-right text-sm",children:[t.jsxs("div",{className:"font-medium",children:[y.activeAlerts," alertes actives"]}),t.jsxs("div",{className:"text-red-200",children:["Fiabilité: ",y.systemReliability,"%"]})]})]})]})}),t.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"Alertes Critiques"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:y.criticalAlerts}),t.jsx("p",{className:"text-sm text-red-600",children:"Intervention immédiate"})]}),t.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"En Investigation"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.filter(f=>f.status==="investigating").length}),t.jsx("p",{className:"text-sm text-yellow-600",children:"Analyse en cours"})]}),t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Fraudes Évitées"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:y.fraudPrevented}),t.jsx("p",{className:"text-sm text-green-600",children:"Ce mois"})]}),t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Fiabilité Système"}),t.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[y.systemReliability,"%"]}),t.jsx("p",{className:"text-sm text-blue-600",children:"Précision IA"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(dt,{className:"text-gray-400",size:16}),t.jsx("input",{type:"text",placeholder:"Rechercher une alerte...",value:v,onChange:f=>N(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(He,{className:"text-gray-400",size:16}),t.jsxs("select",{value:i,onChange:f=>l(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[t.jsx("option",{value:"all",children:"Toutes sévérités"}),t.jsx("option",{value:"critical",children:"Critique"}),t.jsx("option",{value:"high",children:"Élevée"}),t.jsx("option",{value:"medium",children:"Moyenne"}),t.jsx("option",{value:"low",children:"Faible"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Qr,{className:"text-gray-400",size:16}),t.jsxs("select",{value:a,onChange:f=>o(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[t.jsx("option",{value:"all",children:"Tous statuts"}),t.jsx("option",{value:"active",children:"Actives"}),t.jsx("option",{value:"investigating",children:"En cours"}),t.jsx("option",{value:"resolved",children:"Résolues"}),t.jsx("option",{value:"false_positive",children:"Faux positifs"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(yt,{className:"text-gray-400",size:16}),t.jsxs("select",{value:c,onChange:f=>p(f.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[t.jsx("option",{value:"all",children:"Tous types"}),t.jsx("option",{value:"duplicate_qr",children:"QR Dupliqué"}),t.jsx("option",{value:"location_mismatch",children:"Géolocalisation"}),t.jsx("option",{value:"time_anomaly",children:"Horaire Suspect"}),t.jsx("option",{value:"quantity_suspicious",children:"Quantité Anormale"}),t.jsx("option",{value:"identity_fraud",children:"Usurpation"}),t.jsx("option",{value:"pattern_anomaly",children:"Comportement Suspect"})]})]})]})]}),t.jsx("div",{className:"p-4",children:P.length===0?t.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-md",children:[t.jsx(yt,{className:"mx-auto text-gray-400 mb-4",size:48}),t.jsx("p",{className:"text-gray-600 font-medium",children:"Aucune alerte trouvée"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Modifiez vos filtres de recherche"})]}):t.jsx("div",{className:"space-y-4",children:P.map(f=>t.jsx("div",{className:`bg-white rounded-lg shadow-md border-l-4 overflow-hidden ${f.severity==="critical"?"border-l-red-500":f.severity==="high"?"border-l-orange-500":f.severity==="medium"?"border-l-yellow-500":"border-l-blue-500"}`,children:t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(He,{className:`mr-3 ${f.severity==="critical"?"text-red-600":f.severity==="high"?"text-orange-600":f.severity==="medium"?"text-yellow-600":"text-blue-600"}`,size:24}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:f.title}),t.jsx("p",{className:"text-sm text-gray-600",children:f.description}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Détecté le ",f.detectedAt.toLocaleDateString("fr-FR")," à ",f.detectedAt.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${_(f.severity)}`,children:f.severity.toUpperCase()}),t.jsxs("span",{className:`px-2 py-1 rounded-full text-xs border flex items-center ${A(f.status)}`,children:[x(f.status),t.jsx("span",{className:"ml-1",children:m(f.status)})]}),t.jsx("button",{onClick:()=>n(f),className:"text-red-600 hover:text-red-800 transition-colors",children:t.jsx(Ht,{size:20})})]})]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[t.jsxs("h4",{className:"font-medium text-gray-800 mb-2 flex items-center",children:[t.jsx(fr,{className:"mr-1",size:16}),"Score de Risque"]}),t.jsxs("div",{className:`text-2xl font-bold px-3 py-1 rounded-lg ${u(f.riskScore)}`,children:[f.riskScore,"/100"]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[t.jsxs("h4",{className:"font-medium text-gray-800 mb-2 flex items-center",children:[t.jsx(Ct,{className:"mr-1",size:16}),"Entités Impliquées"]}),t.jsxs("div",{className:"space-y-1 text-sm",children:[f.involvedEntities.beneficiaryName&&t.jsxs("div",{children:[t.jsx("strong",{children:"Bénéficiaire:"})," ",f.involvedEntities.beneficiaryName]}),f.involvedEntities.operatorName&&t.jsxs("div",{children:[t.jsx("strong",{children:"Opérateur:"})," ",f.involvedEntities.operatorName]}),f.involvedEntities.qrCode&&t.jsxs("div",{children:[t.jsx("strong",{children:"QR Code:"})," ",f.involvedEntities.qrCode]})]})]}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[t.jsxs("h4",{className:"font-medium text-gray-800 mb-2 flex items-center",children:[t.jsx(le,{className:"mr-1",size:16}),"Type et Preuves"]}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Type:"})," ",Q(f.type)]}),f.evidence.duplicateAttempts&&t.jsxs("div",{children:[t.jsx("strong",{children:"Tentatives:"})," ",f.evidence.duplicateAttempts]}),f.evidence.suspiciousPattern&&t.jsxs("div",{children:[t.jsx("strong",{children:"Motif:"})," ",f.evidence.suspiciousPattern]})]})]})]}),f.status==="active"&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex space-x-2",children:[t.jsx("button",{onClick:()=>h(f.id,"investigating"),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors text-sm",children:"Enquêter"}),t.jsx("button",{onClick:()=>h(f.id,"resolved"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Résoudre"}),t.jsx("button",{onClick:()=>h(f.id,"false_positive"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Faux Positif"})]})]})},f.id))})}),r&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl mx-4 shadow-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Détails de l'alerte de sécurité"}),t.jsx("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Nt,{size:24})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:`border-l-4 rounded-lg p-4 ${r.severity==="critical"?"border-l-red-500 bg-red-50":r.severity==="high"?"border-l-orange-500 bg-orange-50":r.severity==="medium"?"border-l-yellow-500 bg-yellow-50":"border-l-blue-500 bg-blue-50"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"text-lg font-semibold",children:r.title}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${_(r.severity)}`,children:r.severity.toUpperCase()}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs border ${A(r.status)}`,children:m(r.status)})]})]}),t.jsx("p",{className:"text-sm mb-2",children:r.description}),t.jsxs("div",{className:"text-xs text-gray-600",children:["ID: ",r.id," • Score de risque: ",r.riskScore,"/100"]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Informations Générales"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("strong",{children:"Type:"})," ",Q(r.type)]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Détecté le:"})," ",r.detectedAt.toLocaleDateString("fr-FR")," à ",r.detectedAt.toLocaleTimeString("fr-FR")]}),t.jsxs("div",{children:[t.jsx("strong",{children:"Statut:"})," ",m(r.status)]}),r.resolvedBy&&t.jsxs("div",{children:[t.jsx("strong",{children:"Résolu par:"})," ",r.resolvedBy]}),r.resolvedAt&&t.jsxs("div",{children:[t.jsx("strong",{children:"Résolu le:"})," ",r.resolvedAt.toLocaleDateString("fr-FR")]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Entités Impliquées"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[r.involvedEntities.beneficiaryName&&t.jsxs("div",{children:[t.jsx("strong",{children:"Bénéficiaire:"})," ",r.involvedEntities.beneficiaryName]}),r.involvedEntities.operatorName&&t.jsxs("div",{children:[t.jsx("strong",{children:"Opérateur:"})," ",r.involvedEntities.operatorName]}),r.involvedEntities.qrCode&&t.jsxs("div",{children:[t.jsx("strong",{children:"QR Code:"})," ",r.involvedEntities.qrCode]}),r.involvedEntities.associationId&&t.jsxs("div",{children:[t.jsx("strong",{children:"Association:"})," ",r.involvedEntities.associationId]})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Preuves et Données"}),t.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:t.jsxs("div",{className:"space-y-2 text-sm",children:[r.evidence.gpsCoordinates&&t.jsxs("div",{children:[t.jsx("strong",{children:"Coordonnées GPS:"}),"Lat: ",r.evidence.gpsCoordinates.lat.toFixed(6),", Lng: ",r.evidence.gpsCoordinates.lng.toFixed(6)]}),r.evidence.expectedLocation&&t.jsxs("div",{children:[t.jsx("strong",{children:"Lieu attendu:"})," ",r.evidence.expectedLocation]}),r.evidence.duplicateAttempts&&t.jsxs("div",{children:[t.jsx("strong",{children:"Tentatives multiples:"})," ",r.evidence.duplicateAttempts]}),r.evidence.timeStamp&&t.jsxs("div",{children:[t.jsx("strong",{children:"Horodatage:"})," ",r.evidence.timeStamp.toLocaleString("fr-FR")]}),r.evidence.suspiciousPattern&&t.jsxs("div",{children:[t.jsx("strong",{children:"Motif suspect:"})," ",r.evidence.suspiciousPattern]})]})})]}),r.investigationNotes&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Notes d'Investigation"}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-sm",children:r.investigationNotes})]}),r.status==="active"&&t.jsxs("div",{className:"flex space-x-2 pt-4 border-t border-gray-200",children:[t.jsx("button",{onClick:()=>{h(r.id,"investigating"),n(null)},className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Commencer l'enquête"}),t.jsx("button",{onClick:()=>{h(r.id,"resolved"),n(null)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Marquer comme résolu"}),t.jsx("button",{onClick:()=>{h(r.id,"false_positive"),n(null)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Faux positif"})]})]})]})})]})},px=({serviceId:e,onBack:s})=>{const r=()=>{switch(e){case"smart-inventory":return t.jsx(dx,{});case"stock-management":return t.jsx(ux,{});case"qr-distribution":return t.jsx(mx,{});case"fraud-detection":return t.jsx(xx,{});case"critical-alerts":return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[t.jsx(He,{className:"mr-3 text-orange-600",size:28}),"Alertes Stocks Critiques"]}),t.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-orange-800 mb-4",children:"Système d'Alertes Automatiques"}),t.jsx("p",{className:"text-orange-700 mb-4",children:"Ce système surveille en permanence vos stocks et génère automatiquement des demandes aux ménages lorsque le seuil critique de 6 articles est atteint."}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white border border-orange-300 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Fonctionnalités"}),t.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[t.jsx("li",{children:"• Surveillance temps réel des stocks"}),t.jsx("li",{children:"• Seuil critique configurable (défaut: 6 articles)"}),t.jsx("li",{children:"• Demandes automatiques aux 127 ménages"}),t.jsx("li",{children:"• Suivi des réponses et dons reçus"})]})]}),t.jsxs("div",{className:"bg-white border border-orange-300 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Intégration"}),t.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[t.jsx("li",{children:'• Intégré dans "Gestion Intelligente des Stocks"'}),t.jsx("li",{children:"• Notifications push aux ménages"}),t.jsx("li",{children:"• Traçabilité complète des demandes"}),t.jsx("li",{children:"• Statistiques de réponse en temps réel"})]})]})]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:'Pour accéder aux alertes stocks critiques, rendez-vous dans la pastille "Gestion Intelligente des Stocks" - Colonne "Alertes Actives"'}),t.jsx("button",{onClick:()=>window.location.reload(),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:"Aller à la Gestion des Stocks"})]})]});case"stock-analytics":return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[t.jsx(yr,{className:"mr-3 text-indigo-600",size:28}),"Analyse des Stocks"]}),t.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-6 mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-indigo-800 mb-4",children:"Analytics et Prévisions"}),t.jsx("p",{className:"text-indigo-700 mb-4",children:"Module d'analyse avancée des stocks avec tendances, prévisions et optimisation basée sur l'intelligence artificielle et les données historiques."}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white border border-indigo-300 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-indigo-800 mb-2",children:"Tendances"}),t.jsxs("ul",{className:"text-sm text-indigo-700 space-y-1",children:[t.jsx("li",{children:"• Évolution des stocks par période"}),t.jsx("li",{children:"• Saisonnalité des dons"}),t.jsx("li",{children:"• Pics de demande"})]})]}),t.jsxs("div",{className:"bg-white border border-indigo-300 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-indigo-800 mb-2",children:"Prévisions IA"}),t.jsxs("ul",{className:"text-sm text-indigo-700 space-y-1",children:[t.jsx("li",{children:"• Prédiction des ruptures"}),t.jsx("li",{children:"• Optimisation des commandes"}),t.jsx("li",{children:"• Planification des distributions"})]})]}),t.jsxs("div",{className:"bg-white border border-indigo-300 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-indigo-800 mb-2",children:"Optimisation"}),t.jsxs("ul",{className:"text-sm text-indigo-700 space-y-1",children:[t.jsx("li",{children:"• Réduction du gaspillage"}),t.jsx("li",{children:"• Amélioration du FIFO"}),t.jsx("li",{children:"• Efficacité logistique"})]})]})]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"Module en cours de développement - Disponible dans la prochaine version"}),t.jsx("button",{onClick:s,className:"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition-colors",children:"Retour aux services"})]})]});default:return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"Service en développement"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Ce service sera bientôt disponible."}),t.jsx("button",{onClick:s,className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors",children:"Retour aux services"})]})}};return t.jsx("div",{className:"min-h-screen",children:r()})},hx=({serviceId:e,onBack:s})=>{const r=()=>{switch(e){case"new-request":return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[t.jsx(Pe,{className:"mr-3 text-orange-600",size:28}),"Nouvelle Demande d'Aide"]}),t.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 border border-orange-200 rounded-lg p-6 mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-orange-800 mb-4",children:"Demande anonyme sécurisée"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de demande"}),t.jsxs("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[t.jsx("option",{children:"Aide alimentaire générale"}),t.jsx("option",{children:"Aide d'urgence"}),t.jsx("option",{children:"Produits d'hygiène"}),t.jsx("option",{children:"Produits pour bébé"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Articles souhaités"}),t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:["Riz","Pâtes","Lait","Pain","Légumes","Fruits","Conserves","Huile","Sucre","Céréales"].map(n=>t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"mr-2 text-orange-600"}),t.jsx("span",{children:n})]},n))})]}),t.jsx("button",{className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:"Envoyer la demande anonyme"})]})]})]});case"history":return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[t.jsx(We,{className:"mr-3 text-blue-600",size:28}),"Historique de mes Demandes"]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Colis retirés"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:"8"}),t.jsx("p",{className:"text-sm text-green-600",children:"Ce trimestre"})]}),t.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"En cours"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:"2"}),t.jsx("p",{className:"text-sm text-yellow-600",children:"Demandes actives"})]}),t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Accompagnement"}),t.jsx("p",{className:"text-xl font-bold text-blue-600",children:"Sophie L."}),t.jsx("p",{className:"text-sm text-blue-600",children:"Référente"})]})]}),t.jsx("div",{className:"space-y-4",children:[{id:"1",status:"collected",items:["Riz 2kg","Lait 4L"],date:"2024-01-12"},{id:"2",status:"approved",items:["Légumes","Fruits"],date:"2024-01-15"},{id:"3",status:"pending",items:["Pain","Céréales"],date:"2024-01-16"}].map(n=>t.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("h4",{className:"font-semibold",children:["Demande #",n.id]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${n.status==="collected"?"bg-green-100 text-green-600":n.status==="approved"?"bg-blue-100 text-blue-600":"bg-yellow-100 text-yellow-600"}`,children:n.status==="collected"?"Retiré":n.status==="approved"?"Approuvé":"En cours"})]}),t.jsxs("p",{className:"text-sm text-gray-600",children:[n.items.join(", ")," • ",n.date]})]},n.id))})]});case"qr-codes":return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[t.jsx(ve,{className:"mr-3 text-green-600",size:28}),"Mes QR Codes Sécurisés"]}),t.jsxs("div",{className:"border-2 border-green-200 rounded-xl p-6 bg-gradient-to-r from-green-50 to-green-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"QR Code - Demande #1"}),t.jsx("p",{className:"text-green-600",children:"Valide pour retrait avec géolocalisation"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-24 h-24 bg-white border-2 border-green-300 rounded-lg flex items-center justify-center mb-2",children:t.jsx(ve,{size:48,className:"text-green-600"})}),t.jsx("p",{className:"text-xs text-green-600 font-mono",children:"QR12024"})]})]}),t.jsxs("div",{className:"bg-white border border-green-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Instructions de retrait:"}),t.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[t.jsx("li",{children:"• Présentez-vous à l'association avec ce QR code"}),t.jsx("li",{children:"• Géolocalisation automatiquement vérifiée"}),t.jsx("li",{children:"• Heures d'ouverture: Mar-Jeu 14h-17h, Sam 9h-12h"}),t.jsx("li",{children:"• Validité: 48h restantes"})]})]})]})]});case"profile":return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("h2",{className:"text-2xl font-semibold mb-6 flex items-center",children:[t.jsx(yt,{className:"mr-3 text-purple-600",size:28}),"Mon Profil Validé"]}),t.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-4",children:"Profil vérifié et sécurisé"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Informations validées:"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ne,{className:"text-green-500 mr-2",size:16}),t.jsx("span",{className:"text-sm",children:"Code unique: PDS-2024-156"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(ne,{className:"text-green-500 mr-2",size:16}),t.jsx("span",{className:"text-sm",children:"Documents vérifiés par IA (96%)"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(ne,{className:"text-green-500 mr-2",size:16}),t.jsx("span",{className:"text-sm",children:"Validation CAF confirmée"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium mb-3",children:"Accompagnement:"}),t.jsxs("div",{className:"bg-white border border-purple-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(cu,{className:"text-blue-500 mr-2",size:16}),t.jsx("span",{className:"font-medium",children:"Sophie L."})]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Travailleur social référent"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Validation effectuée le 12/01/2024"})]})]})]})]})]});default:return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"Service en développement"}),t.jsx("p",{className:"text-gray-500 mb-6",children:"Ce service sera bientôt disponible."}),t.jsx("button",{onClick:s,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:"Retour aux services"})]})}};return t.jsx("div",{className:"min-h-screen",children:r()})},fx=({serviceId:e,profileType:s,onBack:r})=>{const n=()=>{switch(s){case"household":return t.jsx(lx,{serviceId:e,onBack:r});case"social_worker":return t.jsx(cx,{serviceId:e,onBack:r});case"association":return t.jsx(px,{serviceId:e,onBack:r});case"beneficiary":return t.jsx(hx,{serviceId:e,onBack:r});default:return t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"Service non trouvé"}),t.jsx("button",{onClick:r,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Retour aux services"})]})}};return t.jsx("div",{className:"min-h-screen",children:n()})},gx=({profileType:e,onBack:s})=>{const[r,n]=T.useState(null),l={household:{title:"Ménage",subtitle:"Scanner IA • Dons solidaires • Services premium",gradient:"from-emerald-600 to-teal-600",bgGradient:"from-emerald-50 to-teal-50",icon:Bt},social_worker:{title:"Travailleur Social",subtitle:"Validation sécurisée • API CAF • QR géolocalisés",gradient:"from-blue-600 to-indigo-600",bgGradient:"from-blue-50 to-indigo-50",icon:ui},association:{title:"Association",subtitle:"Scanner automatique • Alertes IA • QR géolocalisé",gradient:"from-purple-600 to-indigo-600",bgGradient:"from-purple-50 to-indigo-50",icon:le},beneficiary:{title:"Bénéficiaire",subtitle:"Accompagnement validé • Demandes anonymes • QR sécurisés",gradient:"from-orange-600 to-red-600",bgGradient:"from-orange-50 to-red-50",icon:Pe}}[e],a=l.icon,o=()=>{n(null)},c=()=>{switch(e){case"household":return t.jsx(Km,{onSelectService:n,selectedService:r});case"social_worker":return t.jsx(Jm,{onSelectService:n,selectedService:r});case"association":return t.jsx(ex,{onSelectService:n,selectedService:r});case"beneficiary":return t.jsx(tx,{onSelectService:n,selectedService:r});default:return null}};return t.jsxs("div",{className:`min-h-screen bg-gradient-to-br ${l.bgGradient}`,children:[t.jsx("div",{className:`bg-gradient-to-r ${l.gradient} text-white p-4 shadow-lg`,children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("button",{onClick:r?o:s,className:"flex items-center text-white/80 hover:text-white mb-3 transition-colors",children:[t.jsx(lu,{className:"mr-2",size:20}),r?"Retour aux services":"Retour aux profils"]}),t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(a,{className:"mr-3",size:32}),t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold",children:l.title}),t.jsx("p",{className:"text-white/90 text-sm",children:l.subtitle})]})]})]})}),t.jsx("div",{className:"max-w-7xl mx-auto p-6",children:r?t.jsx(fx,{serviceId:r,profileType:e,onBack:o}):c()})]})};function vx(){const[e,s]=T.useState(null),r=i=>{s(i)},n=()=>{s(null)};return t.jsx("div",{className:"min-h-screen",children:e?t.jsx(gx,{profileType:e,onBack:n}):t.jsx(Xm,{onSelectProfile:r})})}iu(document.getElementById("root")).render(t.jsx(T.StrictMode,{children:t.jsx(vx,{})}));
